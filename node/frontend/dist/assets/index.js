(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=e(s);fetch(s.href,i)}})();function D(){}function zt(o,t){for(const e in t)o[e]=t[e];return o}function to(o){return o()}function xt(){return Object.create(null)}function me(o){o.forEach(to)}function bt(o){return typeof o=="function"}function Le(o,t){return o!=o?t==t:o!==t||o&&typeof o=="object"||typeof o=="function"}let ut;function Ve(o,t){return ut||(ut=document.createElement("a")),ut.href=t,o===ut.href}function bo(o){return Object.keys(o).length===0}function Dt(o,...t){if(o==null)return D;const e=o.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function yo(o){let t;return Dt(o,e=>t=e)(),t}function ke(o,t,e){o.$$.on_destroy.push(Dt(t,e))}function en(o,t,e,n){if(o){const s=no(o,t,e,n);return o[0](s)}}function no(o,t,e,n){return o[1]&&n?zt(e.ctx.slice(),o[1](n(t))):e.ctx}function tn(o,t,e,n){if(o[2]&&n){const s=o[2](n(e));if(t.dirty===void 0)return s;if(typeof s=="object"){const i=[],l=Math.max(t.dirty.length,s.length);for(let r=0;r<l;r+=1)i[r]=t.dirty[r]|s[r];return i}return t.dirty|s}return t.dirty}function nn(o,t,e,n,s,i){if(s){const l=no(t,e,n,i);o.p(l,s)}}function on(o){if(o.ctx.length>32){const t=[],e=o.ctx.length/32;for(let n=0;n<e;n++)t[n]=-1;return t}return-1}function sn(o){return o==null?"":o}function oo(o,t,e){return o.set(e),t}function ln(o){return o&&bt(o.destroy)?o.destroy:D}function d(o,t){o.appendChild(t)}function S(o,t,e){o.insertBefore(t,e||null)}function k(o){o.parentNode.removeChild(o)}function Te(o,t){for(let e=0;e<o.length;e+=1)o[e]&&o[e].d(t)}function h(o){return document.createElement(o)}function qe(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function z(o){return document.createTextNode(o)}function A(){return z(" ")}function He(){return z("")}function W(o,t,e,n){return o.addEventListener(t,e,n),()=>o.removeEventListener(t,e,n)}function c(o,t,e){e==null?o.removeAttribute(t):o.getAttribute(t)!==e&&o.setAttribute(t,e)}function wo(o){return Array.from(o.childNodes)}function ne(o,t){t=""+t,o.wholeText!==t&&(o.data=t)}function ce(o,t){o.value=t==null?"":t}function rn(o,t){for(let e=0;e<o.options.length;e+=1){const n=o.options[e];if(n.__value===t){n.selected=!0;return}}o.selectedIndex=-1}function ko(o){const t=o.querySelector(":checked")||o.options[0];return t&&t.__value}function Y(o,t,e){o.classList[e?"add":"remove"](t)}function Co(o,t,{bubbles:e=!1,cancelable:n=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(o,e,n,t),s}let tt;function xe(o){tt=o}function yt(){if(!tt)throw new Error("Function called outside component initialization");return tt}function wt(o){yt().$$.on_mount.push(o)}function So(o){yt().$$.after_update.push(o)}function Oo(o){yt().$$.on_destroy.push(o)}function Lo(){const o=yt();return(t,e,{cancelable:n=!1}={})=>{const s=o.$$.callbacks[t];if(s){const i=Co(t,e,{cancelable:n});return s.slice().forEach(l=>{l.call(o,i)}),!i.defaultPrevented}return!0}}function an(o,t){const e=o.$$.callbacks[t.type];e&&e.slice().forEach(n=>n.call(this,t))}const Ze=[],cn=[],pt=[],un=[],so=Promise.resolve();let Rt=!1;function io(){Rt||(Rt=!0,so.then(ro))}function lo(){return io(),so}function mt(o){pt.push(o)}const Nt=new Set;let ft=0;function ro(){const o=tt;do{for(;ft<Ze.length;){const t=Ze[ft];ft++,xe(t),Po(t.$$)}for(xe(null),Ze.length=0,ft=0;cn.length;)cn.pop()();for(let t=0;t<pt.length;t+=1){const e=pt[t];Nt.has(e)||(Nt.add(e),e())}pt.length=0}while(Ze.length);for(;un.length;)un.pop()();Rt=!1,Nt.clear(),xe(o)}function Po(o){if(o.fragment!==null){o.update(),me(o.before_update);const t=o.dirty;o.dirty=[-1],o.fragment&&o.fragment.p(o.ctx,t),o.after_update.forEach(mt)}}const ht=new Set;let Je;function Ie(){Je={r:0,c:[],p:Je}}function Ue(){Je.r||me(Je.c),Je=Je.p}function M(o,t){o&&o.i&&(ht.delete(o),o.i(t))}function H(o,t,e,n){if(o&&o.o){if(ht.has(o))return;ht.add(o),Je.c.push(()=>{ht.delete(o),n&&(e&&o.d(1),n())}),o.o(t)}else n&&n()}function ao(o,t){const e={},n={},s={$$scope:1};let i=o.length;for(;i--;){const l=o[i],r=t[i];if(r){for(const a in l)a in r||(n[a]=1);for(const a in r)s[a]||(e[a]=r[a],s[a]=1);o[i]=r}else for(const a in l)s[a]=1}for(const l in n)l in e||(e[l]=void 0);return e}function co(o){return typeof o=="object"&&o!==null?o:{}}function he(o){o&&o.c()}function ue(o,t,e,n){const{fragment:s,on_mount:i,on_destroy:l,after_update:r}=o.$$;s&&s.m(t,e),n||mt(()=>{const a=i.map(to).filter(bt);l?l.push(...a):me(a),o.$$.on_mount=[]}),r.forEach(mt)}function fe(o,t){const e=o.$$;e.fragment!==null&&(me(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function Ao(o,t){o.$$.dirty[0]===-1&&(Ze.push(o),io(),o.$$.dirty.fill(0)),o.$$.dirty[t/31|0]|=1<<t%31}function Pe(o,t,e,n,s,i,l,r=[-1]){const a=tt;xe(o);const u=o.$$={fragment:null,ctx:null,props:i,update:D,not_equal:s,bound:xt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:xt(),dirty:r,skip_bound:!1,root:t.target||a.$$.root};l&&l(u.root);let f=!1;if(u.ctx=e?e(o,t.props||{},(v,m,...g)=>{const b=g.length?g[0]:m;return u.ctx&&s(u.ctx[v],u.ctx[v]=b)&&(!u.skip_bound&&u.bound[v]&&u.bound[v](b),f&&Ao(o,v)),m}):[],u.update(),f=!0,me(u.before_update),u.fragment=n?n(u.ctx):!1,t.target){if(t.hydrate){const v=wo(t.target);u.fragment&&u.fragment.l(v),v.forEach(k)}else u.fragment&&u.fragment.c();t.intro&&M(o.$$.fragment),ue(o,t.target,t.anchor,t.customElement),ro()}xe(a)}class Ae{$destroy(){fe(this,1),this.$destroy=D}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const s=n.indexOf(e);s!==-1&&n.splice(s,1)}}$set(t){this.$$set&&!bo(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ye=[];function uo(o,t){return{subscribe:ze(o,t).subscribe}}function ze(o,t=D){let e;const n=new Set;function s(r){if(Le(o,r)&&(o=r,e)){const a=!Ye.length;for(const u of n)u[1](),Ye.push(u,o);if(a){for(let u=0;u<Ye.length;u+=2)Ye[u][0](Ye[u+1]);Ye.length=0}}}function i(r){s(r(o))}function l(r,a=D){const u=[r,a];return n.add(u),n.size===1&&(e=t(s)||D),r(o),()=>{n.delete(u),n.size===0&&(e(),e=null)}}return{set:s,update:i,subscribe:l}}function fo(o,t,e){const n=!Array.isArray(o),s=n?[o]:o,i=t.length<2;return uo(e,l=>{let r=!1;const a=[];let u=0,f=D;const v=()=>{if(u)return;f();const g=t(n?a[0]:a,l);i?l(g):f=bt(g)?g:D},m=s.map((g,b)=>Dt(g,p=>{a[b]=p,u&=~(1<<b),r&&v()},()=>{u|=1<<b}));return r=!0,v(),function(){me(m),f()}})}function jo(o,t){if(o instanceof RegExp)return{keys:!1,pattern:o};var e,n,s,i,l=[],r="",a=o.split("/");for(a[0]||a.shift();s=a.shift();)e=s[0],e==="*"?(l.push("wild"),r+="/(.*)"):e===":"?(n=s.indexOf("?",1),i=s.indexOf(".",1),l.push(s.substring(1,~n?n:~i?i:s.length)),r+=!!~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(r+=(~n?"?":"")+"\\"+s.substring(i))):r+="/"+s;return{keys:l,pattern:new RegExp("^"+r+(t?"(?=$|/)":"/?$"),"i")}}function Eo(o){let t,e,n;const s=[o[2]];var i=o[0];function l(r){let a={};for(let u=0;u<s.length;u+=1)a=zt(a,s[u]);return{props:a}}return i&&(t=new i(l()),t.$on("routeEvent",o[7])),{c(){t&&he(t.$$.fragment),e=He()},m(r,a){t&&ue(t,r,a),S(r,e,a),n=!0},p(r,a){const u=a&4?ao(s,[co(r[2])]):{};if(i!==(i=r[0])){if(t){Ie();const f=t;H(f.$$.fragment,1,0,()=>{fe(f,1)}),Ue()}i?(t=new i(l()),t.$on("routeEvent",r[7]),he(t.$$.fragment),M(t.$$.fragment,1),ue(t,e.parentNode,e)):t=null}else i&&t.$set(u)},i(r){n||(t&&M(t.$$.fragment,r),n=!0)},o(r){t&&H(t.$$.fragment,r),n=!1},d(r){r&&k(e),t&&fe(t,r)}}}function To(o){let t,e,n;const s=[{params:o[1]},o[2]];var i=o[0];function l(r){let a={};for(let u=0;u<s.length;u+=1)a=zt(a,s[u]);return{props:a}}return i&&(t=new i(l()),t.$on("routeEvent",o[6])),{c(){t&&he(t.$$.fragment),e=He()},m(r,a){t&&ue(t,r,a),S(r,e,a),n=!0},p(r,a){const u=a&6?ao(s,[a&2&&{params:r[1]},a&4&&co(r[2])]):{};if(i!==(i=r[0])){if(t){Ie();const f=t;H(f.$$.fragment,1,0,()=>{fe(f,1)}),Ue()}i?(t=new i(l()),t.$on("routeEvent",r[6]),he(t.$$.fragment),M(t.$$.fragment,1),ue(t,e.parentNode,e)):t=null}else i&&t.$set(u)},i(r){n||(t&&M(t.$$.fragment,r),n=!0)},o(r){t&&H(t.$$.fragment,r),n=!1},d(r){r&&k(e),t&&fe(t,r)}}}function No(o){let t,e,n,s;const i=[To,Eo],l=[];function r(a,u){return a[1]?0:1}return t=r(o),e=l[t]=i[t](o),{c(){e.c(),n=He()},m(a,u){l[t].m(a,u),S(a,n,u),s=!0},p(a,[u]){let f=t;t=r(a),t===f?l[t].p(a,u):(Ie(),H(l[f],1,1,()=>{l[f]=null}),Ue(),e=l[t],e?e.p(a,u):(e=l[t]=i[t](a),e.c()),M(e,1),e.m(n.parentNode,n))},i(a){s||(M(e),s=!0)},o(a){H(e),s=!1},d(a){l[t].d(a),a&&k(n)}}}function fn(){const o=window.location.href.indexOf("#/");let t=o>-1?window.location.href.substr(o+1):"/";const e=t.indexOf("?");let n="";return e>-1&&(n=t.substr(e+1),t=t.substr(0,e)),{location:t,querystring:n}}const Mt=uo(null,function(t){t(fn());const e=()=>{t(fn())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}),Ro=fo(Mt,o=>o.location),qo=fo(Mt,o=>o.querystring),dn=ze(void 0);async function Ee(o){if(!o||o.length<1||o.charAt(0)!="/"&&o.indexOf("#/")!==0)throw Error("Invalid parameter location");await lo(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(o.charAt(0)=="#"?"":"#")+o}function Io(o){o?window.scrollTo(o.__svelte_spa_router_scrollX,o.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Uo(o,t,e){let{routes:n={}}=t,{prefix:s=""}=t,{restoreScrollState:i=!1}=t;class l{constructor(L,N){if(!N||typeof N!="function"&&(typeof N!="object"||N._sveltesparouter!==!0))throw Error("Invalid component object");if(!L||typeof L=="string"&&(L.length<1||L.charAt(0)!="/"&&L.charAt(0)!="*")||typeof L=="object"&&!(L instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:E,keys:J}=jo(L);this.path=L,typeof N=="object"&&N._sveltesparouter===!0?(this.component=N.component,this.conditions=N.conditions||[],this.userData=N.userData,this.props=N.props||{}):(this.component=()=>Promise.resolve(N),this.conditions=[],this.props={}),this._pattern=E,this._keys=J}match(L){if(s){if(typeof s=="string")if(L.startsWith(s))L=L.substr(s.length)||"/";else return null;else if(s instanceof RegExp){const T=L.match(s);if(T&&T[0])L=L.substr(T[0].length)||"/";else return null}}const N=this._pattern.exec(L);if(N===null)return null;if(this._keys===!1)return N;const E={};let J=0;for(;J<this._keys.length;){try{E[this._keys[J]]=decodeURIComponent(N[J+1]||"")||null}catch{E[this._keys[J]]=null}J++}return E}async checkConditions(L){for(let N=0;N<this.conditions.length;N++)if(!await this.conditions[N](L))return!1;return!0}}const r=[];n instanceof Map?n.forEach((C,L)=>{r.push(new l(L,C))}):Object.keys(n).forEach(C=>{r.push(new l(C,n[C]))});let a=null,u=null,f={};const v=Lo();async function m(C,L){await lo(),v(C,L)}let g=null,b=null;i&&(b=C=>{C.state&&(C.state.__svelte_spa_router_scrollY||C.state.__svelte_spa_router_scrollX)?g=C.state:g=null},window.addEventListener("popstate",b),So(()=>{Io(g)}));let p=null,w=null;const y=Mt.subscribe(async C=>{p=C;let L=0;for(;L<r.length;){const N=r[L].match(C.location);if(!N){L++;continue}const E={route:r[L].path,location:C.location,querystring:C.querystring,userData:r[L].userData,params:N&&typeof N=="object"&&Object.keys(N).length?N:null};if(!await r[L].checkConditions(E)){e(0,a=null),w=null,m("conditionsFailed",E);return}m("routeLoading",Object.assign({},E));const J=r[L].component;if(w!=J){J.loading?(e(0,a=J.loading),w=J,e(1,u=J.loadingParams),e(2,f={}),m("routeLoaded",Object.assign({},E,{component:a,name:a.name,params:u}))):(e(0,a=null),w=null);const T=await J();if(C!=p)return;e(0,a=T&&T.default||T),w=J}N&&typeof N=="object"&&Object.keys(N).length?e(1,u=N):e(1,u=null),e(2,f=r[L].props),m("routeLoaded",Object.assign({},E,{component:a,name:a.name,params:u})).then(()=>{dn.set(u)});return}e(0,a=null),w=null,dn.set(void 0)});Oo(()=>{y(),b&&window.removeEventListener("popstate",b)});function O(C){an.call(this,o,C)}function _(C){an.call(this,o,C)}return o.$$set=C=>{"routes"in C&&e(3,n=C.routes),"prefix"in C&&e(4,s=C.prefix),"restoreScrollState"in C&&e(5,i=C.restoreScrollState)},o.$$.update=()=>{o.$$.dirty&32&&(history.scrollRestoration=i?"manual":"auto")},[a,u,f,n,s,i,O,_]}class zo extends Ae{constructor(t){super(),Pe(this,t,Uo,No,Le,{routes:3,prefix:4,restoreScrollState:5})}}var qt=function(o,t){return qt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])},qt(o,t)};function le(o,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=o}qt(o,t),o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var It=function(){return It=Object.assign||function(o){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(o[s]=t[s]);return o},It.apply(this,arguments)};function Be(o,t,e,n){return new(e||(e=Promise))(function(s,i){function l(u){try{a(n.next(u))}catch(f){i(f)}}function r(u){try{a(n.throw(u))}catch(f){i(f)}}function a(u){var f;u.done?s(u.value):(f=u.value,f instanceof e?f:new e(function(v){v(f)})).then(l,r)}a((n=n.apply(o,t||[])).next())})}function Ge(o,t){var e,n,s,i,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function r(a){return function(u){return function(f){if(e)throw new TypeError("Generator is already executing.");for(;l;)try{if(e=1,n&&(s=2&f[0]?n.return:f[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,f[1])).done)return s;switch(n=0,s&&(f=[2&f[0],s.value]),f[0]){case 0:case 1:s=f;break;case 4:return l.label++,{value:f[1],done:!1};case 5:l.label++,n=f[1],f=[0];continue;case 7:f=l.ops.pop(),l.trys.pop();continue;default:if(s=l.trys,!((s=s.length>0&&s[s.length-1])||f[0]!==6&&f[0]!==2)){l=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){l.label=f[1];break}if(f[0]===6&&l.label<s[1]){l.label=s[1],s=f;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(f);break}s[2]&&l.ops.pop(),l.trys.pop();continue}f=t.call(o,l)}catch(v){f=[6,v],n=0}finally{e=s=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([a,u])}}}var po,pn=function(o){function t(e){var n,s=this;return(s=o.call(this,"ClientResponseError")||this).url="",s.status=0,s.data={},s.isAbort=!1,s.originalError=null,Object.setPrototypeOf(s,t.prototype),e instanceof t||(s.originalError=e),e!==null&&typeof e=="object"&&(s.url=typeof e.url=="string"?e.url:"",s.status=typeof e.status=="number"?e.status:0,s.data=e.data!==null&&typeof e.data=="object"?e.data:{}),typeof DOMException<"u"&&e instanceof DOMException&&(s.isAbort=!0),s.name="ClientResponseError "+s.status,s.message=((n=s.data)===null||n===void 0?void 0:n.message)||"Something went wrong while processing your request.",s}return le(t,o),t.prototype.toJSON=function(){return It({},this)},t}(Error),dt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function hn(o,t,e){var n=Object.assign({},e||{}),s=n.encode||Mo;if(!dt.test(o))throw new TypeError("argument name is invalid");var i=s(t);if(i&&!dt.test(i))throw new TypeError("argument val is invalid");var l=o+"="+i;if(n.maxAge!=null){var r=n.maxAge-0;if(isNaN(r)||!isFinite(r))throw new TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(r)}if(n.domain){if(!dt.test(n.domain))throw new TypeError("option domain is invalid");l+="; Domain="+n.domain}if(n.path){if(!dt.test(n.path))throw new TypeError("option path is invalid");l+="; Path="+n.path}if(n.expires){if(!function(a){return Object.prototype.toString.call(a)==="[object Date]"||a instanceof Date}(n.expires)||isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");l+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(l+="; HttpOnly"),n.secure&&(l+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return l}function Do(o){return o.indexOf("%")!==-1?decodeURIComponent(o):o}function Mo(o){return encodeURIComponent(o)}function mn(o){if(o)try{var t=decodeURIComponent(po(o.split(".")[1]).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)||{}}catch{}return{}}po=typeof atob=="function"?atob:function(o){return Buffer=global.Buffer||require("buffer").Buffer,Buffer.from(o,"base64").toString("binary")};var Qe=function(){function o(t){t===void 0&&(t={}),this.load(t||{})}return o.prototype.load=function(t){this.id=t.id!==void 0?t.id:"",this.created=t.created!==void 0?t.created:"",this.updated=t.updated!==void 0?t.updated:""},Object.defineProperty(o.prototype,"isNew",{get:function(){return!this.id||this.id==="00000000-0000-0000-0000-000000000000"},enumerable:!1,configurable:!0}),o.prototype.clone=function(){return new this.constructor(JSON.parse(JSON.stringify(this)))},o.prototype.export=function(){return Object.assign({},this)},o}(),ho=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return le(t,o),t.prototype.load=function(e){o.prototype.load.call(this,e);for(var n=0,s=Object.entries(e);n<s.length;n++){var i=s[n],l=i[0],r=i[1];this[l]=r}this["@collectionId"]=e["@collectionId"]!==void 0?e["@collectionId"]:"",this["@collectionName"]=e["@collectionName"]!==void 0?e["@collectionName"]:"",this["@expand"]=e["@expand"]!==void 0?e["@expand"]:{}},t}(Qe),vt=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return le(t,o),t.prototype.load=function(e){o.prototype.load.call(this,e),this.email=typeof e.email=="string"?e.email:"",this.verified=!!e.verified,this.lastResetSentAt=typeof e.lastResetSentAt=="string"?e.lastResetSentAt:"",this.lastVerificationSentAt=typeof e.lastVerificationSentAt=="string"?e.lastVerificationSentAt:"",this.profile=e.profile?new ho(e.profile):null},t}(Qe),Ft=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return le(t,o),t.prototype.load=function(e){o.prototype.load.call(this,e),this.avatar=typeof e.avatar=="number"?e.avatar:0,this.email=typeof e.email=="string"?e.email:"",this.lastResetSentAt=typeof e.lastResetSentAt=="string"?e.lastResetSentAt:""},t}(Qe),Fo=function(){function o(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(o.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isValid",{get:function(){return!function(t,e){e===void 0&&(e=0);var n=mn(t);return!(Object.keys(n).length>0&&(!n.exp||n.exp-e>Date.now()/1e3))}(this.token)},enumerable:!1,configurable:!0}),o.prototype.save=function(t,e){this.baseToken=t||"",this.baseModel=e!==null&&typeof e=="object"?(e==null?void 0:e.verified)!=="undefined"?new vt(e):new Ft(e):null,this.triggerChange()},o.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},o.prototype.loadFromCookie=function(t,e){e===void 0&&(e="pb_auth");var n=function(i,l){var r={};if(typeof i!="string")return r;for(var a=Object.assign({},l||{}).decode||Do,u=0;u<i.length;){var f=i.indexOf("=",u);if(f===-1)break;var v=i.indexOf(";",u);if(v===-1)v=i.length;else if(v<f){u=i.lastIndexOf(";",f-1)+1;continue}var m=i.slice(u,f).trim();if(r[m]===void 0){var g=i.slice(f+1,v).trim();g.charCodeAt(0)===34&&(g=g.slice(1,-1));try{r[m]=a(g)}catch{r[m]=g}}u=v+1}return r}(t||"")[e]||"",s={};try{(typeof(s=JSON.parse(n))===null||typeof s!="object"||Array.isArray(s))&&(s={})}catch{}this.save(s.token||"",s.model||{})},o.prototype.exportToCookie=function(t,e){var n,s,i;e===void 0&&(e="pb_auth");var l={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},r=mn(this.token);r!=null&&r.exp?l.expires=new Date(1e3*r.exp):l.expires=new Date("1970-01-01"),t=Object.assign({},l,t);var a={token:this.token,model:((n=this.model)===null||n===void 0?void 0:n.export())||null},u=hn(e,JSON.stringify(a),t),f=typeof Blob<"u"?new Blob([u]).size:u.length;return a.model&&f>4096&&(a.model={id:(s=a==null?void 0:a.model)===null||s===void 0?void 0:s.id,email:(i=a==null?void 0:a.model)===null||i===void 0?void 0:i.email},this.model instanceof vt&&(a.model.verified=this.model.verified),u=hn(e,JSON.stringify(a),t)),u},o.prototype.onChange=function(t){var e=this;return this._onChangeCallbacks.push(t),function(){for(var n=e._onChangeCallbacks.length-1;n>=0;n--)if(e._onChangeCallbacks[n]==t)return delete e._onChangeCallbacks[n],void e._onChangeCallbacks.splice(n,1)}},o.prototype.triggerChange=function(){for(var t=0,e=this._onChangeCallbacks;t<e.length;t++){var n=e[t];n&&n(this.token,this.model)}},o}(),Jo=function(o){function t(e){e===void 0&&(e="pocketbase_auth");var n=o.call(this)||this;return n.storageFallback={},n.storageKey=e,n}return le(t,o),Object.defineProperty(t.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){var e,n=this._storageGet(this.storageKey)||{};return n===null||typeof n!="object"||n.model===null||typeof n.model!="object"?null:((e=n.model)===null||e===void 0?void 0:e.verified)!==void 0?new vt(n.model):new Ft(n.model)},enumerable:!1,configurable:!0}),t.prototype.save=function(e,n){this._storageSet(this.storageKey,{token:e,model:n}),o.prototype.save.call(this,e,n)},t.prototype.clear=function(){this._storageRemove(this.storageKey),o.prototype.clear.call(this)},t.prototype._storageGet=function(e){var n;if(typeof window<"u"&&(window==null?void 0:window.localStorage)){var s=((n=window==null?void 0:window.localStorage)===null||n===void 0?void 0:n.getItem(e))||"";try{return JSON.parse(s)}catch{return s}}return this.storageFallback[e]},t.prototype._storageSet=function(e,n){var s;if(typeof window<"u"&&(window==null?void 0:window.localStorage)){var i=n;typeof n!="string"&&(i=JSON.stringify(n)),(s=window==null?void 0:window.localStorage)===null||s===void 0||s.setItem(e,i)}else this.storageFallback[e]=n},t.prototype._storageRemove=function(e){var n;typeof window<"u"&&((n=window==null?void 0:window.localStorage)===null||n===void 0||n.removeItem(e)),delete this.storageFallback[e]},t}(Fo),kt=function(o){this.client=o},Bo=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return le(t,o),t.prototype.getAll=function(e){return e===void 0&&(e={}),this.client.send("/api/settings",{method:"GET",params:e}).then(function(n){return n||{}})},t.prototype.update=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),this.client.send("/api/settings",{method:"PATCH",params:n,body:e}).then(function(s){return s||{}})},t.prototype.testS3=function(e){return e===void 0&&(e={}),this.client.send("/api/settings/test/s3",{method:"POST",params:e}).then(function(){return!0})},t.prototype.testEmail=function(e,n,s){s===void 0&&(s={});var i={email:e,template:n};return this.client.send("/api/settings/test/email",{method:"POST",params:s,body:i}).then(function(){return!0})},t}(kt),mo=function(o,t,e,n,s){this.page=o>0?o:1,this.perPage=t>=0?t:0,this.totalItems=e>=0?e:0,this.totalPages=n>=0?n:0,this.items=s||[]},vo=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return le(t,o),t.prototype._getFullList=function(e,n,s){var i=this;n===void 0&&(n=100),s===void 0&&(s={});var l=[],r=function(a){return Be(i,void 0,void 0,function(){return Ge(this,function(u){return[2,this._getList(e,a,n,s).then(function(f){var v=f,m=v.items,g=v.totalItems;return l=l.concat(m),m.length&&g>l.length?r(a+1):l})]})})};return r(1)},t.prototype._getList=function(e,n,s,i){var l=this;return n===void 0&&(n=1),s===void 0&&(s=30),i===void 0&&(i={}),i=Object.assign({page:n,perPage:s},i),this.client.send(e,{method:"GET",params:i}).then(function(r){var a=[];if(r!=null&&r.items){r.items=r.items||[];for(var u=0,f=r.items;u<f.length;u++){var v=f[u];a.push(l.decode(v))}}return new mo((r==null?void 0:r.page)||1,(r==null?void 0:r.perPage)||0,(r==null?void 0:r.totalItems)||0,(r==null?void 0:r.totalPages)||0,a)})},t.prototype._getOne=function(e,n,s){var i=this;return s===void 0&&(s={}),this.client.send(e+"/"+encodeURIComponent(n),{method:"GET",params:s}).then(function(l){return i.decode(l)})},t.prototype._create=function(e,n,s){var i=this;return n===void 0&&(n={}),s===void 0&&(s={}),this.client.send(e,{method:"POST",params:s,body:n}).then(function(l){return i.decode(l)})},t.prototype._update=function(e,n,s,i){var l=this;return s===void 0&&(s={}),i===void 0&&(i={}),this.client.send(e+"/"+encodeURIComponent(n),{method:"PATCH",params:i,body:s}).then(function(r){return l.decode(r)})},t.prototype._delete=function(e,n,s){return s===void 0&&(s={}),this.client.send(e+"/"+encodeURIComponent(n),{method:"DELETE",params:s}).then(function(){return!0})},t}(kt),Jt=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return le(t,o),t.prototype.getFullList=function(e,n){return e===void 0&&(e=100),n===void 0&&(n={}),this._getFullList(this.baseCrudPath(),e,n)},t.prototype.getList=function(e,n,s){return e===void 0&&(e=1),n===void 0&&(n=30),s===void 0&&(s={}),this._getList(this.baseCrudPath(),e,n,s)},t.prototype.getOne=function(e,n){return n===void 0&&(n={}),this._getOne(this.baseCrudPath(),e,n)},t.prototype.create=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),this._create(this.baseCrudPath(),e,n)},t.prototype.update=function(e,n,s){return n===void 0&&(n={}),s===void 0&&(s={}),this._update(this.baseCrudPath(),e,n,s)},t.prototype.delete=function(e,n){return n===void 0&&(n={}),this._delete(this.baseCrudPath(),e,n)},t}(vo),Go=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return le(t,o),t.prototype.decode=function(e){return new Ft(e)},t.prototype.baseCrudPath=function(){return"/api/admins"},t.prototype.authResponse=function(e){var n=this.decode((e==null?void 0:e.admin)||{});return(e==null?void 0:e.token)&&(e==null?void 0:e.admin)&&this.client.authStore.save(e.token,n),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:n})},t.prototype.authViaEmail=function(e,n,s,i){return s===void 0&&(s={}),i===void 0&&(i={}),s=Object.assign({email:e,password:n},s),this.client.send(this.baseCrudPath()+"/auth-via-email",{method:"POST",params:i,body:s,headers:{Authorization:""}}).then(this.authResponse.bind(this))},t.prototype.refresh=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),this.client.send(this.baseCrudPath()+"/refresh",{method:"POST",params:n,body:e}).then(this.authResponse.bind(this))},t.prototype.requestPasswordReset=function(e,n,s){return n===void 0&&(n={}),s===void 0&&(s={}),n=Object.assign({email:e},n),this.client.send(this.baseCrudPath()+"/request-password-reset",{method:"POST",params:s,body:n}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,n,s,i,l){return i===void 0&&(i={}),l===void 0&&(l={}),i=Object.assign({token:e,password:n,passwordConfirm:s},i),this.client.send(this.baseCrudPath()+"/confirm-password-reset",{method:"POST",params:l,body:i}).then(this.authResponse.bind(this))},t}(Jt),Vo=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return le(t,o),t.prototype.load=function(e){o.prototype.load.call(this,e),this.userId=typeof e.userId=="string"?e.userId:"",this.provider=typeof e.provider=="string"?e.provider:"",this.providerId=typeof e.providerId=="string"?e.providerId:""},t}(Qe),Wo=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return le(t,o),t.prototype.decode=function(e){return new vt(e)},t.prototype.baseCrudPath=function(){return"/api/users"},t.prototype.authResponse=function(e){var n=this.decode((e==null?void 0:e.user)||{});return(e==null?void 0:e.token)&&(e==null?void 0:e.user)&&this.client.authStore.save(e.token,n),Object.assign({},e,{token:(e==null?void 0:e.token)||"",user:n})},t.prototype.listAuthMethods=function(e){return e===void 0&&(e={}),this.client.send(this.baseCrudPath()+"/auth-methods",{method:"GET",params:e}).then(function(n){return Object.assign({},n,{emailPassword:!!(n!=null&&n.emailPassword),authProviders:Array.isArray(n==null?void 0:n.authProviders)?n==null?void 0:n.authProviders:[]})})},t.prototype.authViaEmail=function(e,n,s,i){return s===void 0&&(s={}),i===void 0&&(i={}),s=Object.assign({email:e,password:n},s),this.client.send(this.baseCrudPath()+"/auth-via-email",{method:"POST",params:i,body:s,headers:{Authorization:""}}).then(this.authResponse.bind(this))},t.prototype.authViaOAuth2=function(e,n,s,i,l,r){return l===void 0&&(l={}),r===void 0&&(r={}),l=Object.assign({provider:e,code:n,codeVerifier:s,redirectUrl:i},l),this.client.send(this.baseCrudPath()+"/auth-via-oauth2",{method:"POST",params:r,body:l,headers:{Authorization:""}}).then(this.authResponse.bind(this))},t.prototype.refresh=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),this.client.send(this.baseCrudPath()+"/refresh",{method:"POST",params:n,body:e}).then(this.authResponse.bind(this))},t.prototype.requestPasswordReset=function(e,n,s){return n===void 0&&(n={}),s===void 0&&(s={}),n=Object.assign({email:e},n),this.client.send(this.baseCrudPath()+"/request-password-reset",{method:"POST",params:s,body:n}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,n,s,i,l){return i===void 0&&(i={}),l===void 0&&(l={}),i=Object.assign({token:e,password:n,passwordConfirm:s},i),this.client.send(this.baseCrudPath()+"/confirm-password-reset",{method:"POST",params:l,body:i}).then(this.authResponse.bind(this))},t.prototype.requestVerification=function(e,n,s){return n===void 0&&(n={}),s===void 0&&(s={}),n=Object.assign({email:e},n),this.client.send(this.baseCrudPath()+"/request-verification",{method:"POST",params:s,body:n}).then(function(){return!0})},t.prototype.confirmVerification=function(e,n,s){return n===void 0&&(n={}),s===void 0&&(s={}),n=Object.assign({token:e},n),this.client.send(this.baseCrudPath()+"/confirm-verification",{method:"POST",params:s,body:n}).then(this.authResponse.bind(this))},t.prototype.requestEmailChange=function(e,n,s){return n===void 0&&(n={}),s===void 0&&(s={}),n=Object.assign({newEmail:e},n),this.client.send(this.baseCrudPath()+"/request-email-change",{method:"POST",params:s,body:n}).then(function(){return!0})},t.prototype.confirmEmailChange=function(e,n,s,i){return s===void 0&&(s={}),i===void 0&&(i={}),s=Object.assign({token:e,password:n},s),this.client.send(this.baseCrudPath()+"/confirm-email-change",{method:"POST",params:i,body:s}).then(this.authResponse.bind(this))},t.prototype.listExternalAuths=function(e,n){return n===void 0&&(n={}),this.client.send(this.baseCrudPath()+"/"+encodeURIComponent(e)+"/external-auths",{method:"GET",params:n}).then(function(s){var i=[];if(Array.isArray(s))for(var l=0,r=s;l<r.length;l++){var a=r[l];i.push(new Vo(a))}return i})},t.prototype.unlinkExternalAuth=function(e,n,s){return s===void 0&&(s={}),this.client.send(this.baseCrudPath()+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(n),{method:"DELETE",params:s}).then(function(){return!0})},t}(Jt),Ko=function(){function o(t){t===void 0&&(t={}),this.load(t||{})}return o.prototype.load=function(t){this.id=t.id!==void 0?t.id:"",this.name=t.name!==void 0?t.name:"",this.type=t.type!==void 0?t.type:"text",this.system=!!t.system,this.required=!!t.required,this.unique=!!t.unique,this.options=typeof t.options=="object"&&t.options!==null?t.options:{}},o}(),Yo=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return le(t,o),t.prototype.load=function(e){o.prototype.load.call(this,e),this.name=typeof e.name=="string"?e.name:"",this.system=!!e.system,this.listRule=typeof e.listRule=="string"?e.listRule:null,this.viewRule=typeof e.viewRule=="string"?e.viewRule:null,this.createRule=typeof e.createRule=="string"?e.createRule:null,this.updateRule=typeof e.updateRule=="string"?e.updateRule:null,this.deleteRule=typeof e.deleteRule=="string"?e.deleteRule:null,e.schema=Array.isArray(e.schema)?e.schema:[],this.schema=[];for(var n=0,s=e.schema;n<s.length;n++){var i=s[n];this.schema.push(new Ko(i))}},t}(Qe),Xo=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return le(t,o),t.prototype.decode=function(e){return new Yo(e)},t.prototype.baseCrudPath=function(){return"/api/collections"},t.prototype.import=function(e,n,s){return n===void 0&&(n=!1),s===void 0&&(s={}),Be(this,void 0,void 0,function(){return Ge(this,function(i){return[2,this.client.send(this.baseCrudPath()+"/import",{method:"PUT",params:s,body:{collections:e,deleteMissing:n}}).then(function(){return!0})]})})},t}(Jt),Ho=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return le(t,o),t.prototype.decode=function(e){return new ho(e)},t.prototype.baseCrudPath=function(e){return"/api/collections/"+encodeURIComponent(e)+"/records"},t.prototype.getFileUrl=function(e,n,s){s===void 0&&(s={});var i=[];i.push(this.client.baseUrl.replace(/\/+$/gm,"")),i.push("api"),i.push("files"),i.push(e["@collectionId"]),i.push(e.id),i.push(n);var l=i.join("/");if(Object.keys(s).length){var r=new URLSearchParams(s);l+=(l.includes("?")?"&":"?")+r}return l},t}(function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return le(t,o),t.prototype.getFullList=function(e,n,s){return n===void 0&&(n=100),s===void 0&&(s={}),this._getFullList(this.baseCrudPath(e),n,s)},t.prototype.getList=function(e,n,s,i){return n===void 0&&(n=1),s===void 0&&(s=30),i===void 0&&(i={}),this._getList(this.baseCrudPath(e),n,s,i)},t.prototype.getOne=function(e,n,s){return s===void 0&&(s={}),this._getOne(this.baseCrudPath(e),n,s)},t.prototype.create=function(e,n,s){return n===void 0&&(n={}),s===void 0&&(s={}),this._create(this.baseCrudPath(e),n,s)},t.prototype.update=function(e,n,s,i){return s===void 0&&(s={}),i===void 0&&(i={}),this._update(this.baseCrudPath(e),n,s,i)},t.prototype.delete=function(e,n,s){return s===void 0&&(s={}),this._delete(this.baseCrudPath(e),n,s)},t}(vo)),vn=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return le(t,o),t.prototype.load=function(e){o.prototype.load.call(this,e),e.remoteIp=e.remoteIp||e.ip,this.url=typeof e.url=="string"?e.url:"",this.method=typeof e.method=="string"?e.method:"GET",this.status=typeof e.status=="number"?e.status:200,this.auth=typeof e.auth=="string"?e.auth:"guest",this.remoteIp=typeof e.remoteIp=="string"?e.remoteIp:"",this.userIp=typeof e.userIp=="string"?e.userIp:"",this.referer=typeof e.referer=="string"?e.referer:"",this.userAgent=typeof e.userAgent=="string"?e.userAgent:"",this.meta=typeof e.meta=="object"&&e.meta!==null?e.meta:{}},t}(Qe),Qo=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return le(t,o),t.prototype.getRequestsList=function(e,n,s){return e===void 0&&(e=1),n===void 0&&(n=30),s===void 0&&(s={}),s=Object.assign({page:e,perPage:n},s),this.client.send("/api/logs/requests",{method:"GET",params:s}).then(function(i){var l=[];if(i!=null&&i.items){i.items=(i==null?void 0:i.items)||[];for(var r=0,a=i.items;r<a.length;r++){var u=a[r];l.push(new vn(u))}}return new mo((i==null?void 0:i.page)||1,(i==null?void 0:i.perPage)||0,(i==null?void 0:i.totalItems)||0,(i==null?void 0:i.totalPages)||0,l)})},t.prototype.getRequest=function(e,n){return n===void 0&&(n={}),this.client.send("/api/logs/requests/"+encodeURIComponent(e),{method:"GET",params:n}).then(function(s){return new vn(s)})},t.prototype.getRequestsStats=function(e){return e===void 0&&(e={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:e}).then(function(n){return n})},t}(kt),Zo=function(o){function t(){var e=o!==null&&o.apply(this,arguments)||this;return e.clientId="",e.eventSource=null,e.subscriptions={},e}return le(t,o),t.prototype.subscribe=function(e,n){var s;return Be(this,void 0,void 0,function(){return Ge(this,function(i){switch(i.label){case 0:if(!e)throw new Error("subscription must be set.");return this.subscriptions[e]&&((s=this.eventSource)===null||s===void 0||s.removeEventListener(e,this.subscriptions[e])),this.subscriptions[e]=function(l){var r,a=l;try{r=JSON.parse(a==null?void 0:a.data)}catch{}n(r||{})},this.eventSource?[3,1]:(this.connect(),[3,3]);case 1:return this.clientId?[4,this.submitSubscriptions()]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.unsubscribe=function(e){var n;return Be(this,void 0,void 0,function(){return Ge(this,function(s){switch(s.label){case 0:if(e){if(!this.subscriptions[e])return[2];(n=this.eventSource)===null||n===void 0||n.removeEventListener(e,this.subscriptions[e]),delete this.subscriptions[e]}else this.removeSubscriptionListeners(),this.subscriptions={};return this.clientId?[4,this.submitSubscriptions()]:[3,2];case 1:s.sent(),s.label=2;case 2:return Object.keys(this.subscriptions).length||this.disconnect(),[2]}})})},t.prototype.submitSubscriptions=function(){return Be(this,void 0,void 0,function(){return Ge(this,function(e){return this.addSubscriptionListeners(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:Object.keys(this.subscriptions)},params:{$autoCancel:!1}}).then(function(){return!0})]})})},t.prototype.addSubscriptionListeners=function(){if(this.eventSource)for(var e in this.removeSubscriptionListeners(),this.subscriptions)this.eventSource.addEventListener(e,this.subscriptions[e])},t.prototype.removeSubscriptionListeners=function(){if(this.eventSource)for(var e in this.subscriptions)this.eventSource.removeEventListener(e,this.subscriptions[e])},t.prototype.connectHandler=function(e){var n=e;this.clientId=n==null?void 0:n.lastEventId,this.submitSubscriptions()},t.prototype.connect=function(){var e=this;this.disconnect(),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.addEventListener("PB_CONNECT",function(n){return e.connectHandler(n)})},t.prototype.disconnect=function(){var e,n,s=this;this.removeSubscriptionListeners(),(e=this.eventSource)===null||e===void 0||e.removeEventListener("PB_CONNECT",function(i){return s.connectHandler(i)}),(n=this.eventSource)===null||n===void 0||n.close(),this.eventSource=null,this.clientId=""},t}(kt),$o=function(){function o(t,e,n){t===void 0&&(t="/"),e===void 0&&(e="en-US"),this.cancelControllers={},this.baseUrl=t,this.lang=e,this.authStore=n||new Jo,this.admins=new Go(this),this.users=new Wo(this),this.records=new Ho(this),this.collections=new Xo(this),this.logs=new Qo(this),this.settings=new Bo(this),this.realtime=new Zo(this)}return Object.defineProperty(o.prototype,"AuthStore",{get:function(){return this.authStore},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Settings",{get:function(){return this.settings},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Admins",{get:function(){return this.admins},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Users",{get:function(){return this.users},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Collections",{get:function(){return this.collections},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Records",{get:function(){return this.records},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Logs",{get:function(){return this.logs},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Realtime",{get:function(){return this.realtime},enumerable:!1,configurable:!0}),o.prototype.cancelRequest=function(t){return this.cancelControllers[t]&&(this.cancelControllers[t].abort(),delete this.cancelControllers[t]),this},o.prototype.cancelAllRequests=function(){for(var t in this.cancelControllers)this.cancelControllers[t].abort();return this.cancelControllers={},this},o.prototype.send=function(t,e){var n,s,i,l,r,a,u,f,v;return Be(this,void 0,void 0,function(){var m,g,b,p,w,y,O=this;return Ge(this,function(_){return(m=Object.assign({method:"GET"},e)).body&&m.body.constructor.name!=="FormData"&&(typeof m.body!="string"&&(m.body=JSON.stringify(m.body)),((n=m==null?void 0:m.headers)===null||n===void 0?void 0:n["Content-Type"])===void 0&&(m.headers=Object.assign({},m.headers,{"Content-Type":"application/json"}))),((s=m==null?void 0:m.headers)===null||s===void 0?void 0:s["Accept-Language"])===void 0&&(m.headers=Object.assign({},m.headers,{"Accept-Language":this.lang})),((i=this.authStore)===null||i===void 0?void 0:i.token)&&((l=m==null?void 0:m.headers)===null||l===void 0?void 0:l.Authorization)===void 0&&(g="Admin",((r=this.authStore.model)===null||r===void 0?void 0:r.verified)!==void 0&&(g="User"),m.headers=Object.assign({},m.headers,{Authorization:g+" "+this.authStore.token})),((a=m.params)===null||a===void 0?void 0:a.$autoCancel)!==!1&&(b=((u=m.params)===null||u===void 0?void 0:u.$cancelKey)||(m.method||"GET")+t,this.cancelRequest(b),p=new AbortController,this.cancelControllers[b]=p,m.signal=p.signal),(f=m.params)===null||f===void 0||delete f.$autoCancel,(v=m.params)===null||v===void 0||delete v.$cancelKey,w=this.buildUrl(t),m.params!==void 0&&((y=this.serializeQueryParams(m.params))&&(w+=(w.includes("?")?"&":"?")+y),delete m.params),this.beforeSend&&(m=Object.assign({},this.beforeSend(w,m))),[2,fetch(w,m).then(function(C){return Be(O,void 0,void 0,function(){var L;return Ge(this,function(N){switch(N.label){case 0:L={},N.label=1;case 1:return N.trys.push([1,3,,4]),[4,C.json()];case 2:return L=N.sent(),[3,4];case 3:return N.sent(),[3,4];case 4:if(this.afterSend&&(L=this.afterSend(C,L)),C.status>=400)throw new pn({url:C.url,status:C.status,data:L});return[2,L]}})})}).catch(function(C){throw new pn(C)})]})})},o.prototype.buildUrl=function(t){var e=this.baseUrl+(this.baseUrl.endsWith("/")?"":"/");return t&&(e+=t.startsWith("/")?t.substring(1):t),e},o.prototype.serializeQueryParams=function(t){var e=[];for(var n in t)if(t[n]!==null){var s=t[n],i=encodeURIComponent(n);if(Array.isArray(s))for(var l=0,r=s;l<r.length;l++){var a=r[l];e.push(i+"="+encodeURIComponent(a))}else s instanceof Date?e.push(i+"="+encodeURIComponent(s.toISOString())):typeof s!==null&&typeof s=="object"?e.push(i+"="+encodeURIComponent(JSON.stringify(s))):e.push(i+"="+encodeURIComponent(s))}return e.join("&")},o}();const x=new $o("https://ibhub-pocketbase.fly.dev"),Xe=ze(0),gt=ze([]),_t=ze(""),et=ze(!0),Ut=ze(!0);function gn(o,t,e){const n=o.slice();return n[2]=t[e],n}function _n(o,t,e){const n=o.slice();return n[5]=t[e],n}function bn(o){let t,e=o[5]+"",n;return{c(){t=h("div"),n=z(e)},m(s,i){S(s,t,i),d(t,n)},p(s,i){i&1&&e!==(e=s[5]+"")&&ne(n,e)},d(s){s&&k(t)}}}function yn(o){let t;return{c(){t=h("div"),t.textContent="new!",c(t,"class","newposttag svelte-qr7281")},m(e,n){S(e,t,n)},d(e){e&&k(t)}}}function wn(o){let t,e=o[0].contains,n=[];for(let s=0;s<e.length;s+=1)n[s]=kn(gn(o,e,s));return{c(){t=h("div");for(let s=0;s<n.length;s+=1)n[s].c();c(t,"class","contains svelte-qr7281")},m(s,i){S(s,t,i);for(let l=0;l<n.length;l+=1)n[l].m(t,null)},p(s,i){if(i&1){e=s[0].contains;let l;for(l=0;l<e.length;l+=1){const r=gn(s,e,l);n[l]?n[l].p(r,i):(n[l]=kn(r),n[l].c(),n[l].m(t,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=e.length}},d(s){s&&k(t),Te(n,s)}}}function kn(o){let t,e=o[2]+"",n;return{c(){t=h("span"),n=z(e),c(t,"class","svelte-qr7281")},m(s,i){S(s,t,i),d(t,n)},p(s,i){i&1&&e!==(e=s[2]+"")&&ne(n,e)},d(s){s&&k(t)}}}function Cn(o){let t;return{c(){t=h("div"),t.textContent="[Dead]",c(t,"class","dead svelte-qr7281")},m(e,n){S(e,t,n)},d(e){e&&k(t)}}}function xo(o){let t,e,n,s,i,l,r,a,u,f,v,m=o[0].name+"",g,b,p,w=o[0].host+"",y,O,_,C,L,N,E=o[0].updates+"",J,T,F,q,oe,ee,de,G,pe,V,K,Q,Z,Ce,$,re=o[0].laspost.split(`
`),P=[];for(let R=0;R<re.length;R+=1)P[R]=bn(_n(o,re,R));let I=o[1]&&yn(),U=o[0].contains.length>0&&wn(o),X=o[0].dead&&Cn();return{c(){t=h("div"),e=h("div"),n=h("div"),s=h("div");for(let R=0;R<P.length;R+=1)P[R].c();i=A(),l=h("a"),r=h("img"),f=A(),v=h("div"),g=z(m),b=A(),p=h("div"),y=z(w),O=A(),I&&I.c(),_=A(),U&&U.c(),C=A(),L=h("div"),N=h("strong"),N.textContent="Updates: ",J=z(E),T=A(),F=h("div"),X&&X.c(),q=A(),oe=h("div"),ee=h("a"),de=z(`visit 
            `),G=qe("svg"),pe=qe("path"),K=A(),Q=h("div"),Z=h("a"),Ce=z("more"),c(s,"class","tooltip svelte-qr7281"),c(r,"loading","lazy"),Ve(r.src,a=o[0].thumb)||c(r,"src",a),c(r,"alt",""),c(r,"class","svelte-qr7281"),c(l,"href",u="#/new?id="+o[0].id),c(l,"class","svelte-qr7281"),c(n,"class","thumb svelte-qr7281"),c(v,"class","title svelte-qr7281"),c(p,"class","hostName svelte-qr7281"),c(L,"class","updates svelte-qr7281"),c(e,"class","card-container"),c(pe,"d","M 41.470703 4.9863281 A 1.50015 1.50015 0 0 0 41.308594 5 L 27.5 5 A 1.50015 1.50015 0 1 0 27.5 8 L 37.878906 8 L 22.439453 23.439453 A 1.50015 1.50015 0 1 0 24.560547 25.560547 L 40 10.121094 L 40 20.5 A 1.50015 1.50015 0 1 0 43 20.5 L 43 6.6894531 A 1.50015 1.50015 0 0 0 41.470703 4.9863281 z M 12.5 8 C 8.3754991 8 5 11.375499 5 15.5 L 5 35.5 C 5 39.624501 8.3754991 43 12.5 43 L 32.5 43 C 36.624501 43 40 39.624501 40 35.5 L 40 25.5 A 1.50015 1.50015 0 1 0 37 25.5 L 37 35.5 C 37 38.003499 35.003499 40 32.5 40 L 12.5 40 C 9.9965009 40 8 38.003499 8 35.5 L 8 15.5 C 8 12.996501 9.9965009 11 12.5 11 L 22.5 11 A 1.50015 1.50015 0 1 0 22.5 8 L 12.5 8 z"),c(G,"fill","var(--button-color)"),c(G,"xmlns","http://www.w3.org/2000/svg"),c(G,"viewBox","0 0 48 48"),c(G,"width","15px"),c(G,"height","15px"),c(ee,"target","_blank"),c(ee,"href",V=o[0].link),c(ee,"class","svelte-qr7281"),c(oe,"class","feed-btn svelte-qr7281"),c(Z,"href",$="#/new?id="+o[0].id),c(Z,"class","svelte-qr7281"),c(Q,"class","feed-btn svelte-qr7281"),c(F,"class","card-container feed-btn-container svelte-qr7281"),c(t,"class","card svelte-qr7281"),Y(t,"newpost",o[1])},m(R,ae){S(R,t,ae),d(t,e),d(e,n),d(n,s);for(let te=0;te<P.length;te+=1)P[te].m(s,null);d(n,i),d(n,l),d(l,r),d(e,f),d(e,v),d(v,g),d(e,b),d(e,p),d(p,y),d(e,O),I&&I.m(e,null),d(e,_),U&&U.m(e,null),d(e,C),d(e,L),d(L,N),d(L,J),d(t,T),d(t,F),X&&X.m(F,null),d(F,q),d(F,oe),d(oe,ee),d(ee,de),d(ee,G),d(G,pe),d(F,K),d(F,Q),d(Q,Z),d(Z,Ce)},p(R,[ae]){if(ae&1){re=R[0].laspost.split(`
`);let te;for(te=0;te<re.length;te+=1){const Ne=_n(R,re,te);P[te]?P[te].p(Ne,ae):(P[te]=bn(Ne),P[te].c(),P[te].m(s,null))}for(;te<P.length;te+=1)P[te].d(1);P.length=re.length}ae&1&&!Ve(r.src,a=R[0].thumb)&&c(r,"src",a),ae&1&&u!==(u="#/new?id="+R[0].id)&&c(l,"href",u),ae&1&&m!==(m=R[0].name+"")&&ne(g,m),ae&1&&w!==(w=R[0].host+"")&&ne(y,w),R[1]?I||(I=yn(),I.c(),I.m(e,_)):I&&(I.d(1),I=null),R[0].contains.length>0?U?U.p(R,ae):(U=wn(R),U.c(),U.m(e,C)):U&&(U.d(1),U=null),ae&1&&E!==(E=R[0].updates+"")&&ne(J,E),R[0].dead?X||(X=Cn(),X.c(),X.m(F,q)):X&&(X.d(1),X=null),ae&1&&V!==(V=R[0].link)&&c(ee,"href",V),ae&1&&$!==($="#/new?id="+R[0].id)&&c(Z,"href",$),ae&2&&Y(t,"newpost",R[1])},i:D,o:D,d(R){R&&k(t),Te(P,R),I&&I.d(),U&&U.d(),X&&X.d()}}}function es(o,t,e){let{channel:n}=t,{isNew:s}=t;return o.$$set=i=>{"channel"in i&&e(0,n=i.channel),"isNew"in i&&e(1,s=i.isNew)},[n,s]}class ts extends Ae{constructor(t){super(),Pe(this,t,es,xo,Le,{channel:0,isNew:1})}}function Sn(o,t,e){const n=o.slice();return n[7]=t[e],n}function On(o){let t,e=o[7]+"",n,s,i;function l(){return o[6](o[7])}return{c(){t=h("button"),n=z(e),c(t,"class","svelte-1paaqmw"),Y(t,"active",o[2]===!1&&o[3]===o[7])},m(r,a){S(r,t,a),d(t,n),s||(i=W(t,"click",l),s=!0)},p(r,a){o=r,a&1&&e!==(e=o[7]+"")&&ne(n,e),a&13&&Y(t,"active",o[2]===!1&&o[3]===o[7])},d(r){r&&k(t),s=!1,i()}}}function ns(o){let t,e,n,s,i,l,r,a=o[0],u=[];for(let f=0;f<a.length;f+=1)u[f]=On(Sn(o,a,f));return{c(){t=h("div"),e=h("button"),e.textContent="show inactive",n=A(),s=h("button"),s.textContent="all domains",i=A();for(let f=0;f<u.length;f+=1)u[f].c();c(e,"class","showdead svelte-1paaqmw"),Y(e,"active",o[1]),c(s,"class","svelte-1paaqmw"),Y(s,"active",o[2]),c(t,"class","filter svelte-1paaqmw")},m(f,v){S(f,t,v),d(t,e),d(t,n),d(t,s),d(t,i);for(let m=0;m<u.length;m+=1)u[m].m(t,null);l||(r=[W(e,"click",o[4]),W(s,"click",o[5])],l=!0)},p(f,[v]){if(v&2&&Y(e,"active",f[1]),v&4&&Y(s,"active",f[2]),v&13){a=f[0];let m;for(m=0;m<a.length;m+=1){const g=Sn(f,a,m);u[m]?u[m].p(g,v):(u[m]=On(g),u[m].c(),u[m].m(t,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=a.length}},i:D,o:D,d(f){f&&k(t),Te(u,f),l=!1,me(r)}}}function os(o,t,e){let n,s,i,l;return ke(o,gt,f=>e(0,n=f)),ke(o,Ut,f=>e(1,s=f)),ke(o,et,f=>e(2,i=f)),ke(o,_t,f=>e(3,l=f)),wt(async()=>{try{if(n.length===0){const f=await x.records.getFullList("channel");oo(gt,n=Array.from(new Set(f.map(v=>v.host))),n)}}catch(f){console.warn("connection error",f)}}),[n,s,i,l,()=>Ut.update(f=>!s),()=>et.update(f=>!0),f=>{_t.update(v=>f),et.update(v=>!1)}]}class go extends Ae{constructor(t){super(),Pe(this,t,os,ns,Le,{})}}function Ln(o,t,e){const n=o.slice();return n[15]=t[e],n}function Pn(o){let t,e,n,s,i,l,r,a,u,f,v,m,g,b,p,w,y,O;function _(T,F){return T[0]?is:ss}let C=_(o),L=C(o);g=new go({});let N=o[5],E=[];for(let T=0;T<N.length;T+=1)E[T]=An(Ln(o,N,T));const J=T=>H(E[T],1,1,()=>{E[T]=null});return{c(){t=h("main"),e=h("div"),e.innerHTML='<h1 class="svelte-1pq2ka7">Active Channels</h1>',n=A(),s=h("div"),i=h("button"),i.textContent="New!",l=A(),r=h("button"),L.c(),a=A(),u=h("span"),f=z(o[4]),v=A(),m=h("div"),he(g.$$.fragment),b=A(),p=h("div");for(let T=0;T<E.length;T+=1)E[T].c();c(e,"class","container-header svelte-1pq2ka7"),c(i,"class","updateall svelte-1pq2ka7"),Y(i,"loading",o[3]),c(r,"class","updateall svelte-1pq2ka7"),Y(r,"loading",o[3]),c(u,"class","result svelte-1pq2ka7"),c(s,"class","container-header-buttons svelte-1pq2ka7"),c(p,"class","container svelte-1pq2ka7"),c(m,"class","main-container svelte-1pq2ka7"),c(t,"class","svelte-1pq2ka7")},m(T,F){S(T,t,F),d(t,e),d(t,n),d(t,s),d(s,i),d(s,l),d(s,r),L.m(r,null),d(s,a),d(s,u),d(u,f),d(t,v),d(t,m),ue(g,m,null),d(m,b),d(m,p);for(let q=0;q<E.length;q+=1)E[q].m(p,null);w=!0,y||(O=[W(i,"click",o[11]),W(r,"click",o[7])],y=!0)},p(T,F){if(F&8&&Y(i,"loading",T[3]),C!==(C=_(T))&&(L.d(1),L=C(T),L&&(L.c(),L.m(r,null))),F&8&&Y(r,"loading",T[3]),(!w||F&16)&&ne(f,T[4]),F&98){N=T[5];let q;for(q=0;q<N.length;q+=1){const oe=Ln(T,N,q);E[q]?(E[q].p(oe,F),M(E[q],1)):(E[q]=An(oe),E[q].c(),M(E[q],1),E[q].m(p,null))}for(Ie(),q=N.length;q<E.length;q+=1)J(q);Ue()}},i(T){if(!w){M(g.$$.fragment,T);for(let F=0;F<N.length;F+=1)M(E[F]);w=!0}},o(T){H(g.$$.fragment,T),E=E.filter(Boolean);for(let F=0;F<E.length;F+=1)H(E[F]);w=!1},d(T){T&&k(t),L.d(),fe(g),Te(E,T),y=!1,me(O)}}}function ss(o){let t;return{c(){t=z("update domain")},m(e,n){S(e,t,n)},d(e){e&&k(t)}}}function is(o){let t;return{c(){t=z("update all")},m(e,n){S(e,t,n)},d(e){e&&k(t)}}}function An(o){let t,e;return t=new ts({props:{channel:o[15],isNew:o[6](o[1],o[15].id)}}),{c(){he(t.$$.fragment)},m(n,s){ue(t,n,s),e=!0},p(n,s){const i={};s&32&&(i.channel=n[15]),s&34&&(i.isNew=n[6](n[1],n[15].id)),t.$set(i)},i(n){e||(M(t.$$.fragment,n),e=!0)},o(n){H(t.$$.fragment,n),e=!1},d(n){fe(t,n)}}}function ls(o){let t,e,n=!o[2]&&Pn(o);return{c(){n&&n.c(),t=He()},m(s,i){n&&n.m(s,i),S(s,t,i),e=!0},p(s,[i]){s[2]?n&&(Ie(),H(n,1,1,()=>{n=null}),Ue()):n?(n.p(s,i),i&4&&M(n,1)):(n=Pn(s),n.c(),M(n,1),n.m(t.parentNode,t))},i(s){e||(M(n),e=!0)},o(s){H(n),e=!1},d(s){n&&n.d(s),s&&k(t)}}}function rs(o,t,e){let n,s,i,l,r;ke(o,Ut,y=>e(9,n=y)),ke(o,_t,y=>e(10,s=y)),ke(o,et,y=>e(0,i=y)),ke(o,Xe,y=>e(12,l=y)),ke(o,gt,y=>e(13,r=y)),window.localStorage.getItem("pocketbase_auth")||Ee("/login");const a=(y,O)=>y.find(C=>C.channel===O)!=null;let u=[],f=[],v=!0;wt(async()=>{try{console.log("%c ====","color:yellow"),e(8,u=await x.records.getFullList("channel")),e(1,f=await x.records.getFullList("news")),console.log(f),e(2,v=!1),oo(gt,r=Array.from(new Set(u.map(y=>y.host))),r)}catch(y){console.warn("connection error!",y),Ee("/error")}});let m=!1,g="";const b=async()=>{var y,O;try{e(3,m=!0),e(4,g=`updating${i?"":` ${s}`}...`);const _=p.map(E=>E.id);console.log("ids",_);const C=(O=(y=JSON.parse(window.localStorage.getItem("pocketbase_auth")))==null?void 0:y.model)==null?void 0:O.id;console.log("localuser:",C);const N=await(await fetch("/api/getnewupsates",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({user:C})})).text();console.log(N),e(8,u=await x.records.getFullList("channel")),e(1,f=await x.records.getFullList("news")),Xe.update(E=>f.length),e(3,m=!1),e(4,g=`updated! ${l>0?`${l} new update${l===1?"":"s"}`:"nothing new right now"}`),setTimeout(()=>{e(4,g="")},2200)}catch(_){console.warn(_),e(3,m=!1),e(4,g="error while updating")}};let p=u;const w=()=>Ee("/new");return o.$$.update=()=>{o.$$.dirty&1793&&e(5,p=[...u].reverse().filter(y=>i?!0:y.host===s).filter(y=>n?!0:y.dead===!1))},[i,f,v,m,g,p,a,b,u,n,s,w]}class as extends Ae{constructor(t){super(),Pe(this,t,rs,ls,Le,{})}}function _o(o){var t,e,n="";if(typeof o=="string"||typeof o=="number")n+=o;else if(typeof o=="object")if(Array.isArray(o))for(t=0;t<o.length;t++)o[t]&&(e=_o(o[t]))&&(n&&(n+=" "),n+=e);else for(t in o)o[t]&&(n&&(n+=" "),n+=t);return n}function jn(){for(var o,t,e=0,n="";e<arguments.length;)(o=arguments[e++])&&(t=_o(o))&&(n&&(n+=" "),n+=t);return n}const cs=(o,t="")=>{const e=ze(jn(t).split(" ").filter(Boolean)),n=e.subscribe(i=>{Array.isArray(i)&&(i==null?void 0:i.length)&&o.classList.add(...i)}),s=()=>o.classList.remove(...yo(e));return{update:(i="")=>{s(),e.set(jn(i).split(" ").filter(Boolean))},destroy:()=>{s(),n()}}},us=(o,t={})=>{const e=document.createElement("div"),n=(i={})=>{if(typeof i=="string"&&(e.style.cssText=i),typeof i=="object")for(const[l,r]of Object.entries(i))l.startsWith("--")?e.style.setProperty(l,r):e.style[l]=r;o.style.cssText=`
					${o.style.cssText};
					${e.style.cssText};
				`};n(t);const s=()=>{o.style.cssText=o.style.cssText.replace(e.style.cssText,""),e.style.cssText=""};return{update:i=>{s(),n(i)},destroy:s}};function En(o,t,e){const n=o.slice();return n[4]=t[e],n}function Tn(o){let t,e=o[4]+"",n,s;return{c(){t=h("option"),n=z(e),s=A(),t.__value=o[4],t.value=t.__value},m(i,l){S(i,t,l),d(t,n),d(t,s)},p:D,d(i){i&&k(t)}}}function fs(o){let t,e,n,s,i,l=o[1],r=[];for(let a=0;a<l.length;a+=1)r[a]=Tn(En(o,l,a));return{c(){e=A(),n=h("select");for(let a=0;a<r.length;a+=1)r[a].c();c(n,"class","svelte-r3gh7a"),o[0]===void 0&&mt(()=>o[2].call(n))},m(a,u){S(a,e,u),S(a,n,u);for(let f=0;f<r.length;f+=1)r[f].m(n,null);rn(n,o[0]),s||(i=[ln(t=cs.call(null,document.body,o[0])),ln(us.call(null,document.body,ds)),W(n,"change",o[2])],s=!0)},p(a,[u]){if(t&&bt(t.update)&&u&1&&t.update.call(null,a[0]),u&2){l=a[1];let f;for(f=0;f<l.length;f+=1){const v=En(a,l,f);r[f]?r[f].p(v,u):(r[f]=Tn(v),r[f].c(),r[f].m(n,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}u&3&&rn(n,a[0])},i:D,o:D,d(a){a&&k(e),a&&k(n),Te(r,a),s=!1,me(i)}}}let ds="";function ps(o,t,e){let n="yotsuba-nograd";const s=["yotsuba-nograd","yotsuba","yotsuba-b","nograd","bluesky","luckygreen","uboa","plankton"],i=localStorage.getItem("storedTheme");n=i||n;function l(){n=ko(this),e(0,n),e(1,s)}return o.$$.update=()=>{o.$$.dirty&1&&localStorage.setItem("storedTheme",n)},[n,s,l]}class hs extends Ae{constructor(t){super(),Pe(this,t,ps,fs,Le,{})}}function Nn(o,t,e){const n=o.slice();return n[2]=t[e],n}function Rn(o){let t;return{c(){t=h("div"),t.textContent="[ NEW !]",c(t,"class","newposttag svelte-szvp27")},m(e,n){S(e,t,n)},d(e){e&&k(t)}}}function qn(o){let t,e=o[2]+"",n;return{c(){t=h("div"),n=z(e)},m(s,i){S(s,t,i),d(t,n)},p(s,i){i&1&&e!==(e=s[2]+"")&&ne(n,e)},d(s){s&&k(t)}}}function ms(o){let t,e,n,s=o[0].created+"",i,l,r,a=o[0].title+"",u,f,v,m,g,b,p,w,y,O,_,C,L,N,E,J,T,F,q,oe,ee,de,G=o[1]&&Rn(),pe=o[0].content.split(`
`),V=[];for(let K=0;K<pe.length;K+=1)V[K]=qn(Nn(o,pe,K));return{c(){var K,Q,Z,Ce,$,re;t=h("div"),e=h("div"),n=h("div"),i=z(s),l=A(),r=h("h2"),u=z(a),f=A(),G&&G.c(),v=A(),m=h("div"),g=h("img"),p=A(),w=h("div");for(let P=0;P<V.length;P+=1)V[P].c();y=A(),O=h("div"),_=h("div"),C=h("div"),L=h("a"),N=z(`visit 
                `),E=qe("svg"),J=qe("path"),F=A(),q=h("div"),oe=h("a"),ee=z("more"),c(n,"class","date svelte-szvp27"),c(r,"class","svelte-szvp27"),c(g,"loading","lazy"),Ve(g.src,b=(Q=(K=o[0]["@expand"])==null?void 0:K.channel)==null?void 0:Q.thumb)||c(g,"src",b),c(g,"alt",""),c(g,"class","svelte-szvp27"),c(m,"class","thumb svelte-szvp27"),c(w,"class","channelcontent svelte-szvp27"),c(e,"class","card-container svelte-szvp27"),c(J,"d","M 41.470703 4.9863281 A 1.50015 1.50015 0 0 0 41.308594 5 L 27.5 5 A 1.50015 1.50015 0 1 0 27.5 8 L 37.878906 8 L 22.439453 23.439453 A 1.50015 1.50015 0 1 0 24.560547 25.560547 L 40 10.121094 L 40 20.5 A 1.50015 1.50015 0 1 0 43 20.5 L 43 6.6894531 A 1.50015 1.50015 0 0 0 41.470703 4.9863281 z M 12.5 8 C 8.3754991 8 5 11.375499 5 15.5 L 5 35.5 C 5 39.624501 8.3754991 43 12.5 43 L 32.5 43 C 36.624501 43 40 39.624501 40 35.5 L 40 25.5 A 1.50015 1.50015 0 1 0 37 25.5 L 37 35.5 C 37 38.003499 35.003499 40 32.5 40 L 12.5 40 C 9.9965009 40 8 38.003499 8 35.5 L 8 15.5 C 8 12.996501 9.9965009 11 12.5 11 L 22.5 11 A 1.50015 1.50015 0 1 0 22.5 8 L 12.5 8 z"),c(E,"fill","var(--button-color)"),c(E,"xmlns","http://www.w3.org/2000/svg"),c(E,"viewBox","0 0 48 48"),c(E,"width","15px"),c(E,"height","15px"),c(L,"target","_blank"),c(L,"href",T=(Ce=(Z=o[0]["@expand"])==null?void 0:Z.channel)==null?void 0:Ce.link),c(L,"class","svelte-szvp27"),c(C,"class","feed-btn svelte-szvp27"),c(oe,"href",de="#/new?id="+((re=($=o[0]["@expand"])==null?void 0:$.channel)==null?void 0:re.id)),c(oe,"class","svelte-szvp27"),c(q,"class","feed-btn svelte-szvp27"),c(_,"class","card-container feed-btn-container svelte-szvp27"),c(O,"class","feed-btn-holder svelte-szvp27"),c(t,"class","card svelte-szvp27"),Y(t,"newpost",o[1])},m(K,Q){S(K,t,Q),d(t,e),d(e,n),d(n,i),d(e,l),d(e,r),d(r,u),d(e,f),G&&G.m(e,null),d(e,v),d(e,m),d(m,g),d(e,p),d(e,w);for(let Z=0;Z<V.length;Z+=1)V[Z].m(w,null);d(t,y),d(t,O),d(O,_),d(_,C),d(C,L),d(L,N),d(L,E),d(E,J),d(_,F),d(_,q),d(q,oe),d(oe,ee)},p(K,[Q]){var Z,Ce,$,re,P,I;if(Q&1&&s!==(s=K[0].created+"")&&ne(i,s),Q&1&&a!==(a=K[0].title+"")&&ne(u,a),K[1]?G||(G=Rn(),G.c(),G.m(e,v)):G&&(G.d(1),G=null),Q&1&&!Ve(g.src,b=(Ce=(Z=K[0]["@expand"])==null?void 0:Z.channel)==null?void 0:Ce.thumb)&&c(g,"src",b),Q&1){pe=K[0].content.split(`
`);let U;for(U=0;U<pe.length;U+=1){const X=Nn(K,pe,U);V[U]?V[U].p(X,Q):(V[U]=qn(X),V[U].c(),V[U].m(w,null))}for(;U<V.length;U+=1)V[U].d(1);V.length=pe.length}Q&1&&T!==(T=(re=($=K[0]["@expand"])==null?void 0:$.channel)==null?void 0:re.link)&&c(L,"href",T),Q&1&&de!==(de="#/new?id="+((I=(P=K[0]["@expand"])==null?void 0:P.channel)==null?void 0:I.id))&&c(oe,"href",de),Q&2&&Y(t,"newpost",K[1])},i:D,o:D,d(K){K&&k(t),G&&G.d(),Te(V,K)}}}function vs(o,t,e){let{feed:n}=t,{isNew:s}=t;return console.log(n),o.$$set=i=>{"feed"in i&&e(0,n=i.feed),"isNew"in i&&e(1,s=i.isNew)},[n,s]}class gs extends Ae{constructor(t){super(),Pe(this,t,vs,ms,Le,{feed:0,isNew:1})}}function In(o,t,e){const n=o.slice();return n[9]=t[e],n[11]=e,n}function Un(o){let t,e,n,s,i,l,r,a,u,f,v,m,g;a=new go({});let b=o[0],p=[];for(let y=0;y<b.length;y+=1)p[y]=zn(In(o,b,y));const w=y=>H(p[y],1,1,()=>{p[y]=null});return{c(){t=h("main"),e=h("h1"),e.textContent="Feed",n=A(),s=h("div"),i=h("button"),i.textContent="mark as read",l=A(),r=h("div"),he(a.$$.fragment),u=A(),f=h("div");for(let y=0;y<p.length;y+=1)p[y].c();c(e,"class","svelte-i495r5"),c(i,"class","svelte-i495r5"),c(s,"class","feedoptions svelte-i495r5"),c(f,"class","feeds svelte-i495r5"),c(r,"class","container svelte-i495r5"),c(t,"class","svelte-i495r5")},m(y,O){S(y,t,O),d(t,e),d(t,n),d(t,s),d(s,i),d(t,l),d(t,r),ue(a,r,null),d(r,u),d(r,f);for(let _=0;_<p.length;_+=1)p[_].m(f,null);v=!0,m||(g=W(i,"click",o[5]),m=!0)},p(y,O){if(O&23){b=y[0];let _;for(_=0;_<b.length;_+=1){const C=In(y,b,_);p[_]?(p[_].p(C,O),M(p[_],1)):(p[_]=zn(C),p[_].c(),M(p[_],1),p[_].m(f,null))}for(Ie(),_=b.length;_<p.length;_+=1)w(_);Ue()}},i(y){if(!v){M(a.$$.fragment,y);for(let O=0;O<b.length;O+=1)M(p[O]);v=!0}},o(y){H(a.$$.fragment,y),p=p.filter(Boolean);for(let O=0;O<p.length;O+=1)H(p[O]);v=!1},d(y){y&&k(t),fe(a),Te(p,y),m=!1,g()}}}function zn(o){let t,e;return t=new gs({props:{feed:o[9],isNew:o[4](o[1],o[9].id)&&!o[2]}}),{c(){he(t.$$.fragment)},m(n,s){ue(t,n,s),e=!0},p(n,s){const i={};s&1&&(i.feed=n[9]),s&7&&(i.isNew=n[4](n[1],n[9].id)&&!n[2]),t.$set(i)},i(n){e||(M(t.$$.fragment,n),e=!0)},o(n){H(t.$$.fragment,n),e=!1},d(n){fe(t,n)}}}function _s(o){let t,e,n=!o[3]&&Un(o);return{c(){n&&n.c(),t=He()},m(s,i){n&&n.m(s,i),S(s,t,i),e=!0},p(s,[i]){s[3]?n&&(Ie(),H(n,1,1,()=>{n=null}),Ue()):n?(n.p(s,i),i&8&&M(n,1)):(n=Un(s),n.c(),M(n,1),n.m(t.parentNode,t))},i(s){e||(M(n),e=!0)},o(s){H(n),e=!1},d(s){n&&n.d(s),s&&k(t)}}}function bs(o,t,e){let n,s;ke(o,_t,m=>e(7,n=m)),ke(o,et,m=>e(8,s=m)),window.localStorage.getItem("pocketbase_auth")||Ee("/login");const i=(m,g)=>(console.log("%c ====","color:red"),console.log(m,g),m.find(p=>p.feeds===g)!=null);let l=[],r=l,a=[],u=!1,f=!0;const v=async()=>{try{const m=await Promise.all(a.map(async g=>{x.records.delete("news",g.id)}));console.log(m),Xe.update(g=>0),e(2,u=!0)}catch(m){console.error(m)}};return wt(async()=>{try{e(6,l=await x.records.getFullList("feeditem",50,{expand:"channel",sort:"-created"})),e(1,a=await x.records.getFullList("news")),console.log(l,a),e(3,f=!1)}catch(m){console.warn("connection error",m),Ee("/error")}}),o.$$.update=()=>{o.$$.dirty&448&&(console.log(l),l.length>0&&e(0,r=[...l].filter(m=>{var g;return s||((g=m["@expand"])==null?void 0:g.channel.host)===n})))},[r,a,u,f,i,v,l,n,s]}class ys extends Ae{constructor(t){super(),Pe(this,t,bs,_s,Le,{})}}const ws="/assets/archiveph.png";const ks=o=>({}),Dn=o=>({}),Cs=o=>({}),Mn=o=>({});function Ss(o){let t,e,n,s,i,l,r,a,u;const f=o[2].name,v=en(f,o,o[1],Mn),m=o[2].content,g=en(m,o,o[1],Dn);return{c(){t=h("div"),v&&v.c(),e=A(),n=h("button"),n.textContent="?",s=A(),i=h("div"),l=h("div"),g&&g.c(),c(n,"class","hastooltip svelte-1rv76k"),Y(n,"active",o[0]),c(l,"class","content svelte-1rv76k"),c(i,"class","container svelte-1rv76k"),Y(i,"active",o[0]),c(t,"class","box")},m(b,p){S(b,t,p),v&&v.m(t,null),d(t,e),d(t,n),d(t,s),d(t,i),d(i,l),g&&g.m(l,null),r=!0,a||(u=W(n,"click",o[3]),a=!0)},p(b,[p]){v&&v.p&&(!r||p&2)&&nn(v,f,b,b[1],r?tn(f,b[1],p,Cs):on(b[1]),Mn),p&1&&Y(n,"active",b[0]),g&&g.p&&(!r||p&2)&&nn(g,m,b,b[1],r?tn(m,b[1],p,ks):on(b[1]),Dn),p&1&&Y(i,"active",b[0])},i(b){r||(M(v,b),M(g,b),r=!0)},o(b){H(v,b),H(g,b),r=!1},d(b){b&&k(t),v&&v.d(b),g&&g.d(b),a=!1,u()}}}function Os(o,t,e){let{$$slots:n={},$$scope:s}=t,i=!1;const l=r=>{r.preventDefault(),e(0,i=!i)};return o.$$set=r=>{"$$scope"in r&&e(1,s=r.$$scope)},[i,s,n,l]}class $e extends Ae{constructor(t){super(),Pe(this,t,Os,Ss,Le,{})}}function Fn(o,t,e){const n=o.slice();return n[37]=t[e],n}function Jn(o,t,e){const n=o.slice();return n[40]=t[e],n}function Ls(o){let t;return{c(){t=h("h1"),t.textContent="New!",c(t,"class","svelte-1onif8i")},m(e,n){S(e,t,n)},d(e){e&&k(t)}}}function Ps(o){let t;return{c(){t=h("h1"),t.textContent="Updating!",c(t,"class","svelte-1onif8i")},m(e,n){S(e,t,n)},d(e){e&&k(t)}}}function Bn(o){let t,e,n,s=o[1].id+"",i;return{c(){t=h("div"),e=h("strong"),n=z("Id: "),i=z(s),c(e,"class","svelte-1onif8i"),c(t,"class","id svelte-1onif8i")},m(l,r){S(l,t,r),d(t,e),d(e,n),d(e,i)},p(l,r){r[0]&2&&s!==(s=l[1].id+"")&&ne(i,s)},d(l){l&&k(t)}}}function As(o){let t;return{c(){t=h("span"),t.textContent="target selector*",c(t,"slot","name"),c(t,"class","svelte-1onif8i")},m(e,n){S(e,t,n)},p:D,d(e){e&&k(t)}}}function js(o){let t;return{c(){t=h("span"),t.innerHTML=`A valid CSS selector string to be the target of observation, the updates are based on changes of this element, so anytime the text on it changes, you get a new update.<br class="svelte-1onif8i"/>
				Example &quot;.post&quot;<br class="svelte-1onif8i"/><br class="svelte-1onif8i"/>
				You can learn more about CSS selectors <a class="tooltiplink svelte-1onif8i" href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors" target="_blank">here</a>`,c(t,"slot","content"),c(t,"class","svelte-1onif8i")},m(e,n){S(e,t,n)},p:D,d(e){e&&k(t)}}}function Es(o){let t;return{c(){t=h("span"),t.textContent="keywords",c(t,"slot","name"),c(t,"class","svelte-1onif8i")},m(e,n){S(e,t,n)},p:D,d(e){e&&k(t)}}}function Ts(o){let t;return{c(){t=h("span"),t.innerHTML=`Filter the updates with only the ones that contains words listed here, you can have more than one word separated by &quot;,&quot; without spaces<br class="svelte-1onif8i"/>
				Example: &quot;41234,foo,hello world&quot;<br class="svelte-1onif8i"/>
				If left blank, it will update on any change regradless.`,c(t,"slot","content"),c(t,"class","svelte-1onif8i")},m(e,n){S(e,t,n)},p:D,d(e){e&&k(t)}}}function Ns(o){let t;return{c(){t=h("span"),t.textContent="cover",c(t,"slot","name"),c(t,"class","svelte-1onif8i")},m(e,n){S(e,t,n)},p:D,d(e){e&&k(t)}}}function Rs(o){let t;return{c(){t=h("span"),t.textContent="A url of an image",c(t,"slot","content"),c(t,"class","svelte-1onif8i")},m(e,n){S(e,t,n)},p:D,d(e){e&&k(t)}}}function qs(o){let t;return{c(){t=h("span"),t.textContent="newest post on top",c(t,"slot","name"),c(t,"class","svelte-1onif8i")},m(e,n){S(e,t,n)},p:D,d(e){e&&k(t)}}}function Is(o){let t;return{c(){t=h("span"),t.textContent="When marked, the updates will check the newest content from the top of the page (like a blog or twitter), instead of bottom of the page",c(t,"slot","content"),c(t,"class","svelte-1onif8i")},m(e,n){S(e,t,n)},p:D,d(e){e&&k(t)}}}function Gn(o){let t,e,n,s,i,l,r;return s=new $e({props:{$$slots:{content:[zs],name:[Us]},$$scope:{ctx:o}}}),{c(){t=h("div"),e=h("input"),n=A(),he(s.$$.fragment),c(e,"id","dead"),c(e,"type","checkbox"),c(e,"class","svelte-1onif8i"),c(t,"class","select-holder svelte-1onif8i")},m(a,u){S(a,t,u),d(t,e),e.checked=o[1].dead,d(t,n),ue(s,t,null),i=!0,l||(r=W(e,"change",o[25]),l=!0)},p(a,u){u[0]&2&&(e.checked=a[1].dead);const f={};u[1]&4096&&(f.$$scope={dirty:u,ctx:a}),s.$set(f)},i(a){i||(M(s.$$.fragment,a),i=!0)},o(a){H(s.$$.fragment,a),i=!1},d(a){a&&k(t),fe(s),l=!1,r()}}}function Us(o){let t;return{c(){t=h("span"),t.textContent="dead",c(t,"slot","name"),c(t,"class","svelte-1onif8i")},m(e,n){S(e,t,n)},p:D,d(e){e&&k(t)}}}function zs(o){let t;return{c(){t=h("span"),t.textContent="When marked, the updates will not check any changes on this page anymore",c(t,"slot","content"),c(t,"class","svelte-1onif8i")},m(e,n){S(e,t,n)},p:D,d(e){e&&k(t)}}}function Vn(o){let t;return{c(){t=h("div"),t.textContent="Are you sure?",c(t,"class","deleteconfirm svelte-1onif8i")},m(e,n){S(e,t,n)},d(e){e&&k(t)}}}function Ds(o){let t,e,n,s,i;return{c(){t=h("button"),t.textContent="New!",e=A(),n=h("button"),n.textContent="Clear!",c(t,"type","button"),c(t,"class","svelte-1onif8i"),c(n,"type","button"),c(n,"class","svelte-1onif8i")},m(l,r){S(l,t,r),S(l,e,r),S(l,n,r),s||(i=[W(t,"click",o[13]),W(n,"click",o[11])],s=!0)},p:D,d(l){l&&k(t),l&&k(e),l&&k(n),s=!1,me(i)}}}function Ms(o){let t,e,n,s,i;return{c(){t=h("button"),t.textContent="Save!",e=A(),n=h("button"),n.textContent="Delete!",c(t,"type","button"),c(t,"class","svelte-1onif8i"),c(n,"type","button"),c(n,"class","svelte-1onif8i")},m(l,r){S(l,t,r),S(l,e,r),S(l,n,r),s||(i=[W(t,"click",o[12]),W(n,"click",o[27])],s=!0)},p:D,d(l){l&&k(t),l&&k(e),l&&k(n),s=!1,me(i)}}}function Fs(o){let t,e,n,s,i;return{c(){t=h("button"),t.textContent="No",e=A(),n=h("button"),n.textContent="Yes",c(t,"type","button"),c(t,"class","svelte-1onif8i"),c(n,"type","button"),c(n,"class","svelte-1onif8i")},m(l,r){S(l,t,r),S(l,e,r),S(l,n,r),s||(i=[W(t,"click",o[26]),W(n,"click",o[14])],s=!0)},p:D,d(l){l&&k(t),l&&k(e),l&&k(n),s=!1,me(i)}}}function Wn(o){let t,e;return{c(){t=h("img"),Ve(t.src,e=o[1].thumb)||c(t,"src",e),c(t,"alt","data.name"),c(t,"class","svelte-1onif8i")},m(n,s){S(n,t,s)},p(n,s){s[0]&2&&!Ve(t.src,e=n[1].thumb)&&c(t,"src",e)},d(n){n&&k(t)}}}function Kn(o){let t;return{c(){t=h("span"),t.textContent="[Dead]",c(t,"class","dead svelte-1onif8i")},m(e,n){S(e,t,n)},d(e){e&&k(t)}}}function Yn(o){let t,e=o[1].contains,n=[];for(let s=0;s<e.length;s+=1)n[s]=Xn(Jn(o,e,s));return{c(){t=h("div");for(let s=0;s<n.length;s+=1)n[s].c();c(t,"class","contains svelte-1onif8i")},m(s,i){S(s,t,i);for(let l=0;l<n.length;l+=1)n[l].m(t,null)},p(s,i){if(i[0]&2){e=s[1].contains;let l;for(l=0;l<e.length;l+=1){const r=Jn(s,e,l);n[l]?n[l].p(r,i):(n[l]=Xn(r),n[l].c(),n[l].m(t,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=e.length}},d(s){s&&k(t),Te(n,s)}}}function Xn(o){let t,e=o[40]+"",n;return{c(){t=h("span"),n=z(e),c(t,"class","svelte-1onif8i")},m(s,i){S(s,t,i),d(t,n)},p(s,i){i[0]&2&&e!==(e=s[40]+"")&&ne(n,e)},d(s){s&&k(t)}}}function Hn(o){let t,e,n=o[1].updates+"",s;return{c(){t=h("div"),e=z("Updates: "),s=z(n),c(t,"class","replies svelte-1onif8i")},m(i,l){S(i,t,l),d(t,e),d(t,s)},p(i,l){l[0]&2&&n!==(n=i[1].updates+"")&&ne(s,n)},d(i){i&&k(t)}}}function Qn(o){let t,e,n,s,i,l,r,a,u,f,v,m,g,b,p,w=o[1].id!=""&&Zn(o);return{c(){t=h("div"),w&&w.c(),e=A(),n=h("a"),s=z(`visit 
							`),i=qe("svg"),l=qe("path"),a=A(),u=h("a"),f=h("img"),m=z(` archive.ph
							`),g=qe("svg"),b=qe("path"),c(l,"d","M 41.470703 4.9863281 A 1.50015 1.50015 0 0 0 41.308594 5 L 27.5 5 A 1.50015 1.50015 0 1 0 27.5 8 L 37.878906 8 L 22.439453 23.439453 A 1.50015 1.50015 0 1 0 24.560547 25.560547 L 40 10.121094 L 40 20.5 A 1.50015 1.50015 0 1 0 43 20.5 L 43 6.6894531 A 1.50015 1.50015 0 0 0 41.470703 4.9863281 z M 12.5 8 C 8.3754991 8 5 11.375499 5 15.5 L 5 35.5 C 5 39.624501 8.3754991 43 12.5 43 L 32.5 43 C 36.624501 43 40 39.624501 40 35.5 L 40 25.5 A 1.50015 1.50015 0 1 0 37 25.5 L 37 35.5 C 37 38.003499 35.003499 40 32.5 40 L 12.5 40 C 9.9965009 40 8 38.003499 8 35.5 L 8 15.5 C 8 12.996501 9.9965009 11 12.5 11 L 22.5 11 A 1.50015 1.50015 0 1 0 22.5 8 L 12.5 8 z"),c(l,"class","svelte-1onif8i"),c(i,"fill","var(--button-color)"),c(i,"xmlns","http://www.w3.org/2000/svg"),c(i,"viewBox","0 0 48 48"),c(i,"width","15px"),c(i,"height","15px"),c(i,"class","svelte-1onif8i"),c(n,"class","btn-link svelte-1onif8i"),c(n,"target","_blank"),c(n,"href",r=o[1].link),c(f,"alt",""),Ve(f.src,v=ws)||c(f,"src",v),c(f,"class","svelte-1onif8i"),c(b,"d","M 41.470703 4.9863281 A 1.50015 1.50015 0 0 0 41.308594 5 L 27.5 5 A 1.50015 1.50015 0 1 0 27.5 8 L 37.878906 8 L 22.439453 23.439453 A 1.50015 1.50015 0 1 0 24.560547 25.560547 L 40 10.121094 L 40 20.5 A 1.50015 1.50015 0 1 0 43 20.5 L 43 6.6894531 A 1.50015 1.50015 0 0 0 41.470703 4.9863281 z M 12.5 8 C 8.3754991 8 5 11.375499 5 15.5 L 5 35.5 C 5 39.624501 8.3754991 43 12.5 43 L 32.5 43 C 36.624501 43 40 39.624501 40 35.5 L 40 25.5 A 1.50015 1.50015 0 1 0 37 25.5 L 37 35.5 C 37 38.003499 35.003499 40 32.5 40 L 12.5 40 C 9.9965009 40 8 38.003499 8 35.5 L 8 15.5 C 8 12.996501 9.9965009 11 12.5 11 L 22.5 11 A 1.50015 1.50015 0 1 0 22.5 8 L 12.5 8 z"),c(b,"class","svelte-1onif8i"),c(g,"fill","var(--button-color)"),c(g,"xmlns","http://www.w3.org/2000/svg"),c(g,"viewBox","0 0 48 48"),c(g,"width","15px"),c(g,"height","15px"),c(g,"class","svelte-1onif8i"),c(u,"class","btn-link svelte-1onif8i"),c(u,"target","_blank"),c(u,"href",p="https://archive.today/?run=1&url="+o[1].link),c(t,"class","btn-links-holder svelte-1onif8i")},m(y,O){S(y,t,O),w&&w.m(t,null),d(t,e),d(t,n),d(n,s),d(n,i),d(i,l),d(t,a),d(t,u),d(u,f),d(u,m),d(u,g),d(g,b)},p(y,O){y[1].id!=""?w?w.p(y,O):(w=Zn(y),w.c(),w.m(t,e)):w&&(w.d(1),w=null),O[0]&2&&r!==(r=y[1].link)&&c(n,"href",r),O[0]&2&&p!==(p="https://archive.today/?run=1&url="+y[1].link)&&c(u,"href",p)},d(y){y&&k(t),w&&w.d()}}}function Zn(o){let t,e,n;function s(r,a){return r[9]?Bs:Js}let i=s(o),l=i(o);return{c(){t=h("button"),l.c(),c(t,"class","btn-link svelte-1onif8i"),Y(t,"updatingsingle",o[9])},m(r,a){S(r,t,a),l.m(t,null),e||(n=W(t,"click",o[28]),e=!0)},p(r,a){i!==(i=s(r))&&(l.d(1),l=i(r),l&&(l.c(),l.m(t,null))),a[0]&512&&Y(t,"updatingsingle",r[9])},d(r){r&&k(t),l.d(),e=!1,n()}}}function Js(o){let t;return{c(){t=z("check for updates")},m(e,n){S(e,t,n)},d(e){e&&k(t)}}}function Bs(o){let t;return{c(){t=z("checking...")},m(e,n){S(e,t,n)},d(e){e&&k(t)}}}function $n(o){let t,e,n,s,i,l=o[1].laspost.split(`
`),r=[];for(let a=0;a<l.length;a+=1)r[a]=xn(Fn(o,l,a));return{c(){t=h("div"),e=h("div"),n=h("h4"),n.textContent="Last update:",s=A(),i=h("div");for(let a=0;a<r.length;a+=1)r[a].c();c(n,"class","data-content svelte-1onif8i"),c(i,"class","status-text svelte-1onif8i"),c(e,"class","status-content svelte-1onif8i"),c(t,"class","svelte-1onif8i"),Y(t,"newpost",o[5].find(o[29])||o[8])},m(a,u){S(a,t,u),d(t,e),d(e,n),d(e,s),d(e,i);for(let f=0;f<r.length;f+=1)r[f].m(i,null)},p(a,u){if(u[0]&2){l=a[1].laspost.split(`
`);let f;for(f=0;f<l.length;f+=1){const v=Fn(a,l,f);r[f]?r[f].p(v,u):(r[f]=xn(v),r[f].c(),r[f].m(i,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}u[0]&290&&Y(t,"newpost",a[5].find(a[29])||a[8])},d(a){a&&k(t),Te(r,a)}}}function xn(o){let t,e=o[37]+"",n;return{c(){t=h("div"),n=z(e),c(t,"class","svelte-1onif8i")},m(s,i){S(s,t,i),d(t,n)},p(s,i){i[0]&2&&e!==(e=s[37]+"")&&ne(n,e)},d(s){s&&k(t)}}}function Gs(o){let t,e,n,s,i,l,r,a,u,f,v,m,g,b,p,w,y,O,_,C,L,N,E,J,T,F,q,oe,ee,de,G,pe,V,K,Q,Z,Ce,$,re,P,I,U,X,R,ae,te,Ne,Bt,We,De,Ct,se,St,nt,ot=o[1].name+"",Ot,Gt,st,it=o[1].host+"",Lt,Vt,Pt,At,Wt,Me,jt,Ke,lt,rt,Et,Fe,Tt,Kt;function Yt(j,B){return j[1].id!=""?Ps:Ls}let at=Yt(o),Re=at(o),ve=o[1].id!=""&&Bn(o);b=new $e({props:{$$slots:{content:[js],name:[As]},$$scope:{ctx:o}}}),T=new $e({props:{$$slots:{content:[Ts],name:[Es]},$$scope:{ctx:o}}}),G=new $e({props:{$$slots:{content:[Rs],name:[Ns]},$$scope:{ctx:o}}}),X=new $e({props:{$$slots:{content:[Is],name:[qs]},$$scope:{ctx:o}}});let ie=o[1].id!=""&&Gn(o),Se=o[7]&&Vn();function Xt(j,B){return j[7]?Fs:j[1].id!=""?Ms:Ds}let ct=Xt(o),je=ct(o),ge=o[1].thumb!=""&&Wn(o),Oe=o[1].dead&&Kn(),_e=o[1].contains.length>0&&Yn(o),be=o[1].id!=""&&Hn(o),ye=o[3]&&Qn(o),we=o[1].laspost!=""&&$n(o);return{c(){t=h("main"),e=h("div"),Re.c(),n=A(),s=h("section"),i=h("form"),ve&&ve.c(),l=A(),r=h("div"),a=h("div"),a.textContent="url*",u=A(),f=h("input"),v=A(),m=h("div"),g=h("div"),he(b.$$.fragment),p=A(),w=h("input"),y=A(),O=h("div"),_=h("div"),_.textContent="title*",C=A(),L=h("input"),N=A(),E=h("div"),J=h("div"),he(T.$$.fragment),F=A(),q=h("input"),oe=A(),ee=h("div"),de=h("div"),he(G.$$.fragment),pe=A(),V=h("input"),K=A(),Q=h("div"),Z=h("div"),Z.textContent="Extra information",Ce=A(),$=h("textarea"),re=A(),P=h("div"),I=h("input"),U=A(),he(X.$$.fragment),R=A(),ie&&ie.c(),ae=A(),Se&&Se.c(),te=A(),Ne=h("div"),je.c(),Bt=A(),We=h("div"),De=h("div"),ge&&ge.c(),Ct=A(),se=h("div"),Oe&&Oe.c(),St=A(),nt=h("h3"),Ot=z(ot),Gt=A(),st=h("div"),Lt=z(it),Vt=A(),_e&&_e.c(),Pt=A(),be&&be.c(),At=A(),ye&&ye.c(),Wt=A(),Me=h("div"),we&&we.c(),jt=A(),Ke=h("div"),lt=h("div"),rt=h("div"),Et=z(o[4]),c(e,"class","container-header svelte-1onif8i"),c(a,"class","labelholder svelte-1onif8i"),c(a,"for","link"),c(f,"id","link"),c(f,"placeholder","https://en.wikipedia.org/wiki/Main_Page*"),c(f,"class","svelte-1onif8i"),c(r,"class","svelte-1onif8i"),c(g,"class","labelholder svelte-1onif8i"),c(g,"for","observeName"),c(w,"id","observeName"),c(w,"placeholder",".post*"),c(w,"class","svelte-1onif8i"),c(m,"class","svelte-1onif8i"),c(_,"class","labelholder svelte-1onif8i"),c(_,"for","name"),c(L,"id","name"),c(L,"placeholder","Title"),c(L,"class","svelte-1onif8i"),c(O,"class","svelte-1onif8i"),c(J,"class","labelholder svelte-1onif8i"),c(J,"for","containsstr"),c(q,"id","containsstr"),c(q,"placeholder","foo,123,hello world,41234"),c(q,"class","svelte-1onif8i"),c(E,"class","svelte-1onif8i"),c(de,"class","labelholder svelte-1onif8i"),c(de,"for","thumb"),c(V,"id","thumb"),c(V,"placeholder","https://validwebsite.com/image.png"),c(V,"class","svelte-1onif8i"),c(ee,"class","svelte-1onif8i"),c(Z,"class","labelholder svelte-1onif8i"),c(Z,"for","meta"),c($,"id","meta"),c($,"placeholder","Any extra info goes here"),c($,"class","svelte-1onif8i"),c(Q,"class","svelte-1onif8i"),c(I,"id","newestOnTop"),c(I,"type","checkbox"),c(I,"class","svelte-1onif8i"),c(P,"class","select-holder svelte-1onif8i"),c(Ne,"class","form-btns-holder svelte-1onif8i"),c(i,"class","svelte-1onif8i"),c(nt,"class","svelte-1onif8i"),c(st,"class","hostName svelte-1onif8i"),c(se,"class","postdata svelte-1onif8i"),c(De,"class","thumb svelte-1onif8i"),c(rt,"class","status-text svelte-1onif8i"),c(lt,"class","status-content svelte-1onif8i"),c(Ke,"class","status-box svelte-1onif8i"),Y(Ke,"statusActive",o[6]),c(Me,"class","status svelte-1onif8i"),c(We,"class","thumb-holder svelte-1onif8i"),c(s,"class","new-section svelte-1onif8i"),Y(s,"btnActive",o[2]),c(t,"class","svelte-1onif8i")},m(j,B){S(j,t,B),d(t,e),Re.m(e,null),d(t,n),d(t,s),d(s,i),ve&&ve.m(i,null),d(i,l),d(i,r),d(r,a),d(r,u),d(r,f),ce(f,o[1].link),d(i,v),d(i,m),d(m,g),ue(b,g,null),d(m,p),d(m,w),ce(w,o[1].observeName),d(i,y),d(i,O),d(O,_),d(O,C),d(O,L),ce(L,o[1].name),d(i,N),d(i,E),d(E,J),ue(T,J,null),d(E,F),d(E,q),ce(q,o[0]),d(i,oe),d(i,ee),d(ee,de),ue(G,de,null),d(ee,pe),d(ee,V),ce(V,o[1].thumb),d(i,K),d(i,Q),d(Q,Z),d(Q,Ce),d(Q,$),ce($,o[1].meta),d(i,re),d(i,P),d(P,I),I.checked=o[1].newestOnTop,d(P,U),ue(X,P,null),d(i,R),ie&&ie.m(i,null),d(i,ae),Se&&Se.m(i,null),d(i,te),d(i,Ne),je.m(Ne,null),d(s,Bt),d(s,We),d(We,De),ge&&ge.m(De,null),d(De,Ct),d(De,se),Oe&&Oe.m(se,null),d(se,St),d(se,nt),d(nt,Ot),d(se,Gt),d(se,st),d(st,Lt),d(se,Vt),_e&&_e.m(se,null),d(se,Pt),be&&be.m(se,null),d(se,At),ye&&ye.m(se,null),d(We,Wt),d(We,Me),we&&we.m(Me,null),d(Me,jt),d(Me,Ke),d(Ke,lt),d(lt,rt),d(rt,Et),Fe=!0,Tt||(Kt=[W(f,"input",o[16]),W(f,"input",o[17]),W(f,"change",o[18]),W(w,"input",o[19]),W(L,"input",o[20]),W(q,"input",o[21]),W(V,"input",o[22]),W($,"input",o[23]),W(I,"change",o[24])],Tt=!0)},p(j,B){at!==(at=Yt(j))&&(Re.d(1),Re=at(j),Re&&(Re.c(),Re.m(e,null))),j[1].id!=""?ve?ve.p(j,B):(ve=Bn(j),ve.c(),ve.m(i,l)):ve&&(ve.d(1),ve=null),B[0]&2&&f.value!==j[1].link&&ce(f,j[1].link);const Ht={};B[1]&4096&&(Ht.$$scope={dirty:B,ctx:j}),b.$set(Ht),B[0]&2&&w.value!==j[1].observeName&&ce(w,j[1].observeName),B[0]&2&&L.value!==j[1].name&&ce(L,j[1].name);const Qt={};B[1]&4096&&(Qt.$$scope={dirty:B,ctx:j}),T.$set(Qt),B[0]&1&&q.value!==j[0]&&ce(q,j[0]);const Zt={};B[1]&4096&&(Zt.$$scope={dirty:B,ctx:j}),G.$set(Zt),B[0]&2&&V.value!==j[1].thumb&&ce(V,j[1].thumb),B[0]&2&&ce($,j[1].meta),B[0]&2&&(I.checked=j[1].newestOnTop);const $t={};B[1]&4096&&($t.$$scope={dirty:B,ctx:j}),X.$set($t),j[1].id!=""?ie?(ie.p(j,B),B[0]&2&&M(ie,1)):(ie=Gn(j),ie.c(),M(ie,1),ie.m(i,ae)):ie&&(Ie(),H(ie,1,1,()=>{ie=null}),Ue()),j[7]?Se||(Se=Vn(),Se.c(),Se.m(i,te)):Se&&(Se.d(1),Se=null),ct===(ct=Xt(j))&&je?je.p(j,B):(je.d(1),je=ct(j),je&&(je.c(),je.m(Ne,null))),j[1].thumb!=""?ge?ge.p(j,B):(ge=Wn(j),ge.c(),ge.m(De,Ct)):ge&&(ge.d(1),ge=null),j[1].dead?Oe||(Oe=Kn(),Oe.c(),Oe.m(se,St)):Oe&&(Oe.d(1),Oe=null),(!Fe||B[0]&2)&&ot!==(ot=j[1].name+"")&&ne(Ot,ot),(!Fe||B[0]&2)&&it!==(it=j[1].host+"")&&ne(Lt,it),j[1].contains.length>0?_e?_e.p(j,B):(_e=Yn(j),_e.c(),_e.m(se,Pt)):_e&&(_e.d(1),_e=null),j[1].id!=""?be?be.p(j,B):(be=Hn(j),be.c(),be.m(se,At)):be&&(be.d(1),be=null),j[3]?ye?ye.p(j,B):(ye=Qn(j),ye.c(),ye.m(se,null)):ye&&(ye.d(1),ye=null),j[1].laspost!=""?we?we.p(j,B):(we=$n(j),we.c(),we.m(Me,jt)):we&&(we.d(1),we=null),(!Fe||B[0]&16)&&ne(Et,j[4]),B[0]&64&&Y(Ke,"statusActive",j[6]),B[0]&4&&Y(s,"btnActive",j[2])},i(j){Fe||(M(b.$$.fragment,j),M(T.$$.fragment,j),M(G.$$.fragment,j),M(X.$$.fragment,j),M(ie),Fe=!0)},o(j){H(b.$$.fragment,j),H(T.$$.fragment,j),H(G.$$.fragment,j),H(X.$$.fragment,j),H(ie),Fe=!1},d(j){j&&k(t),Re.d(),ve&&ve.d(),fe(b),fe(T),fe(G),fe(X),ie&&ie.d(),Se&&Se.d(),je.d(),ge&&ge.d(),Oe&&Oe.d(),_e&&_e.d(),be&&be.d(),ye&&ye.d(),we&&we.d(),Tt=!1,me(Kt)}}}function Vs(o,t,e){let n;ke(o,qo,P=>e(30,n=P));const s=window.localStorage.getItem("pocketbase_auth");let i=s?JSON.parse(s):!1,l=!1,r=!1,a="",u="Creating new",f=[],v=!1,m=!1,g=!1;const b=new URLSearchParams(n);let p={id:"",name:"",link:"",host:"",observeName:"",contains:[],newestOnTop:!1,thumb:"",dead:!1,laspost:"",meta:"",updates:1};const w={method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"};let y=!1;const O=P=>{e(9,y=!0),(async()=>{console.log(p.dead);const U=await(await fetch("/api/getnewupsates",{...w,body:JSON.stringify({ids:[P],ignoredead:!0,dead:p.dead})})).json();console.log(U),e(9,y=!1),U.channels[0].laspost!=p.laspost&&(e(1,p=U.channels[0]),e(8,g=!0))})()},_=P=>{try{if(P==="")throw"empty selector";return document.querySelector(P),!0}catch(I){console.warn(I)}return!1},C=P=>{try{return new URL(P),!0}catch(I){console.warn(I)}return!1};function L(){e(1,p.id="",p),e(1,p.name="",p),e(1,p.link="",p),e(1,p.observeName="",p),e(1,p.contains=[],p),e(1,p.newestOnTop=!1,p),e(1,p.thumb="",p),e(1,p.dead=!1,p),e(1,p.meta="",p),e(1,p.laspost="",p),e(1,p.host="",p),e(6,v=!1)}async function N(){try{if(console.log(p),e(6,v=!0),e(4,u="posting..."),e(2,l=!1),p.name==="")throw"empty name";if(!r)throw"invalid url";if(!_(p.observeName))throw"invalid selector";e(1,p.host=new URL(p.link).hostname,p);const P=await x.records.update("channel",p.id,p);P&&(console.log(P),e(6,v=!0),e(4,u=`${p.id} updated!`),e(2,l=!0))}catch(P){return console.warn(P),e(6,v=!0),e(4,u=`error updating, ${P}`),e(2,l=!0),!1}}async function E(){try{if(p.name==="")throw"empty name";if(!r)throw"invalid url";if(!_(p.observeName))throw"invalid selector";e(1,p.host=new URL(p.link).hostname,p),e(6,v=!0),e(4,u="creating..."),e(2,l=!1),delete p.id,console.log("sending...",p);const P=await x.records.create("channel",{...p,user:i.model.id});if(P){console.log(P),e(1,p.id=P.id,p);const I=[];I.push(p.id),e(6,v=!0),e(4,u="updating...");const U=await fetch("/api/getnewupsates",{...w,body:JSON.stringify({ids:I})});console.log(U);const X=await x.records.getFullList("news");Xe.update(R=>X.length),e(6,v=!0),e(4,u="New target created!"),e(2,l=!0),Ee(`/new?id=${P.id}`)}}catch(P){return console.warn(P),e(4,u=`error updating, ${P}`),e(2,l=!0),!1}}async function J(){e(6,v=!0),e(4,u="deleting..."),e(2,l=!1);const P=await x.records.delete("channel",p.id);console.log(P),L(),e(4,u=`${p.id} deleted`),e(2,l=!0),e(7,m=!1),setTimeout(()=>{Ee("/")},1e3)}async function T(P){if(console.log(P),r){e(6,v=!0),e(4,u="checking url...");let I=null;const U=await x.records.getList("channel",1,1,{filter:`host = "${new URL(P).hostname}"`,sort:"-created"});if(U&&U.items.length>0){const R=U.items[0];e(1,p.observeName=(R==null?void 0:R.observeName)===""?p.observeName:R==null?void 0:R.observeName,p),e(1,p.newestOnTop=R==null?void 0:R.newestOnTop,p),I=R==null?void 0:R.thumb}e(4,u="trying metadata...");const X=await fetch("/api/trymeta",{...w,body:JSON.stringify({link:p.link})});if(X.ok){const R=await X.json();console.log(R),e(1,p.name=R.name===""?p.name:R.name,p),e(1,p.thumb=R.thumb===""?I||p.thumb:R.thumb,p),e(4,u=R.name!=""||R.thumb!=""?"fetched metadata from url":"metadata not available")}else e(4,u="page is not available right now")}}wt(async()=>{for(const P in p)b.get(P)&&(typeof p[P]=="string"?e(1,p[P]=b.get(P),p):typeof p[P]=="boolean"?e(1,p[P]=b.get(P)==="true",p):typeof p[P]=="object"&&e(1,p[P]=b.get(P).split(","),p));if(b.get("id"))try{e(6,v=!0),e(4,u="fetching data...");const P=await x.records.getOne("channel",b.get("id"));if(console.log(b.get("id")),P){console.log(P);for(const I in p)e(1,p[I]=P[I],p);e(6,v=!1),e(0,a=p.contains.toString()),e(5,f=await x.records.getFullList("news")),console.log(P)}else e(4,u="Url id not found"),L(),Ee("/new")}catch(P){console.warn(P),Ee("/error")}e(2,l=!0)});function F(){p.link=this.value,e(1,p),e(0,a)}const q=()=>T(p.link),oe=()=>T(p.link);function ee(){p.observeName=this.value,e(1,p),e(0,a)}function de(){p.name=this.value,e(1,p),e(0,a)}function G(){a=this.value,e(0,a)}function pe(){p.thumb=this.value,e(1,p),e(0,a)}function V(){p.meta=this.value,e(1,p),e(0,a)}function K(){p.newestOnTop=this.checked,e(1,p),e(0,a)}function Q(){p.dead=this.checked,e(1,p),e(0,a)}const Z=()=>e(7,m=!1),Ce=()=>e(7,m=!0),$=()=>{O(p.id)},re=P=>P.channelid===p.id;return o.$$.update=()=>{o.$$.dirty[0]&3&&(e(1,p.contains=a===""?[]:a.split(","),p),e(3,r=C(p.link)))},[a,p,l,r,u,f,v,m,g,y,O,L,N,E,J,T,F,q,oe,ee,de,G,pe,V,K,Q,Z,Ce,$,re]}class Ws extends Ae{constructor(t){super(),Pe(this,t,Vs,Gs,Le,{},null,[-1,-1])}}function Ks(o){let t;return{c(){t=z("Error, check if the server still up")},m(e,n){S(e,t,n)},p:D,i:D,o:D,d(e){e&&k(t)}}}class Ys extends Ae{constructor(t){super(),Pe(this,t,null,Ks,Le,{})}}function Xs(o){let t,e,n,s,i,l,r,a,u,f,v,m,g,b,p,w,y,O=o[2]&&eo(o);return{c(){t=h("h1"),t.textContent="Ibhub login",e=A(),n=h("div"),s=z("email: "),i=h("input"),l=A(),r=h("div"),a=z("password: "),u=h("input"),f=A(),v=h("button"),v.textContent="Register",m=A(),g=h("button"),g.textContent="login",b=A(),O&&O.c(),p=He(),c(i,"type","text"),c(i,"name",""),c(n,"class","input svelte-php5by"),c(u,"type","password"),c(u,"name",""),c(r,"class","input svelte-php5by"),c(v,"class","svelte-php5by"),c(g,"class","svelte-php5by")},m(_,C){S(_,t,C),S(_,e,C),S(_,n,C),d(n,s),d(n,i),ce(i,o[4].email),S(_,l,C),S(_,r,C),d(r,a),d(r,u),ce(u,o[4].password),S(_,f,C),S(_,v,C),S(_,m,C),S(_,g,C),S(_,b,C),O&&O.m(_,C),S(_,p,C),w||(y=[W(i,"input",o[9]),W(u,"input",o[10]),W(v,"click",o[6]),W(g,"click",o[7])],w=!0)},p(_,C){C&16&&i.value!==_[4].email&&ce(i,_[4].email),C&16&&u.value!==_[4].password&&ce(u,_[4].password),_[2]?O?O.p(_,C):(O=eo(_),O.c(),O.m(p.parentNode,p)):O&&(O.d(1),O=null)},d(_){_&&k(t),_&&k(e),_&&k(n),_&&k(l),_&&k(r),_&&k(f),_&&k(v),_&&k(m),_&&k(g),_&&k(b),O&&O.d(_),_&&k(p),w=!1,me(y)}}}function Hs(o){let t,e,n=o[0][o[0].model?"model":"user"].email+"",s,i,l,r,a,u,f;return{c(){t=h("div"),e=z("Wellcome "),s=z(n),i=A(),l=h("button"),l.textContent="logout",r=A(),a=h("button"),a.textContent="home",c(t,"class","success svelte-php5by"),c(l,"class","svelte-php5by"),c(a,"class","svelte-php5by")},m(v,m){S(v,t,m),d(t,e),d(t,s),S(v,i,m),S(v,l,m),S(v,r,m),S(v,a,m),u||(f=[W(l,"click",o[5]),W(a,"click",o[8])],u=!0)},p(v,m){m&1&&n!==(n=v[0][v[0].model?"model":"user"].email+"")&&ne(s,n)},d(v){v&&k(t),v&&k(i),v&&k(l),v&&k(r),v&&k(a),u=!1,me(f)}}}function eo(o){let t,e,n;return{c(){t=h("div"),e=z(o[3]),c(t,"class",n=sn(o[1])+" svelte-php5by")},m(s,i){S(s,t,i),d(t,e)},p(s,i){i&8&&ne(e,s[3]),i&2&&n!==(n=sn(s[1])+" svelte-php5by")&&c(t,"class",n)},d(s){s&&k(t)}}}function Qs(o){let t,e;function n(l,r){return l[0]?Hs:Xs}let s=n(o),i=s(o);return{c(){t=h("main"),e=h("article"),i.c(),c(e,"class","svelte-php5by")},m(l,r){S(l,t,r),d(t,e),i.m(e,null)},p(l,[r]){s===(s=n(l))&&i?i.p(l,r):(i.d(1),i=s(l),i&&(i.c(),i.m(e,null)))},i:D,o:D,d(l){l&&k(t),i.d()}}}function Zs(o,t,e){const n=window.localStorage.getItem("pocketbase_auth");let s=n?JSON.parse(n):!1,i="success",l=!1,r="";s&&(x.authStore.save(s.token,s.model),console.log(s));async function a(){x.authStore.clear(),e(0,s=!1)}let u={email:"",password:""};async function f(){try{const w=await x.users.create({email:u.email,password:u.password,passwordConfirm:u.password});console.log(w),w&&v()}catch{e(1,i="error"),e(2,l=!0),e(3,r="email already used")}}async function v(){const w=await x.users.requestVerification(u.email);w&&(console.log(w),e(1,i="success"),e(2,l=!0),e(3,r="Account created successfully, verification email sent"))}async function m(){const w=await x.users.authViaEmail(u.email,u.password);w&&(console.log(w),e(0,s=w))}const g=()=>{Ee("/")};function b(){u.email=this.value,e(4,u)}function p(){u.password=this.value,e(4,u)}return[s,i,l,r,u,a,f,m,g,b,p]}class $s extends Ae{constructor(t){super(),Pe(this,t,Zs,Qs,Le,{})}}function xs(o){let t,e,n,s,i,l,r,a,u,f,v,m,g,b,p,w,y;return document.title=t=o[0]+" ibhub",g=new hs({}),w=new zo({props:{routes:{"/":as,"/feed":ys,"/new":Ws,"/error":Ys,"/login":$s}}}),{c(){e=A(),n=h("main"),s=h("nav"),i=h("a"),i.textContent="Channels",l=A(),r=h("a"),a=z(`Feed 
			`),u=h("strong"),f=z(o[0]),v=A(),m=h("div"),he(g.$$.fragment),b=A(),p=h("div"),he(w.$$.fragment),c(i,"href","/#/"),c(i,"class","svelte-1f0tw8o"),Y(i,"active",o[1]==="/"),c(r,"href","/#/feed"),c(r,"class","svelte-1f0tw8o"),Y(r,"active",o[1]==="/feed"),c(m,"class","settings svelte-1f0tw8o"),c(s,"class","svelte-1f0tw8o"),c(p,"class","app svelte-1f0tw8o")},m(O,_){S(O,e,_),S(O,n,_),d(n,s),d(s,i),d(s,l),d(s,r),d(r,a),d(r,u),d(u,f),d(s,v),d(s,m),ue(g,m,null),d(n,b),d(n,p),ue(w,p,null),y=!0},p(O,[_]){(!y||_&1)&&t!==(t=O[0]+" ibhub")&&(document.title=t),_&2&&Y(i,"active",O[1]==="/"),(!y||_&1)&&ne(f,O[0]),_&2&&Y(r,"active",O[1]==="/feed")},i(O){y||(M(g.$$.fragment,O),M(w.$$.fragment,O),y=!0)},o(O){H(g.$$.fragment,O),H(w.$$.fragment,O),y=!1},d(O){O&&k(e),O&&k(n),fe(g),fe(w)}}}function ei(o,t,e){let n,s;ke(o,Xe,l=>e(2,n=l)),ke(o,Ro,l=>e(1,s=l)),(async()=>{const l=await x.records.getFullList("news");Xe.update(r=>l.length)})();let i="";return o.$$.update=()=>{o.$$.dirty&4&&(n>0?e(0,i=`(${n})`):e(0,i=""))},[i,s,n]}class ti extends Ae{constructor(t){super(),Pe(this,t,ei,xs,Le,{})}}new ti({target:document.getElementById("app")});
