(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}})();function z(){}function Ft(s,t){for(const e in t)s[e]=t[e];return s}function os(s){return s()}function tn(){return Object.create(null)}function ve(s){s.forEach(os)}function yt(s){return typeof s=="function"}function je(s,t){return s!=s?t==t:s!==t||s&&typeof s=="object"||typeof s=="function"}let ft;function Ke(s,t){return ft||(ft=document.createElement("a")),ft.href=t,s===ft.href}function ws(s){return Object.keys(s).length===0}function zt(s,...t){if(s==null)return z;const e=s.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function ks(s){let t;return zt(s,e=>t=e)(),t}function Ce(s,t,e){s.$$.on_destroy.push(zt(t,e))}function nn(s,t,e,n){if(s){const o=is(s,t,e,n);return s[0](o)}}function is(s,t,e,n){return s[1]&&n?Ft(e.ctx.slice(),s[1](n(t))):e.ctx}function sn(s,t,e,n){if(s[2]&&n){const o=s[2](n(e));if(t.dirty===void 0)return o;if(typeof o=="object"){const i=[],l=Math.max(t.dirty.length,o.length);for(let r=0;r<l;r+=1)i[r]=t.dirty[r]|o[r];return i}return t.dirty|o}return t.dirty}function on(s,t,e,n,o,i){if(o){const l=is(t,e,n,i);s.p(l,o)}}function ln(s){if(s.ctx.length>32){const t=[],e=s.ctx.length/32;for(let n=0;n<e;n++)t[n]=-1;return t}return-1}function rn(s){return s==null?"":s}function ls(s,t,e){return s.set(e),t}function an(s){return s&&yt(s.destroy)?s.destroy:z}function f(s,t){s.appendChild(t)}function L(s,t,e){s.insertBefore(t,e||null)}function S(s){s.parentNode.removeChild(s)}function Ne(s,t){for(let e=0;e<s.length;e+=1)s[e]&&s[e].d(t)}function h(s){return document.createElement(s)}function Ue(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function U(s){return document.createTextNode(s)}function O(){return U(" ")}function Qe(){return U("")}function Y(s,t,e,n){return s.addEventListener(t,e,n),()=>s.removeEventListener(t,e,n)}function a(s,t,e){e==null?s.removeAttribute(t):s.getAttribute(t)!==e&&s.setAttribute(t,e)}function Cs(s){return Array.from(s.childNodes)}function ne(s,t){t=""+t,s.wholeText!==t&&(s.data=t)}function fe(s,t){s.value=t==null?"":t}function cn(s,t){for(let e=0;e<s.options.length;e+=1){const n=s.options[e];if(n.__value===t){n.selected=!0;return}}s.selectedIndex=-1}function Ss(s){const t=s.querySelector(":checked")||s.options[0];return t&&t.__value}function H(s,t,e){s.classList[e?"add":"remove"](t)}function Os(s,t,{bubbles:e=!1,cancelable:n=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(s,e,n,t),o}let nt;function et(s){nt=s}function wt(){if(!nt)throw new Error("Function called outside component initialization");return nt}function kt(s){wt().$$.on_mount.push(s)}function Ls(s){wt().$$.after_update.push(s)}function js(s){wt().$$.on_destroy.push(s)}function Ps(){const s=wt();return(t,e,{cancelable:n=!1}={})=>{const o=s.$$.callbacks[t];if(o){const i=Os(t,e,{cancelable:n});return o.slice().forEach(l=>{l.call(s,i)}),!i.defaultPrevented}return!0}}function un(s,t){const e=s.$$.callbacks[t.type];e&&e.slice().forEach(n=>n.call(this,t))}const xe=[],fn=[],ht=[],dn=[],rs=Promise.resolve();let qt=!1;function as(){qt||(qt=!0,rs.then(us))}function cs(){return as(),rs}function mt(s){ht.push(s)}const It=new Set;let dt=0;function us(){const s=nt;do{for(;dt<xe.length;){const t=xe[dt];dt++,et(t),As(t.$$)}for(et(null),xe.length=0,dt=0;fn.length;)fn.pop()();for(let t=0;t<ht.length;t+=1){const e=ht[t];It.has(e)||(It.add(e),e())}ht.length=0}while(xe.length);for(;dn.length;)dn.pop()();qt=!1,It.clear(),et(s)}function As(s){if(s.fragment!==null){s.update(),ve(s.before_update);const t=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,t),s.after_update.forEach(mt)}}const vt=new Set;let Ge;function De(){Ge={r:0,c:[],p:Ge}}function Me(){Ge.r||ve(Ge.c),Ge=Ge.p}function B(s,t){s&&s.i&&(vt.delete(s),s.i(t))}function X(s,t,e,n){if(s&&s.o){if(vt.has(s))return;vt.add(s),Ge.c.push(()=>{vt.delete(s),n&&(e&&s.d(1),n())}),s.o(t)}else n&&n()}function fs(s,t){const e={},n={},o={$$scope:1};let i=s.length;for(;i--;){const l=s[i],r=t[i];if(r){for(const c in l)c in r||(n[c]=1);for(const c in r)o[c]||(e[c]=r[c],o[c]=1);s[i]=r}else for(const c in l)o[c]=1}for(const l in n)l in e||(e[l]=void 0);return e}function ds(s){return typeof s=="object"&&s!==null?s:{}}function he(s){s&&s.c()}function de(s,t,e,n){const{fragment:o,on_mount:i,on_destroy:l,after_update:r}=s.$$;o&&o.m(t,e),n||mt(()=>{const c=i.map(os).filter(yt);l?l.push(...c):ve(c),s.$$.on_mount=[]}),r.forEach(mt)}function pe(s,t){const e=s.$$;e.fragment!==null&&(ve(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function Ts(s,t){s.$$.dirty[0]===-1&&(xe.push(s),as(),s.$$.dirty.fill(0)),s.$$.dirty[t/31|0]|=1<<t%31}function Pe(s,t,e,n,o,i,l,r=[-1]){const c=nt;et(s);const u=s.$$={fragment:null,ctx:null,props:i,update:z,not_equal:o,bound:tn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:tn(),dirty:r,skip_bound:!1,root:t.target||c.$$.root};l&&l(u.root);let d=!1;if(u.ctx=e?e(s,t.props||{},(g,v,...b)=>{const p=b.length?b[0]:v;return u.ctx&&o(u.ctx[g],u.ctx[g]=p)&&(!u.skip_bound&&u.bound[g]&&u.bound[g](p),d&&Ts(s,g)),v}):[],u.update(),d=!0,ve(u.before_update),u.fragment=n?n(u.ctx):!1,t.target){if(t.hydrate){const g=Cs(t.target);u.fragment&&u.fragment.l(g),g.forEach(S)}else u.fragment&&u.fragment.c();t.intro&&B(s.$$.fragment),de(s,t.target,t.anchor,t.customElement),us()}et(c)}class Ae{$destroy(){pe(this,1),this.$destroy=z}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const o=n.indexOf(e);o!==-1&&n.splice(o,1)}}$set(t){this.$$set&&!ws(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const He=[];function ps(s,t){return{subscribe:Fe(s,t).subscribe}}function Fe(s,t=z){let e;const n=new Set;function o(r){if(je(s,r)&&(s=r,e)){const c=!He.length;for(const u of n)u[1](),He.push(u,s);if(c){for(let u=0;u<He.length;u+=2)He[u][0](He[u+1]);He.length=0}}}function i(r){o(r(s))}function l(r,c=z){const u=[r,c];return n.add(u),n.size===1&&(e=t(o)||z),r(s),()=>{n.delete(u),n.size===0&&(e(),e=null)}}return{set:o,update:i,subscribe:l}}function hs(s,t,e){const n=!Array.isArray(s),o=n?[s]:s,i=t.length<2;return ps(e,l=>{let r=!1;const c=[];let u=0,d=z;const g=()=>{if(u)return;d();const b=t(n?c[0]:c,l);i?l(b):d=yt(b)?b:z},v=o.map((b,p)=>zt(b,j=>{c[p]=j,u&=~(1<<p),r&&g()},()=>{u|=1<<p}));return r=!0,g(),function(){ve(v),d()}})}function Es(s,t){if(s instanceof RegExp)return{keys:!1,pattern:s};var e,n,o,i,l=[],r="",c=s.split("/");for(c[0]||c.shift();o=c.shift();)e=o[0],e==="*"?(l.push("wild"),r+="/(.*)"):e===":"?(n=o.indexOf("?",1),i=o.indexOf(".",1),l.push(o.substring(1,~n?n:~i?i:o.length)),r+=!!~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(r+=(~n?"?":"")+"\\"+o.substring(i))):r+="/"+o;return{keys:l,pattern:new RegExp("^"+r+(t?"(?=$|/)":"/?$"),"i")}}function Rs(s){let t,e,n;const o=[s[2]];var i=s[0];function l(r){let c={};for(let u=0;u<o.length;u+=1)c=Ft(c,o[u]);return{props:c}}return i&&(t=new i(l()),t.$on("routeEvent",s[7])),{c(){t&&he(t.$$.fragment),e=Qe()},m(r,c){t&&de(t,r,c),L(r,e,c),n=!0},p(r,c){const u=c&4?fs(o,[ds(r[2])]):{};if(i!==(i=r[0])){if(t){De();const d=t;X(d.$$.fragment,1,0,()=>{pe(d,1)}),Me()}i?(t=new i(l()),t.$on("routeEvent",r[7]),he(t.$$.fragment),B(t.$$.fragment,1),de(t,e.parentNode,e)):t=null}else i&&t.$set(u)},i(r){n||(t&&B(t.$$.fragment,r),n=!0)},o(r){t&&X(t.$$.fragment,r),n=!1},d(r){r&&S(e),t&&pe(t,r)}}}function Ns(s){let t,e,n;const o=[{params:s[1]},s[2]];var i=s[0];function l(r){let c={};for(let u=0;u<o.length;u+=1)c=Ft(c,o[u]);return{props:c}}return i&&(t=new i(l()),t.$on("routeEvent",s[6])),{c(){t&&he(t.$$.fragment),e=Qe()},m(r,c){t&&de(t,r,c),L(r,e,c),n=!0},p(r,c){const u=c&6?fs(o,[c&2&&{params:r[1]},c&4&&ds(r[2])]):{};if(i!==(i=r[0])){if(t){De();const d=t;X(d.$$.fragment,1,0,()=>{pe(d,1)}),Me()}i?(t=new i(l()),t.$on("routeEvent",r[6]),he(t.$$.fragment),B(t.$$.fragment,1),de(t,e.parentNode,e)):t=null}else i&&t.$set(u)},i(r){n||(t&&B(t.$$.fragment,r),n=!0)},o(r){t&&X(t.$$.fragment,r),n=!1},d(r){r&&S(e),t&&pe(t,r)}}}function Is(s){let t,e,n,o;const i=[Ns,Rs],l=[];function r(c,u){return c[1]?0:1}return t=r(s),e=l[t]=i[t](s),{c(){e.c(),n=Qe()},m(c,u){l[t].m(c,u),L(c,n,u),o=!0},p(c,[u]){let d=t;t=r(c),t===d?l[t].p(c,u):(De(),X(l[d],1,1,()=>{l[d]=null}),Me(),e=l[t],e?e.p(c,u):(e=l[t]=i[t](c),e.c()),B(e,1),e.m(n.parentNode,n))},i(c){o||(B(e),o=!0)},o(c){X(e),o=!1},d(c){l[t].d(c),c&&S(n)}}}function pn(){const s=window.location.href.indexOf("#/");let t=s>-1?window.location.href.substr(s+1):"/";const e=t.indexOf("?");let n="";return e>-1&&(n=t.substr(e+1),t=t.substr(0,e)),{location:t,querystring:n}}const Jt=ps(null,function(t){t(pn());const e=()=>{t(pn())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}),qs=hs(Jt,s=>s.location),Us=hs(Jt,s=>s.querystring),hn=Fe(void 0);async function Re(s){if(!s||s.length<1||s.charAt(0)!="/"&&s.indexOf("#/")!==0)throw Error("Invalid parameter location");await cs(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(s.charAt(0)=="#"?"":"#")+s}function Ds(s){s?window.scrollTo(s.__svelte_spa_router_scrollX,s.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Ms(s,t,e){let{routes:n={}}=t,{prefix:o=""}=t,{restoreScrollState:i=!1}=t;class l{constructor(y,_){if(!_||typeof _!="function"&&(typeof _!="object"||_._sveltesparouter!==!0))throw Error("Invalid component object");if(!y||typeof y=="string"&&(y.length<1||y.charAt(0)!="/"&&y.charAt(0)!="*")||typeof y=="object"&&!(y instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:T,keys:E}=Es(y);this.path=y,typeof _=="object"&&_._sveltesparouter===!0?(this.component=_.component,this.conditions=_.conditions||[],this.userData=_.userData,this.props=_.props||{}):(this.component=()=>Promise.resolve(_),this.conditions=[],this.props={}),this._pattern=T,this._keys=E}match(y){if(o){if(typeof o=="string")if(y.startsWith(o))y=y.substr(o.length)||"/";else return null;else if(o instanceof RegExp){const R=y.match(o);if(R&&R[0])y=y.substr(R[0].length)||"/";else return null}}const _=this._pattern.exec(y);if(_===null)return null;if(this._keys===!1)return _;const T={};let E=0;for(;E<this._keys.length;){try{T[this._keys[E]]=decodeURIComponent(_[E+1]||"")||null}catch{T[this._keys[E]]=null}E++}return T}async checkConditions(y){for(let _=0;_<this.conditions.length;_++)if(!await this.conditions[_](y))return!1;return!0}}const r=[];n instanceof Map?n.forEach((m,y)=>{r.push(new l(y,m))}):Object.keys(n).forEach(m=>{r.push(new l(m,n[m]))});let c=null,u=null,d={};const g=Ps();async function v(m,y){await cs(),g(m,y)}let b=null,p=null;i&&(p=m=>{m.state&&(m.state.__svelte_spa_router_scrollY||m.state.__svelte_spa_router_scrollX)?b=m.state:b=null},window.addEventListener("popstate",p),Ls(()=>{Ds(b)}));let j=null,w=null;const N=Jt.subscribe(async m=>{j=m;let y=0;for(;y<r.length;){const _=r[y].match(m.location);if(!_){y++;continue}const T={route:r[y].path,location:m.location,querystring:m.querystring,userData:r[y].userData,params:_&&typeof _=="object"&&Object.keys(_).length?_:null};if(!await r[y].checkConditions(T)){e(0,c=null),w=null,v("conditionsFailed",T);return}v("routeLoading",Object.assign({},T));const E=r[y].component;if(w!=E){E.loading?(e(0,c=E.loading),w=E,e(1,u=E.loadingParams),e(2,d={}),v("routeLoaded",Object.assign({},T,{component:c,name:c.name,params:u}))):(e(0,c=null),w=null);const R=await E();if(m!=j)return;e(0,c=R&&R.default||R),w=E}_&&typeof _=="object"&&Object.keys(_).length?e(1,u=_):e(1,u=null),e(2,d=r[y].props),v("routeLoaded",Object.assign({},T,{component:c,name:c.name,params:u})).then(()=>{hn.set(u)});return}e(0,c=null),w=null,hn.set(void 0)});js(()=>{N(),p&&window.removeEventListener("popstate",p)});function C(m){un.call(this,s,m)}function k(m){un.call(this,s,m)}return s.$$set=m=>{"routes"in m&&e(3,n=m.routes),"prefix"in m&&e(4,o=m.prefix),"restoreScrollState"in m&&e(5,i=m.restoreScrollState)},s.$$.update=()=>{s.$$.dirty&32&&(history.scrollRestoration=i?"manual":"auto")},[c,u,d,n,o,i,C,k]}class Fs extends Ae{constructor(t){super(),Pe(this,t,Ms,Is,je,{routes:3,prefix:4,restoreScrollState:5})}}var Ut=function(s,t){return Ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},Ut(s,t)};function re(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=s}Ut(s,t),s.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Dt=function(){return Dt=Object.assign||function(s){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(s[o]=t[o]);return s},Dt.apply(this,arguments)};function Ve(s,t,e,n){return new(e||(e=Promise))(function(o,i){function l(u){try{c(n.next(u))}catch(d){i(d)}}function r(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){var d;u.done?o(u.value):(d=u.value,d instanceof e?d:new e(function(g){g(d)})).then(l,r)}c((n=n.apply(s,t||[])).next())})}function We(s,t){var e,n,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function r(c){return function(u){return function(d){if(e)throw new TypeError("Generator is already executing.");for(;l;)try{if(e=1,n&&(o=2&d[0]?n.return:d[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,d[1])).done)return o;switch(n=0,o&&(d=[2&d[0],o.value]),d[0]){case 0:case 1:o=d;break;case 4:return l.label++,{value:d[1],done:!1};case 5:l.label++,n=d[1],d=[0];continue;case 7:d=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!((o=o.length>0&&o[o.length-1])||d[0]!==6&&d[0]!==2)){l=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){l.label=d[1];break}if(d[0]===6&&l.label<o[1]){l.label=o[1],o=d;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(d);break}o[2]&&l.ops.pop(),l.trys.pop();continue}d=t.call(s,l)}catch(g){d=[6,g],n=0}finally{e=o=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([c,u])}}}var vs,vn=function(s){function t(e){var n,o=this;return(o=s.call(this,"ClientResponseError")||this).url="",o.status=0,o.data={},o.isAbort=!1,o.originalError=null,Object.setPrototypeOf(o,t.prototype),e instanceof t||(o.originalError=e),e!==null&&typeof e=="object"&&(o.url=typeof e.url=="string"?e.url:"",o.status=typeof e.status=="number"?e.status:0,o.data=e.data!==null&&typeof e.data=="object"?e.data:{}),typeof DOMException<"u"&&e instanceof DOMException&&(o.isAbort=!0),o.name="ClientResponseError "+o.status,o.message=((n=o.data)===null||n===void 0?void 0:n.message)||"Something went wrong while processing your request.",o}return re(t,s),t.prototype.toJSON=function(){return Dt({},this)},t}(Error),pt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function mn(s,t,e){var n=Object.assign({},e||{}),o=n.encode||Js;if(!pt.test(s))throw new TypeError("argument name is invalid");var i=o(t);if(i&&!pt.test(i))throw new TypeError("argument val is invalid");var l=s+"="+i;if(n.maxAge!=null){var r=n.maxAge-0;if(isNaN(r)||!isFinite(r))throw new TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(r)}if(n.domain){if(!pt.test(n.domain))throw new TypeError("option domain is invalid");l+="; Domain="+n.domain}if(n.path){if(!pt.test(n.path))throw new TypeError("option path is invalid");l+="; Path="+n.path}if(n.expires){if(!function(c){return Object.prototype.toString.call(c)==="[object Date]"||c instanceof Date}(n.expires)||isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");l+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(l+="; HttpOnly"),n.secure&&(l+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return l}function zs(s){return s.indexOf("%")!==-1?decodeURIComponent(s):s}function Js(s){return encodeURIComponent(s)}function gn(s){if(s)try{var t=decodeURIComponent(vs(s.split(".")[1]).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)||{}}catch{}return{}}vs=typeof atob=="function"?atob:function(s){return Buffer=global.Buffer||require("buffer").Buffer,Buffer.from(s,"base64").toString("binary")};var Ze=function(){function s(t){t===void 0&&(t={}),this.load(t||{})}return s.prototype.load=function(t){this.id=t.id!==void 0?t.id:"",this.created=t.created!==void 0?t.created:"",this.updated=t.updated!==void 0?t.updated:""},Object.defineProperty(s.prototype,"isNew",{get:function(){return!this.id||this.id==="00000000-0000-0000-0000-000000000000"},enumerable:!1,configurable:!0}),s.prototype.clone=function(){return new this.constructor(JSON.parse(JSON.stringify(this)))},s.prototype.export=function(){return Object.assign({},this)},s}(),ms=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.load=function(e){s.prototype.load.call(this,e);for(var n=0,o=Object.entries(e);n<o.length;n++){var i=o[n],l=i[0],r=i[1];this[l]=r}this["@collectionId"]=e["@collectionId"]!==void 0?e["@collectionId"]:"",this["@collectionName"]=e["@collectionName"]!==void 0?e["@collectionName"]:"",this["@expand"]=e["@expand"]!==void 0?e["@expand"]:{}},t}(Ze),gt=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.load=function(e){s.prototype.load.call(this,e),this.email=typeof e.email=="string"?e.email:"",this.verified=!!e.verified,this.lastResetSentAt=typeof e.lastResetSentAt=="string"?e.lastResetSentAt:"",this.lastVerificationSentAt=typeof e.lastVerificationSentAt=="string"?e.lastVerificationSentAt:"",this.profile=e.profile?new ms(e.profile):null},t}(Ze),Bt=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.load=function(e){s.prototype.load.call(this,e),this.avatar=typeof e.avatar=="number"?e.avatar:0,this.email=typeof e.email=="string"?e.email:"",this.lastResetSentAt=typeof e.lastResetSentAt=="string"?e.lastResetSentAt:""},t}(Ze),Bs=function(){function s(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(s.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isValid",{get:function(){return!function(t,e){e===void 0&&(e=0);var n=gn(t);return!(Object.keys(n).length>0&&(!n.exp||n.exp-e>Date.now()/1e3))}(this.token)},enumerable:!1,configurable:!0}),s.prototype.save=function(t,e){this.baseToken=t||"",this.baseModel=e!==null&&typeof e=="object"?(e==null?void 0:e.verified)!=="undefined"?new gt(e):new Bt(e):null,this.triggerChange()},s.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},s.prototype.loadFromCookie=function(t,e){e===void 0&&(e="pb_auth");var n=function(i,l){var r={};if(typeof i!="string")return r;for(var c=Object.assign({},l||{}).decode||zs,u=0;u<i.length;){var d=i.indexOf("=",u);if(d===-1)break;var g=i.indexOf(";",u);if(g===-1)g=i.length;else if(g<d){u=i.lastIndexOf(";",d-1)+1;continue}var v=i.slice(u,d).trim();if(r[v]===void 0){var b=i.slice(d+1,g).trim();b.charCodeAt(0)===34&&(b=b.slice(1,-1));try{r[v]=c(b)}catch{r[v]=b}}u=g+1}return r}(t||"")[e]||"",o={};try{(typeof(o=JSON.parse(n))===null||typeof o!="object"||Array.isArray(o))&&(o={})}catch{}this.save(o.token||"",o.model||{})},s.prototype.exportToCookie=function(t,e){var n,o,i;e===void 0&&(e="pb_auth");var l={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},r=gn(this.token);r!=null&&r.exp?l.expires=new Date(1e3*r.exp):l.expires=new Date("1970-01-01"),t=Object.assign({},l,t);var c={token:this.token,model:((n=this.model)===null||n===void 0?void 0:n.export())||null},u=mn(e,JSON.stringify(c),t),d=typeof Blob<"u"?new Blob([u]).size:u.length;return c.model&&d>4096&&(c.model={id:(o=c==null?void 0:c.model)===null||o===void 0?void 0:o.id,email:(i=c==null?void 0:c.model)===null||i===void 0?void 0:i.email},this.model instanceof gt&&(c.model.verified=this.model.verified),u=mn(e,JSON.stringify(c),t)),u},s.prototype.onChange=function(t){var e=this;return this._onChangeCallbacks.push(t),function(){for(var n=e._onChangeCallbacks.length-1;n>=0;n--)if(e._onChangeCallbacks[n]==t)return delete e._onChangeCallbacks[n],void e._onChangeCallbacks.splice(n,1)}},s.prototype.triggerChange=function(){for(var t=0,e=this._onChangeCallbacks;t<e.length;t++){var n=e[t];n&&n(this.token,this.model)}},s}(),Gs=function(s){function t(e){e===void 0&&(e="pocketbase_auth");var n=s.call(this)||this;return n.storageFallback={},n.storageKey=e,n}return re(t,s),Object.defineProperty(t.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){var e,n=this._storageGet(this.storageKey)||{};return n===null||typeof n!="object"||n.model===null||typeof n.model!="object"?null:((e=n.model)===null||e===void 0?void 0:e.verified)!==void 0?new gt(n.model):new Bt(n.model)},enumerable:!1,configurable:!0}),t.prototype.save=function(e,n){this._storageSet(this.storageKey,{token:e,model:n}),s.prototype.save.call(this,e,n)},t.prototype.clear=function(){this._storageRemove(this.storageKey),s.prototype.clear.call(this)},t.prototype._storageGet=function(e){var n;if(typeof window<"u"&&(window==null?void 0:window.localStorage)){var o=((n=window==null?void 0:window.localStorage)===null||n===void 0?void 0:n.getItem(e))||"";try{return JSON.parse(o)}catch{return o}}return this.storageFallback[e]},t.prototype._storageSet=function(e,n){var o;if(typeof window<"u"&&(window==null?void 0:window.localStorage)){var i=n;typeof n!="string"&&(i=JSON.stringify(n)),(o=window==null?void 0:window.localStorage)===null||o===void 0||o.setItem(e,i)}else this.storageFallback[e]=n},t.prototype._storageRemove=function(e){var n;typeof window<"u"&&((n=window==null?void 0:window.localStorage)===null||n===void 0||n.removeItem(e)),delete this.storageFallback[e]},t}(Bs),Ct=function(s){this.client=s},Vs=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.getAll=function(e){return e===void 0&&(e={}),this.client.send("/api/settings",{method:"GET",params:e}).then(function(n){return n||{}})},t.prototype.update=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),this.client.send("/api/settings",{method:"PATCH",params:n,body:e}).then(function(o){return o||{}})},t.prototype.testS3=function(e){return e===void 0&&(e={}),this.client.send("/api/settings/test/s3",{method:"POST",params:e}).then(function(){return!0})},t.prototype.testEmail=function(e,n,o){o===void 0&&(o={});var i={email:e,template:n};return this.client.send("/api/settings/test/email",{method:"POST",params:o,body:i}).then(function(){return!0})},t}(Ct),gs=function(s,t,e,n,o){this.page=s>0?s:1,this.perPage=t>=0?t:0,this.totalItems=e>=0?e:0,this.totalPages=n>=0?n:0,this.items=o||[]},bs=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype._getFullList=function(e,n,o){var i=this;n===void 0&&(n=100),o===void 0&&(o={});var l=[],r=function(c){return Ve(i,void 0,void 0,function(){return We(this,function(u){return[2,this._getList(e,c,n,o).then(function(d){var g=d,v=g.items,b=g.totalItems;return l=l.concat(v),v.length&&b>l.length?r(c+1):l})]})})};return r(1)},t.prototype._getList=function(e,n,o,i){var l=this;return n===void 0&&(n=1),o===void 0&&(o=30),i===void 0&&(i={}),i=Object.assign({page:n,perPage:o},i),this.client.send(e,{method:"GET",params:i}).then(function(r){var c=[];if(r!=null&&r.items){r.items=r.items||[];for(var u=0,d=r.items;u<d.length;u++){var g=d[u];c.push(l.decode(g))}}return new gs((r==null?void 0:r.page)||1,(r==null?void 0:r.perPage)||0,(r==null?void 0:r.totalItems)||0,(r==null?void 0:r.totalPages)||0,c)})},t.prototype._getOne=function(e,n,o){var i=this;return o===void 0&&(o={}),this.client.send(e+"/"+encodeURIComponent(n),{method:"GET",params:o}).then(function(l){return i.decode(l)})},t.prototype._create=function(e,n,o){var i=this;return n===void 0&&(n={}),o===void 0&&(o={}),this.client.send(e,{method:"POST",params:o,body:n}).then(function(l){return i.decode(l)})},t.prototype._update=function(e,n,o,i){var l=this;return o===void 0&&(o={}),i===void 0&&(i={}),this.client.send(e+"/"+encodeURIComponent(n),{method:"PATCH",params:i,body:o}).then(function(r){return l.decode(r)})},t.prototype._delete=function(e,n,o){return o===void 0&&(o={}),this.client.send(e+"/"+encodeURIComponent(n),{method:"DELETE",params:o}).then(function(){return!0})},t}(Ct),Gt=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.getFullList=function(e,n){return e===void 0&&(e=100),n===void 0&&(n={}),this._getFullList(this.baseCrudPath(),e,n)},t.prototype.getList=function(e,n,o){return e===void 0&&(e=1),n===void 0&&(n=30),o===void 0&&(o={}),this._getList(this.baseCrudPath(),e,n,o)},t.prototype.getOne=function(e,n){return n===void 0&&(n={}),this._getOne(this.baseCrudPath(),e,n)},t.prototype.create=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),this._create(this.baseCrudPath(),e,n)},t.prototype.update=function(e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),this._update(this.baseCrudPath(),e,n,o)},t.prototype.delete=function(e,n){return n===void 0&&(n={}),this._delete(this.baseCrudPath(),e,n)},t}(bs),Ws=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.decode=function(e){return new Bt(e)},t.prototype.baseCrudPath=function(){return"/api/admins"},t.prototype.authResponse=function(e){var n=this.decode((e==null?void 0:e.admin)||{});return(e==null?void 0:e.token)&&(e==null?void 0:e.admin)&&this.client.authStore.save(e.token,n),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:n})},t.prototype.authViaEmail=function(e,n,o,i){return o===void 0&&(o={}),i===void 0&&(i={}),o=Object.assign({email:e,password:n},o),this.client.send(this.baseCrudPath()+"/auth-via-email",{method:"POST",params:i,body:o,headers:{Authorization:""}}).then(this.authResponse.bind(this))},t.prototype.refresh=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),this.client.send(this.baseCrudPath()+"/refresh",{method:"POST",params:n,body:e}).then(this.authResponse.bind(this))},t.prototype.requestPasswordReset=function(e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),n=Object.assign({email:e},n),this.client.send(this.baseCrudPath()+"/request-password-reset",{method:"POST",params:o,body:n}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,n,o,i,l){return i===void 0&&(i={}),l===void 0&&(l={}),i=Object.assign({token:e,password:n,passwordConfirm:o},i),this.client.send(this.baseCrudPath()+"/confirm-password-reset",{method:"POST",params:l,body:i}).then(this.authResponse.bind(this))},t}(Gt),Ks=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.load=function(e){s.prototype.load.call(this,e),this.userId=typeof e.userId=="string"?e.userId:"",this.provider=typeof e.provider=="string"?e.provider:"",this.providerId=typeof e.providerId=="string"?e.providerId:""},t}(Ze),Ys=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.decode=function(e){return new gt(e)},t.prototype.baseCrudPath=function(){return"/api/users"},t.prototype.authResponse=function(e){var n=this.decode((e==null?void 0:e.user)||{});return(e==null?void 0:e.token)&&(e==null?void 0:e.user)&&this.client.authStore.save(e.token,n),Object.assign({},e,{token:(e==null?void 0:e.token)||"",user:n})},t.prototype.listAuthMethods=function(e){return e===void 0&&(e={}),this.client.send(this.baseCrudPath()+"/auth-methods",{method:"GET",params:e}).then(function(n){return Object.assign({},n,{emailPassword:!!(n!=null&&n.emailPassword),authProviders:Array.isArray(n==null?void 0:n.authProviders)?n==null?void 0:n.authProviders:[]})})},t.prototype.authViaEmail=function(e,n,o,i){return o===void 0&&(o={}),i===void 0&&(i={}),o=Object.assign({email:e,password:n},o),this.client.send(this.baseCrudPath()+"/auth-via-email",{method:"POST",params:i,body:o,headers:{Authorization:""}}).then(this.authResponse.bind(this))},t.prototype.authViaOAuth2=function(e,n,o,i,l,r){return l===void 0&&(l={}),r===void 0&&(r={}),l=Object.assign({provider:e,code:n,codeVerifier:o,redirectUrl:i},l),this.client.send(this.baseCrudPath()+"/auth-via-oauth2",{method:"POST",params:r,body:l,headers:{Authorization:""}}).then(this.authResponse.bind(this))},t.prototype.refresh=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),this.client.send(this.baseCrudPath()+"/refresh",{method:"POST",params:n,body:e}).then(this.authResponse.bind(this))},t.prototype.requestPasswordReset=function(e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),n=Object.assign({email:e},n),this.client.send(this.baseCrudPath()+"/request-password-reset",{method:"POST",params:o,body:n}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,n,o,i,l){return i===void 0&&(i={}),l===void 0&&(l={}),i=Object.assign({token:e,password:n,passwordConfirm:o},i),this.client.send(this.baseCrudPath()+"/confirm-password-reset",{method:"POST",params:l,body:i}).then(this.authResponse.bind(this))},t.prototype.requestVerification=function(e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),n=Object.assign({email:e},n),this.client.send(this.baseCrudPath()+"/request-verification",{method:"POST",params:o,body:n}).then(function(){return!0})},t.prototype.confirmVerification=function(e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),n=Object.assign({token:e},n),this.client.send(this.baseCrudPath()+"/confirm-verification",{method:"POST",params:o,body:n}).then(this.authResponse.bind(this))},t.prototype.requestEmailChange=function(e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),n=Object.assign({newEmail:e},n),this.client.send(this.baseCrudPath()+"/request-email-change",{method:"POST",params:o,body:n}).then(function(){return!0})},t.prototype.confirmEmailChange=function(e,n,o,i){return o===void 0&&(o={}),i===void 0&&(i={}),o=Object.assign({token:e,password:n},o),this.client.send(this.baseCrudPath()+"/confirm-email-change",{method:"POST",params:i,body:o}).then(this.authResponse.bind(this))},t.prototype.listExternalAuths=function(e,n){return n===void 0&&(n={}),this.client.send(this.baseCrudPath()+"/"+encodeURIComponent(e)+"/external-auths",{method:"GET",params:n}).then(function(o){var i=[];if(Array.isArray(o))for(var l=0,r=o;l<r.length;l++){var c=r[l];i.push(new Ks(c))}return i})},t.prototype.unlinkExternalAuth=function(e,n,o){return o===void 0&&(o={}),this.client.send(this.baseCrudPath()+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(n),{method:"DELETE",params:o}).then(function(){return!0})},t}(Gt),Hs=function(){function s(t){t===void 0&&(t={}),this.load(t||{})}return s.prototype.load=function(t){this.id=t.id!==void 0?t.id:"",this.name=t.name!==void 0?t.name:"",this.type=t.type!==void 0?t.type:"text",this.system=!!t.system,this.required=!!t.required,this.unique=!!t.unique,this.options=typeof t.options=="object"&&t.options!==null?t.options:{}},s}(),Xs=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.load=function(e){s.prototype.load.call(this,e),this.name=typeof e.name=="string"?e.name:"",this.system=!!e.system,this.listRule=typeof e.listRule=="string"?e.listRule:null,this.viewRule=typeof e.viewRule=="string"?e.viewRule:null,this.createRule=typeof e.createRule=="string"?e.createRule:null,this.updateRule=typeof e.updateRule=="string"?e.updateRule:null,this.deleteRule=typeof e.deleteRule=="string"?e.deleteRule:null,e.schema=Array.isArray(e.schema)?e.schema:[],this.schema=[];for(var n=0,o=e.schema;n<o.length;n++){var i=o[n];this.schema.push(new Hs(i))}},t}(Ze),Qs=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.decode=function(e){return new Xs(e)},t.prototype.baseCrudPath=function(){return"/api/collections"},t.prototype.import=function(e,n,o){return n===void 0&&(n=!1),o===void 0&&(o={}),Ve(this,void 0,void 0,function(){return We(this,function(i){return[2,this.client.send(this.baseCrudPath()+"/import",{method:"PUT",params:o,body:{collections:e,deleteMissing:n}}).then(function(){return!0})]})})},t}(Gt),Zs=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.decode=function(e){return new ms(e)},t.prototype.baseCrudPath=function(e){return"/api/collections/"+encodeURIComponent(e)+"/records"},t.prototype.getFileUrl=function(e,n,o){o===void 0&&(o={});var i=[];i.push(this.client.baseUrl.replace(/\/+$/gm,"")),i.push("api"),i.push("files"),i.push(e["@collectionId"]),i.push(e.id),i.push(n);var l=i.join("/");if(Object.keys(o).length){var r=new URLSearchParams(o);l+=(l.includes("?")?"&":"?")+r}return l},t}(function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.getFullList=function(e,n,o){return n===void 0&&(n=100),o===void 0&&(o={}),this._getFullList(this.baseCrudPath(e),n,o)},t.prototype.getList=function(e,n,o,i){return n===void 0&&(n=1),o===void 0&&(o=30),i===void 0&&(i={}),this._getList(this.baseCrudPath(e),n,o,i)},t.prototype.getOne=function(e,n,o){return o===void 0&&(o={}),this._getOne(this.baseCrudPath(e),n,o)},t.prototype.create=function(e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),this._create(this.baseCrudPath(e),n,o)},t.prototype.update=function(e,n,o,i){return o===void 0&&(o={}),i===void 0&&(i={}),this._update(this.baseCrudPath(e),n,o,i)},t.prototype.delete=function(e,n,o){return o===void 0&&(o={}),this._delete(this.baseCrudPath(e),n,o)},t}(bs)),bn=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.load=function(e){s.prototype.load.call(this,e),e.remoteIp=e.remoteIp||e.ip,this.url=typeof e.url=="string"?e.url:"",this.method=typeof e.method=="string"?e.method:"GET",this.status=typeof e.status=="number"?e.status:200,this.auth=typeof e.auth=="string"?e.auth:"guest",this.remoteIp=typeof e.remoteIp=="string"?e.remoteIp:"",this.userIp=typeof e.userIp=="string"?e.userIp:"",this.referer=typeof e.referer=="string"?e.referer:"",this.userAgent=typeof e.userAgent=="string"?e.userAgent:"",this.meta=typeof e.meta=="object"&&e.meta!==null?e.meta:{}},t}(Ze),xs=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.getRequestsList=function(e,n,o){return e===void 0&&(e=1),n===void 0&&(n=30),o===void 0&&(o={}),o=Object.assign({page:e,perPage:n},o),this.client.send("/api/logs/requests",{method:"GET",params:o}).then(function(i){var l=[];if(i!=null&&i.items){i.items=(i==null?void 0:i.items)||[];for(var r=0,c=i.items;r<c.length;r++){var u=c[r];l.push(new bn(u))}}return new gs((i==null?void 0:i.page)||1,(i==null?void 0:i.perPage)||0,(i==null?void 0:i.totalItems)||0,(i==null?void 0:i.totalPages)||0,l)})},t.prototype.getRequest=function(e,n){return n===void 0&&(n={}),this.client.send("/api/logs/requests/"+encodeURIComponent(e),{method:"GET",params:n}).then(function(o){return new bn(o)})},t.prototype.getRequestsStats=function(e){return e===void 0&&(e={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:e}).then(function(n){return n})},t}(Ct),$s=function(s){function t(){var e=s!==null&&s.apply(this,arguments)||this;return e.clientId="",e.eventSource=null,e.subscriptions={},e}return re(t,s),t.prototype.subscribe=function(e,n){var o;return Ve(this,void 0,void 0,function(){return We(this,function(i){switch(i.label){case 0:if(!e)throw new Error("subscription must be set.");return this.subscriptions[e]&&((o=this.eventSource)===null||o===void 0||o.removeEventListener(e,this.subscriptions[e])),this.subscriptions[e]=function(l){var r,c=l;try{r=JSON.parse(c==null?void 0:c.data)}catch{}n(r||{})},this.eventSource?[3,1]:(this.connect(),[3,3]);case 1:return this.clientId?[4,this.submitSubscriptions()]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.unsubscribe=function(e){var n;return Ve(this,void 0,void 0,function(){return We(this,function(o){switch(o.label){case 0:if(e){if(!this.subscriptions[e])return[2];(n=this.eventSource)===null||n===void 0||n.removeEventListener(e,this.subscriptions[e]),delete this.subscriptions[e]}else this.removeSubscriptionListeners(),this.subscriptions={};return this.clientId?[4,this.submitSubscriptions()]:[3,2];case 1:o.sent(),o.label=2;case 2:return Object.keys(this.subscriptions).length||this.disconnect(),[2]}})})},t.prototype.submitSubscriptions=function(){return Ve(this,void 0,void 0,function(){return We(this,function(e){return this.addSubscriptionListeners(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:Object.keys(this.subscriptions)},params:{$autoCancel:!1}}).then(function(){return!0})]})})},t.prototype.addSubscriptionListeners=function(){if(this.eventSource)for(var e in this.removeSubscriptionListeners(),this.subscriptions)this.eventSource.addEventListener(e,this.subscriptions[e])},t.prototype.removeSubscriptionListeners=function(){if(this.eventSource)for(var e in this.subscriptions)this.eventSource.removeEventListener(e,this.subscriptions[e])},t.prototype.connectHandler=function(e){var n=e;this.clientId=n==null?void 0:n.lastEventId,this.submitSubscriptions()},t.prototype.connect=function(){var e=this;this.disconnect(),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.addEventListener("PB_CONNECT",function(n){return e.connectHandler(n)})},t.prototype.disconnect=function(){var e,n,o=this;this.removeSubscriptionListeners(),(e=this.eventSource)===null||e===void 0||e.removeEventListener("PB_CONNECT",function(i){return o.connectHandler(i)}),(n=this.eventSource)===null||n===void 0||n.close(),this.eventSource=null,this.clientId=""},t}(Ct),eo=function(){function s(t,e,n){t===void 0&&(t="/"),e===void 0&&(e="en-US"),this.cancelControllers={},this.baseUrl=t,this.lang=e,this.authStore=n||new Gs,this.admins=new Ws(this),this.users=new Ys(this),this.records=new Zs(this),this.collections=new Qs(this),this.logs=new xs(this),this.settings=new Vs(this),this.realtime=new $s(this)}return Object.defineProperty(s.prototype,"AuthStore",{get:function(){return this.authStore},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Settings",{get:function(){return this.settings},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Admins",{get:function(){return this.admins},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Users",{get:function(){return this.users},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Collections",{get:function(){return this.collections},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Records",{get:function(){return this.records},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Logs",{get:function(){return this.logs},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Realtime",{get:function(){return this.realtime},enumerable:!1,configurable:!0}),s.prototype.cancelRequest=function(t){return this.cancelControllers[t]&&(this.cancelControllers[t].abort(),delete this.cancelControllers[t]),this},s.prototype.cancelAllRequests=function(){for(var t in this.cancelControllers)this.cancelControllers[t].abort();return this.cancelControllers={},this},s.prototype.send=function(t,e){var n,o,i,l,r,c,u,d,g;return Ve(this,void 0,void 0,function(){var v,b,p,j,w,N,C=this;return We(this,function(k){return(v=Object.assign({method:"GET"},e)).body&&v.body.constructor.name!=="FormData"&&(typeof v.body!="string"&&(v.body=JSON.stringify(v.body)),((n=v==null?void 0:v.headers)===null||n===void 0?void 0:n["Content-Type"])===void 0&&(v.headers=Object.assign({},v.headers,{"Content-Type":"application/json"}))),((o=v==null?void 0:v.headers)===null||o===void 0?void 0:o["Accept-Language"])===void 0&&(v.headers=Object.assign({},v.headers,{"Accept-Language":this.lang})),((i=this.authStore)===null||i===void 0?void 0:i.token)&&((l=v==null?void 0:v.headers)===null||l===void 0?void 0:l.Authorization)===void 0&&(b="Admin",((r=this.authStore.model)===null||r===void 0?void 0:r.verified)!==void 0&&(b="User"),v.headers=Object.assign({},v.headers,{Authorization:b+" "+this.authStore.token})),((c=v.params)===null||c===void 0?void 0:c.$autoCancel)!==!1&&(p=((u=v.params)===null||u===void 0?void 0:u.$cancelKey)||(v.method||"GET")+t,this.cancelRequest(p),j=new AbortController,this.cancelControllers[p]=j,v.signal=j.signal),(d=v.params)===null||d===void 0||delete d.$autoCancel,(g=v.params)===null||g===void 0||delete g.$cancelKey,w=this.buildUrl(t),v.params!==void 0&&((N=this.serializeQueryParams(v.params))&&(w+=(w.includes("?")?"&":"?")+N),delete v.params),this.beforeSend&&(v=Object.assign({},this.beforeSend(w,v))),[2,fetch(w,v).then(function(m){return Ve(C,void 0,void 0,function(){var y;return We(this,function(_){switch(_.label){case 0:y={},_.label=1;case 1:return _.trys.push([1,3,,4]),[4,m.json()];case 2:return y=_.sent(),[3,4];case 3:return _.sent(),[3,4];case 4:if(this.afterSend&&(y=this.afterSend(m,y)),m.status>=400)throw new vn({url:m.url,status:m.status,data:y});return[2,y]}})})}).catch(function(m){throw new vn(m)})]})})},s.prototype.buildUrl=function(t){var e=this.baseUrl+(this.baseUrl.endsWith("/")?"":"/");return t&&(e+=t.startsWith("/")?t.substring(1):t),e},s.prototype.serializeQueryParams=function(t){var e=[];for(var n in t)if(t[n]!==null){var o=t[n],i=encodeURIComponent(n);if(Array.isArray(o))for(var l=0,r=o;l<r.length;l++){var c=r[l];e.push(i+"="+encodeURIComponent(c))}else o instanceof Date?e.push(i+"="+encodeURIComponent(o.toISOString())):typeof o!==null&&typeof o=="object"?e.push(i+"="+encodeURIComponent(JSON.stringify(o))):e.push(i+"="+encodeURIComponent(o))}return e.join("&")},s}();const se=new eo("https://ibhub-pocketbase.fly.dev/"),Xe=Fe(0),bt=Fe([]),_t=Fe(""),tt=Fe(!0),Mt=Fe(!1);function _n(s,t,e){const n=s.slice();return n[2]=t[e],n}function yn(s,t,e){const n=s.slice();return n[5]=t[e],n}function wn(s){let t,e=s[5]+"",n;return{c(){t=h("div"),n=U(e)},m(o,i){L(o,t,i),f(t,n)},p(o,i){i&1&&e!==(e=o[5]+"")&&ne(n,e)},d(o){o&&S(t)}}}function kn(s){let t;return{c(){t=h("div"),t.textContent="new!",a(t,"class","newposttag svelte-xe2jkx")},m(e,n){L(e,t,n)},d(e){e&&S(t)}}}function Cn(s){let t,e=s[0].contains,n=[];for(let o=0;o<e.length;o+=1)n[o]=Sn(_n(s,e,o));return{c(){t=h("div");for(let o=0;o<n.length;o+=1)n[o].c();a(t,"class","contains svelte-xe2jkx")},m(o,i){L(o,t,i);for(let l=0;l<n.length;l+=1)n[l].m(t,null)},p(o,i){if(i&1){e=o[0].contains;let l;for(l=0;l<e.length;l+=1){const r=_n(o,e,l);n[l]?n[l].p(r,i):(n[l]=Sn(r),n[l].c(),n[l].m(t,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=e.length}},d(o){o&&S(t),Ne(n,o)}}}function Sn(s){let t,e=s[2]+"",n;return{c(){t=h("span"),n=U(e),a(t,"class","svelte-xe2jkx")},m(o,i){L(o,t,i),f(t,n)},p(o,i){i&1&&e!==(e=o[2]+"")&&ne(n,e)},d(o){o&&S(t)}}}function On(s){let t;return{c(){t=h("div"),t.textContent="[Dead]",a(t,"class","dead svelte-xe2jkx")},m(e,n){L(e,t,n)},d(e){e&&S(t)}}}function to(s){let t,e,n,o,i,l,r,c,u,d,g,v=s[0].name+"",b,p,j,w=s[0].host+"",N,C,k,m,y,_,T=s[0].updates+"",E,R,M,D,ae,Z,Se,x,ee,$,te,F,Q,ce,P,q=s[0].laspost.split(`
`),K=[];for(let J=0;J<q.length;J+=1)K[J]=wn(yn(s,q,J));let G=s[1]&&kn(),I=s[0].contains.length>0&&Cn(s),V=s[0].dead&&On();return{c(){t=h("div"),e=h("div"),n=h("div"),o=h("div");for(let J=0;J<K.length;J+=1)K[J].c();i=O(),l=h("a"),r=h("img"),d=O(),g=h("div"),b=U(v),p=O(),j=h("div"),N=U(w),C=O(),G&&G.c(),k=O(),I&&I.c(),m=O(),y=h("div"),_=h("strong"),_.textContent="Updates: ",E=U(T),R=O(),M=h("div"),V&&V.c(),D=O(),ae=h("div"),Z=h("a"),Se=U(`visit 
            `),x=Ue("svg"),ee=Ue("path"),te=O(),F=h("div"),Q=h("a"),ce=U("more"),a(o,"class","tooltip svelte-xe2jkx"),a(r,"loading","lazy"),Ke(r.src,c=s[0].thumb)||a(r,"src",c),a(r,"alt",""),a(r,"class","svelte-xe2jkx"),a(l,"href",u="#/new?id="+s[0].id),a(l,"class","svelte-xe2jkx"),a(n,"class","thumb svelte-xe2jkx"),a(g,"class","title svelte-xe2jkx"),a(j,"class","hostName svelte-xe2jkx"),a(y,"class","updates svelte-xe2jkx"),a(e,"class","card-container"),a(ee,"d","M 41.470703 4.9863281 A 1.50015 1.50015 0 0 0 41.308594 5 L 27.5 5 A 1.50015 1.50015 0 1 0 27.5 8 L 37.878906 8 L 22.439453 23.439453 A 1.50015 1.50015 0 1 0 24.560547 25.560547 L 40 10.121094 L 40 20.5 A 1.50015 1.50015 0 1 0 43 20.5 L 43 6.6894531 A 1.50015 1.50015 0 0 0 41.470703 4.9863281 z M 12.5 8 C 8.3754991 8 5 11.375499 5 15.5 L 5 35.5 C 5 39.624501 8.3754991 43 12.5 43 L 32.5 43 C 36.624501 43 40 39.624501 40 35.5 L 40 25.5 A 1.50015 1.50015 0 1 0 37 25.5 L 37 35.5 C 37 38.003499 35.003499 40 32.5 40 L 12.5 40 C 9.9965009 40 8 38.003499 8 35.5 L 8 15.5 C 8 12.996501 9.9965009 11 12.5 11 L 22.5 11 A 1.50015 1.50015 0 1 0 22.5 8 L 12.5 8 z"),a(x,"fill","var(--button-color)"),a(x,"xmlns","http://www.w3.org/2000/svg"),a(x,"viewBox","0 0 48 48"),a(x,"width","15px"),a(x,"height","15px"),a(Z,"target","_blank"),a(Z,"href",$=s[0].link),a(Z,"class","svelte-xe2jkx"),a(ae,"class","feed-btn svelte-xe2jkx"),a(Q,"href",P="#/new?id="+s[0].id),a(Q,"class","svelte-xe2jkx"),a(F,"class","feed-btn svelte-xe2jkx"),a(M,"class","card-container feed-btn-container svelte-xe2jkx"),a(t,"class","card svelte-xe2jkx"),H(t,"newpost",s[1])},m(J,ue){L(J,t,ue),f(t,e),f(e,n),f(n,o);for(let oe=0;oe<K.length;oe+=1)K[oe].m(o,null);f(n,i),f(n,l),f(l,r),f(e,d),f(e,g),f(g,b),f(e,p),f(e,j),f(j,N),f(e,C),G&&G.m(e,null),f(e,k),I&&I.m(e,null),f(e,m),f(e,y),f(y,_),f(y,E),f(t,R),f(t,M),V&&V.m(M,null),f(M,D),f(M,ae),f(ae,Z),f(Z,Se),f(Z,x),f(x,ee),f(M,te),f(M,F),f(F,Q),f(Q,ce)},p(J,[ue]){if(ue&1){q=J[0].laspost.split(`
`);let oe;for(oe=0;oe<q.length;oe+=1){const Ie=yn(J,q,oe);K[oe]?K[oe].p(Ie,ue):(K[oe]=wn(Ie),K[oe].c(),K[oe].m(o,null))}for(;oe<K.length;oe+=1)K[oe].d(1);K.length=q.length}ue&1&&!Ke(r.src,c=J[0].thumb)&&a(r,"src",c),ue&1&&u!==(u="#/new?id="+J[0].id)&&a(l,"href",u),ue&1&&v!==(v=J[0].name+"")&&ne(b,v),ue&1&&w!==(w=J[0].host+"")&&ne(N,w),J[1]?G||(G=kn(),G.c(),G.m(e,k)):G&&(G.d(1),G=null),J[0].contains.length>0?I?I.p(J,ue):(I=Cn(J),I.c(),I.m(e,m)):I&&(I.d(1),I=null),ue&1&&T!==(T=J[0].updates+"")&&ne(E,T),J[0].dead?V||(V=On(),V.c(),V.m(M,D)):V&&(V.d(1),V=null),ue&1&&$!==($=J[0].link)&&a(Z,"href",$),ue&1&&P!==(P="#/new?id="+J[0].id)&&a(Q,"href",P),ue&2&&H(t,"newpost",J[1])},i:z,o:z,d(J){J&&S(t),Ne(K,J),G&&G.d(),I&&I.d(),V&&V.d()}}}function no(s,t,e){let{channel:n}=t,{isNew:o}=t;return s.$$set=i=>{"channel"in i&&e(0,n=i.channel),"isNew"in i&&e(1,o=i.isNew)},[n,o]}class so extends Ae{constructor(t){super(),Pe(this,t,no,to,je,{channel:0,isNew:1})}}function Ln(s,t,e){const n=s.slice();return n[7]=t[e],n}function jn(s){let t,e=s[7]+"",n,o,i;function l(){return s[6](s[7])}return{c(){t=h("button"),n=U(e),a(t,"class","svelte-1paaqmw"),H(t,"active",s[2]===!1&&s[3]===s[7])},m(r,c){L(r,t,c),f(t,n),o||(i=Y(t,"click",l),o=!0)},p(r,c){s=r,c&1&&e!==(e=s[7]+"")&&ne(n,e),c&13&&H(t,"active",s[2]===!1&&s[3]===s[7])},d(r){r&&S(t),o=!1,i()}}}function oo(s){let t,e,n,o,i,l,r,c=s[0],u=[];for(let d=0;d<c.length;d+=1)u[d]=jn(Ln(s,c,d));return{c(){t=h("div"),e=h("button"),e.textContent="show inactive",n=O(),o=h("button"),o.textContent="all domains",i=O();for(let d=0;d<u.length;d+=1)u[d].c();a(e,"class","showdead svelte-1paaqmw"),H(e,"active",s[1]),a(o,"class","svelte-1paaqmw"),H(o,"active",s[2]),a(t,"class","filter svelte-1paaqmw")},m(d,g){L(d,t,g),f(t,e),f(t,n),f(t,o),f(t,i);for(let v=0;v<u.length;v+=1)u[v].m(t,null);l||(r=[Y(e,"click",s[4]),Y(o,"click",s[5])],l=!0)},p(d,[g]){if(g&2&&H(e,"active",d[1]),g&4&&H(o,"active",d[2]),g&13){c=d[0];let v;for(v=0;v<c.length;v+=1){const b=Ln(d,c,v);u[v]?u[v].p(b,g):(u[v]=jn(b),u[v].c(),u[v].m(t,null))}for(;v<u.length;v+=1)u[v].d(1);u.length=c.length}},i:z,o:z,d(d){d&&S(t),Ne(u,d),l=!1,ve(r)}}}function io(s,t,e){let n,o,i,l;return Ce(s,bt,d=>e(0,n=d)),Ce(s,Mt,d=>e(1,o=d)),Ce(s,tt,d=>e(2,i=d)),Ce(s,_t,d=>e(3,l=d)),kt(async()=>{try{if(n.length===0){const d=await se.records.getFullList("channel");ls(bt,n=Array.from(new Set(d.map(g=>g.host))),n)}}catch(d){console.warn("connection error",d)}}),[n,o,i,l,()=>Mt.update(d=>!o),()=>tt.update(d=>!0),d=>{_t.update(g=>d),tt.update(g=>!1)}]}class _s extends Ae{constructor(t){super(),Pe(this,t,io,oo,je,{})}}function Pn(s,t,e){const n=s.slice();return n[16]=t[e],n}function An(s){let t,e,n,o,i,l,r,c,u,d,g,v,b,p,j,w,N,C;function k(R,M){return R[0]?ro:lo}let m=k(s),y=m(s);b=new _s({});let _=s[5],T=[];for(let R=0;R<_.length;R+=1)T[R]=Tn(Pn(s,_,R));const E=R=>X(T[R],1,1,()=>{T[R]=null});return{c(){t=h("main"),e=h("div"),e.innerHTML='<h1 class="svelte-94novy">Dashboard</h1>',n=O(),o=h("div"),i=h("button"),i.textContent="New!",l=O(),r=h("button"),y.c(),c=O(),u=h("span"),d=U(s[4]),g=O(),v=h("div"),he(b.$$.fragment),p=O(),j=h("div");for(let R=0;R<T.length;R+=1)T[R].c();a(e,"class","container-header svelte-94novy"),a(i,"class","updateall svelte-94novy"),H(i,"loading",s[3]),a(r,"class","updateall svelte-94novy"),H(r,"loading",s[3]),a(u,"class","result svelte-94novy"),a(o,"class","container-header-buttons svelte-94novy"),a(j,"class","container svelte-94novy"),a(v,"class","main-container svelte-94novy"),a(t,"class","svelte-94novy")},m(R,M){L(R,t,M),f(t,e),f(t,n),f(t,o),f(o,i),f(o,l),f(o,r),y.m(r,null),f(o,c),f(o,u),f(u,d),f(t,g),f(t,v),de(b,v,null),f(v,p),f(v,j);for(let D=0;D<T.length;D+=1)T[D].m(j,null);w=!0,N||(C=[Y(i,"click",s[11]),Y(r,"click",s[7])],N=!0)},p(R,M){if(M&8&&H(i,"loading",R[3]),m!==(m=k(R))&&(y.d(1),y=m(R),y&&(y.c(),y.m(r,null))),M&8&&H(r,"loading",R[3]),(!w||M&16)&&ne(d,R[4]),M&98){_=R[5];let D;for(D=0;D<_.length;D+=1){const ae=Pn(R,_,D);T[D]?(T[D].p(ae,M),B(T[D],1)):(T[D]=Tn(ae),T[D].c(),B(T[D],1),T[D].m(j,null))}for(De(),D=_.length;D<T.length;D+=1)E(D);Me()}},i(R){if(!w){B(b.$$.fragment,R);for(let M=0;M<_.length;M+=1)B(T[M]);w=!0}},o(R){X(b.$$.fragment,R),T=T.filter(Boolean);for(let M=0;M<T.length;M+=1)X(T[M]);w=!1},d(R){R&&S(t),y.d(),pe(b),Ne(T,R),N=!1,ve(C)}}}function lo(s){let t;return{c(){t=U("update domain")},m(e,n){L(e,t,n)},d(e){e&&S(t)}}}function ro(s){let t;return{c(){t=U("update all")},m(e,n){L(e,t,n)},d(e){e&&S(t)}}}function Tn(s){let t,e;return t=new so({props:{channel:s[16],isNew:s[6](s[1],s[16].id)}}),{c(){he(t.$$.fragment)},m(n,o){de(t,n,o),e=!0},p(n,o){const i={};o&32&&(i.channel=n[16]),o&34&&(i.isNew=n[6](n[1],n[16].id)),t.$set(i)},i(n){e||(B(t.$$.fragment,n),e=!0)},o(n){X(t.$$.fragment,n),e=!1},d(n){pe(t,n)}}}function ao(s){let t,e,n=!s[2]&&An(s);return{c(){n&&n.c(),t=Qe()},m(o,i){n&&n.m(o,i),L(o,t,i),e=!0},p(o,[i]){o[2]?n&&(De(),X(n,1,1,()=>{n=null}),Me()):n?(n.p(o,i),i&4&&B(n,1)):(n=An(o),n.c(),B(n,1),n.m(t.parentNode,t))},i(o){e||(B(n),e=!0)},o(o){X(n),e=!1},d(o){n&&n.d(o),o&&S(t)}}}function co(s,t,e){let n,o,i,l,r;Ce(s,Mt,C=>e(9,n=C)),Ce(s,_t,C=>e(10,o=C)),Ce(s,tt,C=>e(0,i=C)),Ce(s,Xe,C=>e(12,l=C)),Ce(s,bt,C=>e(13,r=C)),window.localStorage.getItem("pocketbase_auth")||Re("/");const c=(C,k)=>C.find(y=>y.channel===k)!=null;let u=[],d=[],g=!0;kt(async()=>{try{console.log("%c ====","color:yellow"),e(8,u=await se.records.getFullList("channel")),e(1,d=await se.records.getFullList("news")),console.log(d),e(2,g=!1),ls(bt,r=Array.from(new Set(u.map(C=>C.host))),r)}catch(C){console.warn("connection error!",C),Re("/error")}});let v=!1,b="";const p=C=>{e(4,b=C),setTimeout(()=>{e(4,b="")},3e3)},j=async()=>{var C,k;try{e(3,v=!0),e(4,b=`updating${i?"":` ${o}`}...`);const m=w.map(E=>E.id);console.log("ids",m);const y=(k=(C=JSON.parse(window.localStorage.getItem("pocketbase_auth")))==null?void 0:C.model)==null?void 0:k.id;console.log("localuser:",y);const T=await(await fetch("https://ibhub.fly.dev/api/getnewupsates",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({user:y})})).text();console.log(T),e(8,u=await se.records.getFullList("channel")),e(1,d=await se.records.getFullList("news")),Xe.update(E=>d.length),e(3,v=!1),p(`updated! ${l>0?`${l} new update${l===1?"":"s"}`:"nothing new right now"}`)}catch(m){console.warn(m),e(3,v=!1),p("error while updating")}};let w=u;const N=()=>Re("/new");return s.$$.update=()=>{s.$$.dirty&1793&&e(5,w=[...u].reverse().filter(C=>i?!0:C.host===o).filter(C=>n?!0:C.dead===!1))},[i,d,g,v,b,w,c,j,u,n,o,N]}class uo extends Ae{constructor(t){super(),Pe(this,t,co,ao,je,{})}}function ys(s){var t,e,n="";if(typeof s=="string"||typeof s=="number")n+=s;else if(typeof s=="object")if(Array.isArray(s))for(t=0;t<s.length;t++)s[t]&&(e=ys(s[t]))&&(n&&(n+=" "),n+=e);else for(t in s)s[t]&&(n&&(n+=" "),n+=t);return n}function En(){for(var s,t,e=0,n="";e<arguments.length;)(s=arguments[e++])&&(t=ys(s))&&(n&&(n+=" "),n+=t);return n}const fo=(s,t="")=>{const e=Fe(En(t).split(" ").filter(Boolean)),n=e.subscribe(i=>{Array.isArray(i)&&(i==null?void 0:i.length)&&s.classList.add(...i)}),o=()=>s.classList.remove(...ks(e));return{update:(i="")=>{o(),e.set(En(i).split(" ").filter(Boolean))},destroy:()=>{o(),n()}}},po=(s,t={})=>{const e=document.createElement("div"),n=(i={})=>{if(typeof i=="string"&&(e.style.cssText=i),typeof i=="object")for(const[l,r]of Object.entries(i))l.startsWith("--")?e.style.setProperty(l,r):e.style[l]=r;s.style.cssText=`
					${s.style.cssText};
					${e.style.cssText};
				`};n(t);const o=()=>{s.style.cssText=s.style.cssText.replace(e.style.cssText,""),e.style.cssText=""};return{update:i=>{o(),n(i)},destroy:o}};function Rn(s,t,e){const n=s.slice();return n[4]=t[e],n}function Nn(s){let t,e=s[4]+"",n,o;return{c(){t=h("option"),n=U(e),o=O(),t.__value=s[4],t.value=t.__value},m(i,l){L(i,t,l),f(t,n),f(t,o)},p:z,d(i){i&&S(t)}}}function ho(s){let t,e,n,o,i,l=s[1],r=[];for(let c=0;c<l.length;c+=1)r[c]=Nn(Rn(s,l,c));return{c(){e=O(),n=h("select");for(let c=0;c<r.length;c+=1)r[c].c();a(n,"class","svelte-13f2tfu"),s[0]===void 0&&mt(()=>s[2].call(n))},m(c,u){L(c,e,u),L(c,n,u);for(let d=0;d<r.length;d+=1)r[d].m(n,null);cn(n,s[0]),o||(i=[an(t=fo.call(null,document.body,s[0])),an(po.call(null,document.body,vo)),Y(n,"change",s[2])],o=!0)},p(c,[u]){if(t&&yt(t.update)&&u&1&&t.update.call(null,c[0]),u&2){l=c[1];let d;for(d=0;d<l.length;d+=1){const g=Rn(c,l,d);r[d]?r[d].p(g,u):(r[d]=Nn(g),r[d].c(),r[d].m(n,null))}for(;d<r.length;d+=1)r[d].d(1);r.length=l.length}u&3&&cn(n,c[0])},i:z,o:z,d(c){c&&S(e),c&&S(n),Ne(r,c),o=!1,ve(i)}}}let vo="";function mo(s,t,e){let n="yotsuba-nograd";const o=["yotsuba-nograd","yotsuba","yotsuba-b","nograd","bluesky","luckygreen","uboa","plankton"],i=localStorage.getItem("storedTheme");n=i||n;function l(){n=Ss(this),e(0,n),e(1,o)}return s.$$.update=()=>{s.$$.dirty&1&&localStorage.setItem("storedTheme",n)},[n,o,l]}class go extends Ae{constructor(t){super(),Pe(this,t,mo,ho,je,{})}}function In(s,t,e){const n=s.slice();return n[2]=t[e],n}function qn(s){let t;return{c(){t=h("div"),t.textContent="[ NEW !]",a(t,"class","newposttag svelte-12i1rs9")},m(e,n){L(e,t,n)},d(e){e&&S(t)}}}function Un(s){let t,e=s[2]+"",n;return{c(){t=h("div"),n=U(e)},m(o,i){L(o,t,i),f(t,n)},p(o,i){i&1&&e!==(e=o[2]+"")&&ne(n,e)},d(o){o&&S(t)}}}function bo(s){let t,e,n,o=s[0].created+"",i,l,r,c=s[0].title+"",u,d,g,v,b,p,j,w,N,C,k,m,y,_,T,E,R,M,D,ae,Z,Se,x,ee=s[1]&&qn(),$=s[0].content.split(`
`),te=[];for(let F=0;F<$.length;F+=1)te[F]=Un(In(s,$,F));return{c(){var F,Q,ce,P,q,K;t=h("div"),e=h("div"),n=h("div"),i=U(o),l=O(),r=h("h2"),u=U(c),d=O(),ee&&ee.c(),g=O(),v=h("div"),b=h("div"),p=h("img"),w=O(),N=h("div");for(let G=0;G<te.length;G+=1)te[G].c();C=O(),k=h("div"),m=h("div"),y=h("div"),_=h("a"),T=U(`visit 
                `),E=Ue("svg"),R=Ue("path"),D=O(),ae=h("div"),Z=h("a"),Se=U("more"),a(n,"class","date svelte-12i1rs9"),a(r,"class","svelte-12i1rs9"),a(p,"loading","lazy"),Ke(p.src,j=(Q=(F=s[0]["@expand"])==null?void 0:F.channel)==null?void 0:Q.thumb)||a(p,"src",j),a(p,"alt",""),a(p,"class","svelte-12i1rs9"),a(b,"class","thumb svelte-12i1rs9"),a(N,"class","channelcontent svelte-12i1rs9"),a(v,"class","channelcontent-holder svelte-12i1rs9"),a(e,"class","card-container svelte-12i1rs9"),a(R,"d","M 41.470703 4.9863281 A 1.50015 1.50015 0 0 0 41.308594 5 L 27.5 5 A 1.50015 1.50015 0 1 0 27.5 8 L 37.878906 8 L 22.439453 23.439453 A 1.50015 1.50015 0 1 0 24.560547 25.560547 L 40 10.121094 L 40 20.5 A 1.50015 1.50015 0 1 0 43 20.5 L 43 6.6894531 A 1.50015 1.50015 0 0 0 41.470703 4.9863281 z M 12.5 8 C 8.3754991 8 5 11.375499 5 15.5 L 5 35.5 C 5 39.624501 8.3754991 43 12.5 43 L 32.5 43 C 36.624501 43 40 39.624501 40 35.5 L 40 25.5 A 1.50015 1.50015 0 1 0 37 25.5 L 37 35.5 C 37 38.003499 35.003499 40 32.5 40 L 12.5 40 C 9.9965009 40 8 38.003499 8 35.5 L 8 15.5 C 8 12.996501 9.9965009 11 12.5 11 L 22.5 11 A 1.50015 1.50015 0 1 0 22.5 8 L 12.5 8 z"),a(E,"fill","var(--button-color)"),a(E,"xmlns","http://www.w3.org/2000/svg"),a(E,"viewBox","0 0 48 48"),a(E,"width","15px"),a(E,"height","15px"),a(_,"target","_blank"),a(_,"href",M=(P=(ce=s[0]["@expand"])==null?void 0:ce.channel)==null?void 0:P.link),a(_,"class","svelte-12i1rs9"),a(y,"class","feed-btn svelte-12i1rs9"),a(Z,"href",x="#/new?id="+((K=(q=s[0]["@expand"])==null?void 0:q.channel)==null?void 0:K.id)),a(Z,"class","svelte-12i1rs9"),a(ae,"class","feed-btn svelte-12i1rs9"),a(m,"class","card-container feed-btn-container svelte-12i1rs9"),a(k,"class","feed-btn-holder svelte-12i1rs9"),a(t,"class","card svelte-12i1rs9"),H(t,"newpost",s[1])},m(F,Q){L(F,t,Q),f(t,e),f(e,n),f(n,i),f(e,l),f(e,r),f(r,u),f(e,d),ee&&ee.m(e,null),f(e,g),f(e,v),f(v,b),f(b,p),f(v,w),f(v,N);for(let ce=0;ce<te.length;ce+=1)te[ce].m(N,null);f(t,C),f(t,k),f(k,m),f(m,y),f(y,_),f(_,T),f(_,E),f(E,R),f(m,D),f(m,ae),f(ae,Z),f(Z,Se)},p(F,[Q]){var ce,P,q,K,G,I;if(Q&1&&o!==(o=F[0].created+"")&&ne(i,o),Q&1&&c!==(c=F[0].title+"")&&ne(u,c),F[1]?ee||(ee=qn(),ee.c(),ee.m(e,g)):ee&&(ee.d(1),ee=null),Q&1&&!Ke(p.src,j=(P=(ce=F[0]["@expand"])==null?void 0:ce.channel)==null?void 0:P.thumb)&&a(p,"src",j),Q&1){$=F[0].content.split(`
`);let V;for(V=0;V<$.length;V+=1){const J=In(F,$,V);te[V]?te[V].p(J,Q):(te[V]=Un(J),te[V].c(),te[V].m(N,null))}for(;V<te.length;V+=1)te[V].d(1);te.length=$.length}Q&1&&M!==(M=(K=(q=F[0]["@expand"])==null?void 0:q.channel)==null?void 0:K.link)&&a(_,"href",M),Q&1&&x!==(x="#/new?id="+((I=(G=F[0]["@expand"])==null?void 0:G.channel)==null?void 0:I.id))&&a(Z,"href",x),Q&2&&H(t,"newpost",F[1])},i:z,o:z,d(F){F&&S(t),ee&&ee.d(),Ne(te,F)}}}function _o(s,t,e){let{feed:n}=t,{isNew:o}=t;return console.log(n),s.$$set=i=>{"feed"in i&&e(0,n=i.feed),"isNew"in i&&e(1,o=i.isNew)},[n,o]}class yo extends Ae{constructor(t){super(),Pe(this,t,_o,bo,je,{feed:0,isNew:1})}}function Dn(s,t,e){const n=s.slice();return n[13]=t[e],n[15]=e,n}function Mn(s){let t,e,n,o,i,l,r,c,u,d,g,v,b,p,j,w,N,C;b=new _s({});let k=s[1],m=[];for(let _=0;_<k.length;_+=1)m[_]=Fn(Dn(s,k,_));const y=_=>X(m[_],1,1,()=>{m[_]=null});return{c(){t=h("main"),e=h("h1"),e.textContent="Feed",n=O(),o=h("div"),i=h("button"),i.textContent="mark as read",l=O(),r=h("button"),r.textContent="get RSS",c=O(),u=h("span"),d=U(s[0]),g=O(),v=h("div"),he(b.$$.fragment),p=O(),j=h("div");for(let _=0;_<m.length;_+=1)m[_].c();a(e,"class","svelte-pc5ee"),a(i,"class","svelte-pc5ee"),a(r,"class","svelte-pc5ee"),a(u,"class","result svelte-pc5ee"),a(o,"class","feedoptions svelte-pc5ee"),a(j,"class","feeds svelte-pc5ee"),a(v,"class","container svelte-pc5ee"),a(t,"class","svelte-pc5ee")},m(_,T){L(_,t,T),f(t,e),f(t,n),f(t,o),f(o,i),f(o,l),f(o,r),f(o,c),f(o,u),f(u,d),f(t,g),f(t,v),de(b,v,null),f(v,p),f(v,j);for(let E=0;E<m.length;E+=1)m[E].m(j,null);w=!0,N||(C=[Y(i,"click",s[6]),Y(r,"click",s[7])],N=!0)},p(_,T){if((!w||T&1)&&ne(d,_[0]),T&46){k=_[1];let E;for(E=0;E<k.length;E+=1){const R=Dn(_,k,E);m[E]?(m[E].p(R,T),B(m[E],1)):(m[E]=Fn(R),m[E].c(),B(m[E],1),m[E].m(j,null))}for(De(),E=k.length;E<m.length;E+=1)y(E);Me()}},i(_){if(!w){B(b.$$.fragment,_);for(let T=0;T<k.length;T+=1)B(m[T]);w=!0}},o(_){X(b.$$.fragment,_),m=m.filter(Boolean);for(let T=0;T<m.length;T+=1)X(m[T]);w=!1},d(_){_&&S(t),pe(b),Ne(m,_),N=!1,ve(C)}}}function Fn(s){let t,e;return t=new yo({props:{feed:s[13],isNew:s[5](s[2],s[13].id)&&!s[3]}}),{c(){he(t.$$.fragment)},m(n,o){de(t,n,o),e=!0},p(n,o){const i={};o&2&&(i.feed=n[13]),o&14&&(i.isNew=n[5](n[2],n[13].id)&&!n[3]),t.$set(i)},i(n){e||(B(t.$$.fragment,n),e=!0)},o(n){X(t.$$.fragment,n),e=!1},d(n){pe(t,n)}}}function wo(s){let t,e,n=!s[4]&&Mn(s);return{c(){n&&n.c(),t=Qe()},m(o,i){n&&n.m(o,i),L(o,t,i),e=!0},p(o,[i]){o[4]?n&&(De(),X(n,1,1,()=>{n=null}),Me()):n?(n.p(o,i),i&16&&B(n,1)):(n=Mn(o),n.c(),B(n,1),n.m(t.parentNode,t))},i(o){e||(B(n),e=!0)},o(o){X(n),e=!1},d(o){n&&n.d(o),o&&S(t)}}}function ko(s,t,e){let n,o;Ce(s,_t,w=>e(9,n=w)),Ce(s,tt,w=>e(10,o=w)),window.localStorage.getItem("pocketbase_auth")||Re("/");let i=window.localStorage.getItem("pocketbase_auth")?JSON.parse(window.localStorage.getItem("pocketbase_auth")):!1,l="";const r=w=>{e(0,l=w),setTimeout(()=>{e(0,l="")},3e3)},c=(w,N)=>(console.log("%c ====","color:red"),console.log(w,N),w.find(k=>k.feeds===N)!=null);let u=[],d=u,g=[],v=!1,b=!0;const p=async()=>{try{const w=await Promise.all(g.map(async N=>{se.records.delete("news",N.id)}));console.log(w),Xe.update(N=>0),e(3,v=!0),r("nothing new")}catch(w){console.error(w)}},j=async()=>{try{const w=await await(await fetch(`https://ibhub.fly.dev/api/getrsslink/${i.model.id}`)).json();if(!w.error)console.log(w.rss),await navigator.clipboard.writeText(w.rss),r("rss link copied to clipboard");else throw w.error}catch(w){console.error(w)}};return kt(async()=>{try{e(8,u=await se.records.getFullList("feeditem",50,{expand:"channel",sort:"-created"})),e(2,g=await se.records.getFullList("news")),console.log(u,g),e(4,b=!1)}catch(w){console.warn("connection error",w),Re("/error")}}),s.$$.update=()=>{s.$$.dirty&1792&&(console.log(u),u.length>0&&e(1,d=[...u].filter(w=>{var N,C;return o||((C=(N=w["@expand"])==null?void 0:N.channel)==null?void 0:C.host)===n})))},[l,d,g,v,b,c,p,j,u,n,o]}class Co extends Ae{constructor(t){super(),Pe(this,t,ko,wo,je,{})}}const So="/assets/archiveph.png";const Oo=s=>({}),zn=s=>({}),Lo=s=>({}),Jn=s=>({});function jo(s){let t,e,n,o,i,l,r,c,u;const d=s[2].name,g=nn(d,s,s[1],Jn),v=s[2].content,b=nn(v,s,s[1],zn);return{c(){t=h("div"),g&&g.c(),e=O(),n=h("button"),n.textContent="?",o=O(),i=h("div"),l=h("div"),b&&b.c(),a(n,"class","hastooltip svelte-kwi5wp"),H(n,"active",s[0]),a(l,"class","content svelte-kwi5wp"),a(i,"class","container svelte-kwi5wp"),H(i,"active",s[0]),a(t,"class","box")},m(p,j){L(p,t,j),g&&g.m(t,null),f(t,e),f(t,n),f(t,o),f(t,i),f(i,l),b&&b.m(l,null),r=!0,c||(u=Y(n,"click",s[3]),c=!0)},p(p,[j]){g&&g.p&&(!r||j&2)&&on(g,d,p,p[1],r?sn(d,p[1],j,Lo):ln(p[1]),Jn),j&1&&H(n,"active",p[0]),b&&b.p&&(!r||j&2)&&on(b,v,p,p[1],r?sn(v,p[1],j,Oo):ln(p[1]),zn),j&1&&H(i,"active",p[0])},i(p){r||(B(g,p),B(b,p),r=!0)},o(p){X(g,p),X(b,p),r=!1},d(p){p&&S(t),g&&g.d(p),b&&b.d(p),c=!1,u()}}}function Po(s,t,e){let{$$slots:n={},$$scope:o}=t,i=!1;const l=r=>{r.preventDefault(),e(0,i=!i)};return s.$$set=r=>{"$$scope"in r&&e(1,o=r.$$scope)},[i,o,n,l]}class $e extends Ae{constructor(t){super(),Pe(this,t,Po,jo,je,{})}}function Bn(s,t,e){const n=s.slice();return n[35]=t[e],n}function Gn(s,t,e){const n=s.slice();return n[38]=t[e],n}function Ao(s){let t;return{c(){t=h("h1"),t.textContent="New!",a(t,"class","svelte-17psn5v")},m(e,n){L(e,t,n)},d(e){e&&S(t)}}}function To(s){let t;return{c(){t=h("h1"),t.textContent="Updating!",a(t,"class","svelte-17psn5v")},m(e,n){L(e,t,n)},d(e){e&&S(t)}}}function Vn(s){let t,e,n,o=s[1].id+"",i;return{c(){t=h("div"),e=h("strong"),n=U("Id: "),i=U(o),a(e,"class","svelte-17psn5v"),a(t,"class","id svelte-17psn5v")},m(l,r){L(l,t,r),f(t,e),f(e,n),f(e,i)},p(l,r){r[0]&2&&o!==(o=l[1].id+"")&&ne(i,o)},d(l){l&&S(t)}}}function Eo(s){let t;return{c(){t=h("span"),t.textContent="target selector*",a(t,"slot","name"),a(t,"class","svelte-17psn5v")},m(e,n){L(e,t,n)},p:z,d(e){e&&S(t)}}}function Ro(s){let t;return{c(){t=h("span"),t.innerHTML=`A valid CSS selector string to be the target of observation, the updates are based on changes of this element, so anytime the text on it changes, you get a new update.<br class="svelte-17psn5v"/>
				Example &quot;.post&quot;<br class="svelte-17psn5v"/><br class="svelte-17psn5v"/>
				You can learn more about CSS selectors <a class="tooltiplink svelte-17psn5v" href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors" target="_blank">here</a>`,a(t,"slot","content"),a(t,"class","svelte-17psn5v")},m(e,n){L(e,t,n)},p:z,d(e){e&&S(t)}}}function No(s){let t;return{c(){t=h("span"),t.textContent="keywords",a(t,"slot","name"),a(t,"class","svelte-17psn5v")},m(e,n){L(e,t,n)},p:z,d(e){e&&S(t)}}}function Io(s){let t;return{c(){t=h("span"),t.innerHTML=`Filter the updates with only the ones that contains words listed here, you can have more than one word separated by &quot;,&quot; without spaces<br class="svelte-17psn5v"/>
				Example: &quot;41234,foo,hello world&quot;<br class="svelte-17psn5v"/>
				If left blank, it will update on any change regradless.`,a(t,"slot","content"),a(t,"class","svelte-17psn5v")},m(e,n){L(e,t,n)},p:z,d(e){e&&S(t)}}}function qo(s){let t;return{c(){t=h("span"),t.textContent="cover",a(t,"slot","name"),a(t,"class","svelte-17psn5v")},m(e,n){L(e,t,n)},p:z,d(e){e&&S(t)}}}function Uo(s){let t;return{c(){t=h("span"),t.textContent="A url of an image",a(t,"slot","content"),a(t,"class","svelte-17psn5v")},m(e,n){L(e,t,n)},p:z,d(e){e&&S(t)}}}function Do(s){let t;return{c(){t=h("span"),t.textContent="newest post on top",a(t,"slot","name"),a(t,"class","svelte-17psn5v")},m(e,n){L(e,t,n)},p:z,d(e){e&&S(t)}}}function Mo(s){let t;return{c(){t=h("span"),t.textContent="When marked, the updates will check the newest content from the top of the page (like a blog or twitter), instead of bottom of the page",a(t,"slot","content"),a(t,"class","svelte-17psn5v")},m(e,n){L(e,t,n)},p:z,d(e){e&&S(t)}}}function Wn(s){let t,e,n,o,i,l,r;return o=new $e({props:{$$slots:{content:[zo],name:[Fo]},$$scope:{ctx:s}}}),{c(){t=h("div"),e=h("input"),n=O(),he(o.$$.fragment),a(e,"id","dead"),a(e,"type","checkbox"),a(e,"class","svelte-17psn5v"),a(t,"class","select-holder svelte-17psn5v")},m(c,u){L(c,t,u),f(t,e),e.checked=s[1].dead,f(t,n),de(o,t,null),i=!0,l||(r=Y(e,"change",s[24]),l=!0)},p(c,u){u[0]&2&&(e.checked=c[1].dead);const d={};u[1]&1024&&(d.$$scope={dirty:u,ctx:c}),o.$set(d)},i(c){i||(B(o.$$.fragment,c),i=!0)},o(c){X(o.$$.fragment,c),i=!1},d(c){c&&S(t),pe(o),l=!1,r()}}}function Fo(s){let t;return{c(){t=h("span"),t.textContent="dead",a(t,"slot","name"),a(t,"class","svelte-17psn5v")},m(e,n){L(e,t,n)},p:z,d(e){e&&S(t)}}}function zo(s){let t;return{c(){t=h("span"),t.textContent="When marked, the updates will not check any changes on this page anymore",a(t,"slot","content"),a(t,"class","svelte-17psn5v")},m(e,n){L(e,t,n)},p:z,d(e){e&&S(t)}}}function Kn(s){let t;return{c(){t=h("div"),t.textContent="Are you sure?",a(t,"class","deleteconfirm svelte-17psn5v")},m(e,n){L(e,t,n)},d(e){e&&S(t)}}}function Jo(s){let t,e,n,o,i;return{c(){t=h("button"),t.textContent="New!",e=O(),n=h("button"),n.textContent="Clear!",a(t,"type","button"),a(t,"class","svelte-17psn5v"),a(n,"type","button"),a(n,"class","svelte-17psn5v")},m(l,r){L(l,t,r),L(l,e,r),L(l,n,r),o||(i=[Y(t,"click",s[11]),Y(n,"click",s[9])],o=!0)},p:z,d(l){l&&S(t),l&&S(e),l&&S(n),o=!1,ve(i)}}}function Bo(s){let t,e,n,o,i;return{c(){t=h("button"),t.textContent="Save!",e=O(),n=h("button"),n.textContent="Delete!",a(t,"type","button"),a(t,"class","svelte-17psn5v"),a(n,"type","button"),a(n,"class","svelte-17psn5v")},m(l,r){L(l,t,r),L(l,e,r),L(l,n,r),o||(i=[Y(t,"click",s[10]),Y(n,"click",s[26])],o=!0)},p:z,d(l){l&&S(t),l&&S(e),l&&S(n),o=!1,ve(i)}}}function Go(s){let t,e,n,o,i;return{c(){t=h("button"),t.textContent="No",e=O(),n=h("button"),n.textContent="Yes",a(t,"type","button"),a(t,"class","svelte-17psn5v"),a(n,"type","button"),a(n,"class","svelte-17psn5v")},m(l,r){L(l,t,r),L(l,e,r),L(l,n,r),o||(i=[Y(t,"click",s[25]),Y(n,"click",s[12])],o=!0)},p:z,d(l){l&&S(t),l&&S(e),l&&S(n),o=!1,ve(i)}}}function Yn(s){let t,e;return{c(){t=h("img"),Ke(t.src,e=s[1].thumb)||a(t,"src",e),a(t,"alt","data.name"),a(t,"class","svelte-17psn5v")},m(n,o){L(n,t,o)},p(n,o){o[0]&2&&!Ke(t.src,e=n[1].thumb)&&a(t,"src",e)},d(n){n&&S(t)}}}function Hn(s){let t;return{c(){t=h("span"),t.textContent="[Dead]",a(t,"class","dead svelte-17psn5v")},m(e,n){L(e,t,n)},d(e){e&&S(t)}}}function Xn(s){let t,e=s[1].contains,n=[];for(let o=0;o<e.length;o+=1)n[o]=Qn(Gn(s,e,o));return{c(){t=h("div");for(let o=0;o<n.length;o+=1)n[o].c();a(t,"class","contains svelte-17psn5v")},m(o,i){L(o,t,i);for(let l=0;l<n.length;l+=1)n[l].m(t,null)},p(o,i){if(i[0]&2){e=o[1].contains;let l;for(l=0;l<e.length;l+=1){const r=Gn(o,e,l);n[l]?n[l].p(r,i):(n[l]=Qn(r),n[l].c(),n[l].m(t,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=e.length}},d(o){o&&S(t),Ne(n,o)}}}function Qn(s){let t,e=s[38]+"",n;return{c(){t=h("span"),n=U(e),a(t,"class","svelte-17psn5v")},m(o,i){L(o,t,i),f(t,n)},p(o,i){i[0]&2&&e!==(e=o[38]+"")&&ne(n,e)},d(o){o&&S(t)}}}function Zn(s){let t,e,n=s[1].updates+"",o;return{c(){t=h("div"),e=U("Updates: "),o=U(n),a(t,"class","replies svelte-17psn5v")},m(i,l){L(i,t,l),f(t,e),f(t,o)},p(i,l){l[0]&2&&n!==(n=i[1].updates+"")&&ne(o,n)},d(i){i&&S(t)}}}function xn(s){let t,e,n,o,i,l,r,c,u,d,g,v,b,p,j,w,N,C;return{c(){t=h("div"),e=h("a"),n=U(`visit 
							`),o=Ue("svg"),i=Ue("path"),r=O(),c=h("a"),u=h("img"),g=U(` archive.ph
							`),v=Ue("svg"),b=Ue("path"),j=O(),w=h("button"),w.textContent="ibhub url",a(i,"d","M 41.470703 4.9863281 A 1.50015 1.50015 0 0 0 41.308594 5 L 27.5 5 A 1.50015 1.50015 0 1 0 27.5 8 L 37.878906 8 L 22.439453 23.439453 A 1.50015 1.50015 0 1 0 24.560547 25.560547 L 40 10.121094 L 40 20.5 A 1.50015 1.50015 0 1 0 43 20.5 L 43 6.6894531 A 1.50015 1.50015 0 0 0 41.470703 4.9863281 z M 12.5 8 C 8.3754991 8 5 11.375499 5 15.5 L 5 35.5 C 5 39.624501 8.3754991 43 12.5 43 L 32.5 43 C 36.624501 43 40 39.624501 40 35.5 L 40 25.5 A 1.50015 1.50015 0 1 0 37 25.5 L 37 35.5 C 37 38.003499 35.003499 40 32.5 40 L 12.5 40 C 9.9965009 40 8 38.003499 8 35.5 L 8 15.5 C 8 12.996501 9.9965009 11 12.5 11 L 22.5 11 A 1.50015 1.50015 0 1 0 22.5 8 L 12.5 8 z"),a(i,"class","svelte-17psn5v"),a(o,"fill","var(--button-color)"),a(o,"xmlns","http://www.w3.org/2000/svg"),a(o,"viewBox","0 0 48 48"),a(o,"width","15px"),a(o,"height","15px"),a(o,"class","svelte-17psn5v"),a(e,"class","btn-link svelte-17psn5v"),a(e,"target","_blank"),a(e,"href",l=s[1].link),a(u,"alt",""),Ke(u.src,d=So)||a(u,"src",d),a(u,"class","svelte-17psn5v"),a(b,"d","M 41.470703 4.9863281 A 1.50015 1.50015 0 0 0 41.308594 5 L 27.5 5 A 1.50015 1.50015 0 1 0 27.5 8 L 37.878906 8 L 22.439453 23.439453 A 1.50015 1.50015 0 1 0 24.560547 25.560547 L 40 10.121094 L 40 20.5 A 1.50015 1.50015 0 1 0 43 20.5 L 43 6.6894531 A 1.50015 1.50015 0 0 0 41.470703 4.9863281 z M 12.5 8 C 8.3754991 8 5 11.375499 5 15.5 L 5 35.5 C 5 39.624501 8.3754991 43 12.5 43 L 32.5 43 C 36.624501 43 40 39.624501 40 35.5 L 40 25.5 A 1.50015 1.50015 0 1 0 37 25.5 L 37 35.5 C 37 38.003499 35.003499 40 32.5 40 L 12.5 40 C 9.9965009 40 8 38.003499 8 35.5 L 8 15.5 C 8 12.996501 9.9965009 11 12.5 11 L 22.5 11 A 1.50015 1.50015 0 1 0 22.5 8 L 12.5 8 z"),a(b,"class","svelte-17psn5v"),a(v,"fill","var(--button-color)"),a(v,"xmlns","http://www.w3.org/2000/svg"),a(v,"viewBox","0 0 48 48"),a(v,"width","15px"),a(v,"height","15px"),a(v,"class","svelte-17psn5v"),a(c,"class","btn-link svelte-17psn5v"),a(c,"target","_blank"),a(c,"href",p="https://archive.today/?run=1&url="+s[1].link),a(w,"class","btn-link svelte-17psn5v"),a(t,"class","btn-links-holder svelte-17psn5v")},m(k,m){L(k,t,m),f(t,e),f(e,n),f(e,o),f(o,i),f(t,r),f(t,c),f(c,u),f(c,g),f(c,v),f(v,b),f(t,j),f(t,w),N||(C=Y(w,"click",s[14]),N=!0)},p(k,m){m[0]&2&&l!==(l=k[1].link)&&a(e,"href",l),m[0]&2&&p!==(p="https://archive.today/?run=1&url="+k[1].link)&&a(c,"href",p)},d(k){k&&S(t),N=!1,C()}}}function $n(s){let t,e;return{c(){t=h("div"),e=U(s[8]),a(t,"class","backupurl svelte-17psn5v")},m(n,o){L(n,t,o),f(t,e)},p(n,o){o[0]&256&&ne(e,n[8])},d(n){n&&S(t)}}}function es(s){let t,e,n,o,i,l=s[1].laspost.split(`
`),r=[];for(let c=0;c<l.length;c+=1)r[c]=ts(Bn(s,l,c));return{c(){t=h("div"),e=h("div"),n=h("h4"),n.textContent="Last update:",o=O(),i=h("div");for(let c=0;c<r.length;c+=1)r[c].c();a(n,"class","data-content svelte-17psn5v"),a(i,"class","status-text svelte-17psn5v"),a(e,"class","status-content svelte-17psn5v"),a(t,"class","svelte-17psn5v"),H(t,"newpost",s[5].find(s[27])||ns)},m(c,u){L(c,t,u),f(t,e),f(e,n),f(e,o),f(e,i);for(let d=0;d<r.length;d+=1)r[d].m(i,null)},p(c,u){if(u[0]&2){l=c[1].laspost.split(`
`);let d;for(d=0;d<l.length;d+=1){const g=Bn(c,l,d);r[d]?r[d].p(g,u):(r[d]=ts(g),r[d].c(),r[d].m(i,null))}for(;d<r.length;d+=1)r[d].d(1);r.length=l.length}u[0]&34&&H(t,"newpost",c[5].find(c[27])||ns)},d(c){c&&S(t),Ne(r,c)}}}function ts(s){let t,e=s[35]+"",n;return{c(){t=h("div"),n=U(e),a(t,"class","svelte-17psn5v")},m(o,i){L(o,t,i),f(t,n)},p(o,i){i[0]&2&&e!==(e=o[35]+"")&&ne(n,e)},d(o){o&&S(t)}}}function Vo(s){let t,e,n,o,i,l,r,c,u,d,g,v,b,p,j,w,N,C,k,m,y,_,T,E,R,M,D,ae,Z,Se,x,ee,$,te,F,Q,ce,P,q,K,G,I,V,J,ue,oe,Ie,Vt,Ee,ze,St,ie,Ot,st,ot=s[1].name+"",Lt,Wt,it,lt=s[1].host+"",jt,Kt,Pt,At,Yt,Tt,Je,Et,Ye,rt,at,Rt,Be,Nt,Ht;function Xt(A,W){return A[1].id!=""?To:Ao}let ct=Xt(s),qe=ct(s),me=s[1].id!=""&&Vn(s);p=new $e({props:{$$slots:{content:[Ro],name:[Eo]},$$scope:{ctx:s}}}),R=new $e({props:{$$slots:{content:[Io],name:[No]},$$scope:{ctx:s}}}),x=new $e({props:{$$slots:{content:[Uo],name:[qo]},$$scope:{ctx:s}}}),V=new $e({props:{$$slots:{content:[Mo],name:[Do]},$$scope:{ctx:s}}});let le=s[1].id!=""&&Wn(s),Oe=s[7]&&Kn();function Qt(A,W){return A[7]?Go:A[1].id!=""?Bo:Jo}let ut=Qt(s),Te=ut(s),ge=s[1].thumb!=""&&Yn(s),Le=s[1].dead&&Hn(),be=s[1].contains.length>0&&Xn(s),_e=s[1].id!=""&&Zn(s),ye=s[3]&&xn(s),we=s[8]!=""&&$n(s),ke=s[1].laspost!=""&&es(s);return{c(){t=h("main"),e=h("div"),qe.c(),n=O(),o=h("section"),i=h("form"),me&&me.c(),l=O(),r=h("div"),c=h("div"),c.textContent="url*",u=O(),d=h("input"),g=O(),v=h("div"),b=h("div"),he(p.$$.fragment),j=O(),w=h("input"),N=O(),C=h("div"),k=h("div"),k.textContent="title*",m=O(),y=h("input"),_=O(),T=h("div"),E=h("div"),he(R.$$.fragment),M=O(),D=h("input"),ae=O(),Z=h("div"),Se=h("div"),he(x.$$.fragment),ee=O(),$=h("input"),te=O(),F=h("div"),Q=h("div"),Q.textContent="Extra information",ce=O(),P=h("textarea"),q=O(),K=h("div"),G=h("input"),I=O(),he(V.$$.fragment),J=O(),le&&le.c(),ue=O(),Oe&&Oe.c(),oe=O(),Ie=h("div"),Te.c(),Vt=O(),Ee=h("div"),ze=h("div"),ge&&ge.c(),St=O(),ie=h("div"),Le&&Le.c(),Ot=O(),st=h("h3"),Lt=U(ot),Wt=O(),it=h("div"),jt=U(lt),Kt=O(),be&&be.c(),Pt=O(),_e&&_e.c(),At=O(),ye&&ye.c(),Yt=O(),we&&we.c(),Tt=O(),Je=h("div"),ke&&ke.c(),Et=O(),Ye=h("div"),rt=h("div"),at=h("div"),Rt=U(s[4]),a(e,"class","container-header svelte-17psn5v"),a(c,"class","labelholder svelte-17psn5v"),a(c,"for","link"),a(d,"id","link"),a(d,"placeholder","https://en.wikipedia.org/wiki/Main_Page*"),a(d,"class","svelte-17psn5v"),a(r,"class","svelte-17psn5v"),a(b,"class","labelholder svelte-17psn5v"),a(b,"for","observeName"),a(w,"id","observeName"),a(w,"placeholder",".post*"),a(w,"class","svelte-17psn5v"),a(v,"class","svelte-17psn5v"),a(k,"class","labelholder svelte-17psn5v"),a(k,"for","name"),a(y,"id","name"),a(y,"placeholder","Title"),a(y,"class","svelte-17psn5v"),a(C,"class","svelte-17psn5v"),a(E,"class","labelholder svelte-17psn5v"),a(E,"for","containsstr"),a(D,"id","containsstr"),a(D,"placeholder","foo,123,hello world,41234"),a(D,"class","svelte-17psn5v"),a(T,"class","svelte-17psn5v"),a(Se,"class","labelholder svelte-17psn5v"),a(Se,"for","thumb"),a($,"id","thumb"),a($,"placeholder","https://validwebsite.com/image.png"),a($,"class","svelte-17psn5v"),a(Z,"class","svelte-17psn5v"),a(Q,"class","labelholder svelte-17psn5v"),a(Q,"for","meta"),a(P,"id","meta"),a(P,"placeholder","Any extra info goes here"),a(P,"class","svelte-17psn5v"),a(F,"class","svelte-17psn5v"),a(G,"id","newestOnTop"),a(G,"type","checkbox"),a(G,"class","svelte-17psn5v"),a(K,"class","select-holder svelte-17psn5v"),a(Ie,"class","form-btns-holder svelte-17psn5v"),a(i,"class","svelte-17psn5v"),a(st,"class","svelte-17psn5v"),a(it,"class","hostName svelte-17psn5v"),a(ie,"class","postdata svelte-17psn5v"),a(ze,"class","thumb svelte-17psn5v"),a(at,"class","status-text svelte-17psn5v"),a(rt,"class","status-content svelte-17psn5v"),a(Ye,"class","status-box svelte-17psn5v"),H(Ye,"statusActive",s[6]),a(Je,"class","status svelte-17psn5v"),a(Ee,"class","thumb-holder svelte-17psn5v"),a(o,"class","new-section svelte-17psn5v"),H(o,"btnActive",s[2]),a(t,"class","svelte-17psn5v")},m(A,W){L(A,t,W),f(t,e),qe.m(e,null),f(t,n),f(t,o),f(o,i),me&&me.m(i,null),f(i,l),f(i,r),f(r,c),f(r,u),f(r,d),fe(d,s[1].link),f(i,g),f(i,v),f(v,b),de(p,b,null),f(v,j),f(v,w),fe(w,s[1].observeName),f(i,N),f(i,C),f(C,k),f(C,m),f(C,y),fe(y,s[1].name),f(i,_),f(i,T),f(T,E),de(R,E,null),f(T,M),f(T,D),fe(D,s[0]),f(i,ae),f(i,Z),f(Z,Se),de(x,Se,null),f(Z,ee),f(Z,$),fe($,s[1].thumb),f(i,te),f(i,F),f(F,Q),f(F,ce),f(F,P),fe(P,s[1].meta),f(i,q),f(i,K),f(K,G),G.checked=s[1].newestOnTop,f(K,I),de(V,K,null),f(i,J),le&&le.m(i,null),f(i,ue),Oe&&Oe.m(i,null),f(i,oe),f(i,Ie),Te.m(Ie,null),f(o,Vt),f(o,Ee),f(Ee,ze),ge&&ge.m(ze,null),f(ze,St),f(ze,ie),Le&&Le.m(ie,null),f(ie,Ot),f(ie,st),f(st,Lt),f(ie,Wt),f(ie,it),f(it,jt),f(ie,Kt),be&&be.m(ie,null),f(ie,Pt),_e&&_e.m(ie,null),f(ie,At),ye&&ye.m(ie,null),f(Ee,Yt),we&&we.m(Ee,null),f(Ee,Tt),f(Ee,Je),ke&&ke.m(Je,null),f(Je,Et),f(Je,Ye),f(Ye,rt),f(rt,at),f(at,Rt),Be=!0,Nt||(Ht=[Y(d,"input",s[15]),Y(d,"input",s[16]),Y(d,"change",s[17]),Y(w,"input",s[18]),Y(y,"input",s[19]),Y(D,"input",s[20]),Y($,"input",s[21]),Y(P,"input",s[22]),Y(G,"change",s[23])],Nt=!0)},p(A,W){ct!==(ct=Xt(A))&&(qe.d(1),qe=ct(A),qe&&(qe.c(),qe.m(e,null))),A[1].id!=""?me?me.p(A,W):(me=Vn(A),me.c(),me.m(i,l)):me&&(me.d(1),me=null),W[0]&2&&d.value!==A[1].link&&fe(d,A[1].link);const Zt={};W[1]&1024&&(Zt.$$scope={dirty:W,ctx:A}),p.$set(Zt),W[0]&2&&w.value!==A[1].observeName&&fe(w,A[1].observeName),W[0]&2&&y.value!==A[1].name&&fe(y,A[1].name);const xt={};W[1]&1024&&(xt.$$scope={dirty:W,ctx:A}),R.$set(xt),W[0]&1&&D.value!==A[0]&&fe(D,A[0]);const $t={};W[1]&1024&&($t.$$scope={dirty:W,ctx:A}),x.$set($t),W[0]&2&&$.value!==A[1].thumb&&fe($,A[1].thumb),W[0]&2&&fe(P,A[1].meta),W[0]&2&&(G.checked=A[1].newestOnTop);const en={};W[1]&1024&&(en.$$scope={dirty:W,ctx:A}),V.$set(en),A[1].id!=""?le?(le.p(A,W),W[0]&2&&B(le,1)):(le=Wn(A),le.c(),B(le,1),le.m(i,ue)):le&&(De(),X(le,1,1,()=>{le=null}),Me()),A[7]?Oe||(Oe=Kn(),Oe.c(),Oe.m(i,oe)):Oe&&(Oe.d(1),Oe=null),ut===(ut=Qt(A))&&Te?Te.p(A,W):(Te.d(1),Te=ut(A),Te&&(Te.c(),Te.m(Ie,null))),A[1].thumb!=""?ge?ge.p(A,W):(ge=Yn(A),ge.c(),ge.m(ze,St)):ge&&(ge.d(1),ge=null),A[1].dead?Le||(Le=Hn(),Le.c(),Le.m(ie,Ot)):Le&&(Le.d(1),Le=null),(!Be||W[0]&2)&&ot!==(ot=A[1].name+"")&&ne(Lt,ot),(!Be||W[0]&2)&&lt!==(lt=A[1].host+"")&&ne(jt,lt),A[1].contains.length>0?be?be.p(A,W):(be=Xn(A),be.c(),be.m(ie,Pt)):be&&(be.d(1),be=null),A[1].id!=""?_e?_e.p(A,W):(_e=Zn(A),_e.c(),_e.m(ie,At)):_e&&(_e.d(1),_e=null),A[3]?ye?ye.p(A,W):(ye=xn(A),ye.c(),ye.m(ie,null)):ye&&(ye.d(1),ye=null),A[8]!=""?we?we.p(A,W):(we=$n(A),we.c(),we.m(Ee,Tt)):we&&(we.d(1),we=null),A[1].laspost!=""?ke?ke.p(A,W):(ke=es(A),ke.c(),ke.m(Je,Et)):ke&&(ke.d(1),ke=null),(!Be||W[0]&16)&&ne(Rt,A[4]),W[0]&64&&H(Ye,"statusActive",A[6]),W[0]&4&&H(o,"btnActive",A[2])},i(A){Be||(B(p.$$.fragment,A),B(R.$$.fragment,A),B(x.$$.fragment,A),B(V.$$.fragment,A),B(le),Be=!0)},o(A){X(p.$$.fragment,A),X(R.$$.fragment,A),X(x.$$.fragment,A),X(V.$$.fragment,A),X(le),Be=!1},d(A){A&&S(t),qe.d(),me&&me.d(),pe(p),pe(R),pe(x),pe(V),le&&le.d(),Oe&&Oe.d(),Te.d(),ge&&ge.d(),Le&&Le.d(),be&&be.d(),_e&&_e.d(),ye&&ye.d(),we&&we.d(),ke&&ke.d(),Nt=!1,ve(Ht)}}}let ns=!1;function Wo(s,t,e){let n;Ce(s,Us,P=>e(28,n=P));const o=window.localStorage.getItem("pocketbase_auth");let i=o?JSON.parse(o):!1,l=!1,r=!1,c="",u="Creating new",d=[],g=!1,v=!1;const b=new URLSearchParams(n);let p={id:"",name:"",link:"",host:"",observeName:"",contains:[],newestOnTop:!1,thumb:"",dead:!1,laspost:"",meta:"",updates:1};const j={method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"},w=P=>{try{return P===""||document.querySelector(P),!0}catch(q){console.warn(q)}return!1},N=P=>{try{return new URL(P),!0}catch(q){console.warn(q)}return!1};function C(){e(1,p.id="",p),e(1,p.name="",p),e(1,p.link="",p),e(1,p.observeName="",p),e(1,p.contains=[],p),e(1,p.newestOnTop=!1,p),e(1,p.thumb="",p),e(1,p.dead=!1,p),e(1,p.meta="",p),e(1,p.laspost="",p),e(1,p.host="",p),e(6,g=!1)}async function k(){try{if(console.log(p),e(6,g=!0),e(4,u="posting..."),e(2,l=!1),p.name==="")throw"empty name";if(!r)throw"invalid url";if(!w(p.observeName))throw"invalid selector";e(1,p.host=new URL(p.link).hostname,p);const P=await se.records.update("channel",p.id,p);P&&(console.log(P),e(6,g=!0),e(4,u=`${p.id} updated!`),e(2,l=!0))}catch(P){return console.warn(P),e(6,g=!0),e(4,u=`error updating, ${P}`),e(2,l=!0),!1}}async function m(){try{if(p.name==="")throw"empty name";if(!r)throw"invalid url";if(!w(p.observeName))throw"invalid selector";e(1,p.host=new URL(p.link).hostname,p),e(6,g=!0),e(4,u="creating..."),e(2,l=!1),delete p.id,console.log("sending...",p);const P=await se.records.create("channel",{...p,user:i.model.id});if(P){console.log(P),e(1,p.id=P.id,p);const q=[];q.push(p.id),e(6,g=!0),e(4,u="updating...");const K=await fetch("https://ibhub.fly.dev/api/getnewupsates",{...j,body:JSON.stringify({ids:q})});console.log(K);const G=await se.records.getFullList("news");Xe.update(I=>G.length),e(6,g=!0),e(4,u="New target created!"),e(2,l=!0),Re(`/new?id=${P.id}`)}}catch(P){return console.warn(P),e(4,u=`error updating, ${P}`),e(2,l=!0),!1}}async function y(){e(6,g=!0),e(4,u="deleting..."),e(2,l=!1);const P=await se.records.delete("channel",p.id);console.log(P),C(),e(4,u=`${p.id} deleted`),e(2,l=!0),e(7,v=!1),setTimeout(()=>{Re("/")},1e3)}async function _(P){if(console.log(P),r){e(6,g=!0),e(4,u="checking url...");let q=null;const K=await se.records.getList("channel",1,1,{filter:`host = "${new URL(P).hostname}"`,sort:"-created"});if(K&&K.items.length>0){const I=K.items[0];e(1,p.observeName=(I==null?void 0:I.observeName)===""?p.observeName:I==null?void 0:I.observeName,p),e(1,p.newestOnTop=I==null?void 0:I.newestOnTop,p),q=I==null?void 0:I.thumb}e(4,u="trying metadata...");const G=await fetch("https://ibhub.fly.dev/api/trymeta",{...j,body:JSON.stringify({link:p.link})});if(G.ok){const I=await G.json();console.log(I),e(1,p.name=I.name===""?p.name:I.name,p),e(1,p.thumb=I.thumb===""?q||p.thumb:I.thumb,p),e(4,u=I.name!=""||I.thumb!=""?"fetched metadata from url":"metadata not available")}else e(4,u="page is not available right now")}}let T="";async function E(){let P="https://ibhub.fly.dev//#/new";for(const q in p)q!="laspost"&&q!="id"&&(typeof p[q]=="string"?P=`${P}&${q}=${p[q]}`:typeof p[q]=="boolean"?P=`${P}&${q}=${p[q]==="true"}`:typeof p[q]=="object"&&(P=`${P}&${q}=${p[q].join(",")}`));console.log(P.replace("&","?")),await navigator.clipboard.writeText(P.replace("&","?")),e(6,g=!0),e(4,u="ibhub backup url copied to clipboard"),setTimeout(()=>{e(6,g=!1)},3e3),e(8,T=P.replace("&","?"))}kt(async()=>{for(const P in p)b.get(P)&&(typeof p[P]=="string"?e(1,p[P]=b.get(P),p):typeof p[P]=="boolean"?e(1,p[P]=b.get(P)==="true",p):typeof p[P]=="object"&&e(1,p[P]=b.get(P).split(","),p));if(b.get("id"))try{e(6,g=!0),e(4,u="fetching data...");const P=await se.records.getOne("channel",b.get("id"));if(console.log(b.get("id")),P){console.log(P);for(const q in p)e(1,p[q]=P[q],p);e(6,g=!1),e(0,c=p.contains.toString()),e(5,d=await se.records.getFullList("news")),console.log(P)}else e(4,u="Url id not found"),C(),Re("/new")}catch(P){console.warn(P),Re("/error")}e(2,l=!0)});function R(){p.link=this.value,e(1,p),e(0,c)}const M=()=>_(p.link),D=()=>_(p.link);function ae(){p.observeName=this.value,e(1,p),e(0,c)}function Z(){p.name=this.value,e(1,p),e(0,c)}function Se(){c=this.value,e(0,c)}function x(){p.thumb=this.value,e(1,p),e(0,c)}function ee(){p.meta=this.value,e(1,p),e(0,c)}function $(){p.newestOnTop=this.checked,e(1,p),e(0,c)}function te(){p.dead=this.checked,e(1,p),e(0,c)}const F=()=>e(7,v=!1),Q=()=>e(7,v=!0),ce=P=>P.channelid===p.id;return s.$$.update=()=>{s.$$.dirty[0]&3&&(e(1,p.contains=c===""?[]:c.split(","),p),e(3,r=N(p.link)),window.data=p)},[c,p,l,r,u,d,g,v,T,C,k,m,y,_,E,R,M,D,ae,Z,Se,x,ee,$,te,F,Q,ce]}class Ko extends Ae{constructor(t){super(),Pe(this,t,Wo,Vo,je,{},null,[-1,-1])}}function Yo(s){let t;return{c(){t=h("h1"),t.textContent="Error, check if the server still up or if your internet connection is fine"},m(e,n){L(e,t,n)},p:z,i:z,o:z,d(e){e&&S(t)}}}class Ho extends Ae{constructor(t){super(),Pe(this,t,null,Yo,je,{})}}function Xo(s){let t,e,n,o,i,l,r,c,u,d,g,v,b,p,j,w,N,C=s[2]&&ss(s);return{c(){t=h("h1"),t.textContent="Ibhub login",e=O(),n=h("div"),o=U("email: "),i=h("input"),l=O(),r=h("div"),c=U("password: "),u=h("input"),d=O(),g=h("button"),g.textContent="Register",v=O(),b=h("button"),b.textContent="login",p=O(),C&&C.c(),j=Qe(),a(i,"type","text"),a(i,"name",""),a(n,"class","input svelte-php5by"),a(u,"type","password"),a(u,"name",""),a(r,"class","input svelte-php5by"),a(g,"class","svelte-php5by"),a(b,"class","svelte-php5by")},m(k,m){L(k,t,m),L(k,e,m),L(k,n,m),f(n,o),f(n,i),fe(i,s[4].email),L(k,l,m),L(k,r,m),f(r,c),f(r,u),fe(u,s[4].password),L(k,d,m),L(k,g,m),L(k,v,m),L(k,b,m),L(k,p,m),C&&C.m(k,m),L(k,j,m),w||(N=[Y(i,"input",s[8]),Y(u,"input",s[9]),Y(g,"click",s[6]),Y(b,"click",s[7])],w=!0)},p(k,m){m&16&&i.value!==k[4].email&&fe(i,k[4].email),m&16&&u.value!==k[4].password&&fe(u,k[4].password),k[2]?C?C.p(k,m):(C=ss(k),C.c(),C.m(j.parentNode,j)):C&&(C.d(1),C=null)},d(k){k&&S(t),k&&S(e),k&&S(n),k&&S(l),k&&S(r),k&&S(d),k&&S(g),k&&S(v),k&&S(b),k&&S(p),C&&C.d(k),k&&S(j),w=!1,ve(N)}}}function Qo(s){let t,e,n=s[0][s[0].model?"model":"user"].email+"",o,i,l,r,c;return{c(){t=h("div"),e=U("Welcome "),o=U(n),i=O(),l=h("button"),l.textContent="logout",a(t,"class","success svelte-php5by"),a(l,"class","svelte-php5by")},m(u,d){L(u,t,d),f(t,e),f(t,o),L(u,i,d),L(u,l,d),r||(c=Y(l,"click",s[5]),r=!0)},p(u,d){d&1&&n!==(n=u[0][u[0].model?"model":"user"].email+"")&&ne(o,n)},d(u){u&&S(t),u&&S(i),u&&S(l),r=!1,c()}}}function ss(s){let t,e,n;return{c(){t=h("div"),e=U(s[3]),a(t,"class",n=rn(s[1])+" svelte-php5by")},m(o,i){L(o,t,i),f(t,e)},p(o,i){i&8&&ne(e,o[3]),i&2&&n!==(n=rn(o[1])+" svelte-php5by")&&a(t,"class",n)},d(o){o&&S(t)}}}function Zo(s){let t,e;function n(l,r){return l[0]?Qo:Xo}let o=n(s),i=o(s);return{c(){t=h("main"),e=h("article"),i.c(),a(e,"class","svelte-php5by")},m(l,r){L(l,t,r),f(t,e),i.m(e,null)},p(l,[r]){o===(o=n(l))&&i?i.p(l,r):(i.d(1),i=o(l),i&&(i.c(),i.m(e,null)))},i:z,o:z,d(l){l&&S(t),i.d()}}}function xo(s,t,e){const n=window.localStorage.getItem("pocketbase_auth");let o=n?JSON.parse(n):!1,i="success",l=!1,r="";o&&(se.authStore.save(o.token,o.model),console.log(o));async function c(){se.authStore.clear(),e(0,o=!1)}let u={email:"",password:""};async function d(){try{const j=await se.users.create({email:u.email,password:u.password,passwordConfirm:u.password});console.log(j),j&&g()}catch{e(1,i="error"),e(2,l=!0),e(3,r="email already used")}}async function g(){const j=await se.users.requestVerification(u.email);j&&(console.log(j),e(1,i="success"),e(2,l=!0),e(3,r="Account created successfully, please verify your email"))}async function v(){const j=await se.users.authViaEmail(u.email,u.password);j&&(console.log(j),e(0,o=j))}function b(){u.email=this.value,e(4,u)}function p(){u.password=this.value,e(4,u)}return[o,i,l,r,u,c,d,v,b,p]}class $o extends Ae{constructor(t){super(),Pe(this,t,xo,Zo,je,{})}}function ei(s){let t,e,n,o,i,l,r,c,u,d,g,v,b,p,j,w,N,C,k;return document.title=t=s[0]+" ibhub",j=new go({}),C=new Fs({props:{routes:{"/dashboard":uo,"/feed":Co,"/new":Ko,"/error":Ho,"/":$o}}}),{c(){e=O(),n=h("main"),o=h("nav"),i=h("a"),i.textContent="Home",l=O(),r=h("a"),r.textContent="Dashboard",c=O(),u=h("a"),d=U(`Feed 
			`),g=h("strong"),v=U(s[0]),b=O(),p=h("div"),he(j.$$.fragment),w=O(),N=h("div"),he(C.$$.fragment),a(i,"href","/#/"),a(i,"class","svelte-fwyfr5"),H(i,"active",s[1]==="/"),a(r,"href","/#/dashboard"),a(r,"class","svelte-fwyfr5"),H(r,"active",s[1]==="/dashboard"),a(u,"href","/#/feed"),a(u,"class","svelte-fwyfr5"),H(u,"active",s[1]==="/feed"),a(p,"class","settings svelte-fwyfr5"),a(o,"class","svelte-fwyfr5"),a(N,"class","app svelte-fwyfr5")},m(m,y){L(m,e,y),L(m,n,y),f(n,o),f(o,i),f(o,l),f(o,r),f(o,c),f(o,u),f(u,d),f(u,g),f(g,v),f(o,b),f(o,p),de(j,p,null),f(n,w),f(n,N),de(C,N,null),k=!0},p(m,[y]){(!k||y&1)&&t!==(t=m[0]+" ibhub")&&(document.title=t),y&2&&H(i,"active",m[1]==="/"),y&2&&H(r,"active",m[1]==="/dashboard"),(!k||y&1)&&ne(v,m[0]),y&2&&H(u,"active",m[1]==="/feed")},i(m){k||(B(j.$$.fragment,m),B(C.$$.fragment,m),k=!0)},o(m){X(j.$$.fragment,m),X(C.$$.fragment,m),k=!1},d(m){m&&S(e),m&&S(n),pe(j),pe(C)}}}function ti(s,t,e){let n,o;Ce(s,Xe,l=>e(2,n=l)),Ce(s,qs,l=>e(1,o=l)),(async()=>{const l=await se.records.getFullList("news");Xe.update(r=>l.length)})();let i="";return s.$$.update=()=>{s.$$.dirty&4&&(n>0?e(0,i=`(${n})`):e(0,i=""))},[i,o,n]}class ni extends Ae{constructor(t){super(),Pe(this,t,ti,ei,je,{})}}console.log("https://ibhub.fly.dev");console.log("https://ibhub-pocketbase.fly.dev/");new ni({target:document.getElementById("app")});
