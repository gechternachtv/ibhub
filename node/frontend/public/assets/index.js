(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}})();function z(){}function zt(s,t){for(const e in t)s[e]=t[e];return s}function ts(s){return s()}function xt(){return Object.create(null)}function ve(s){s.forEach(ts)}function _t(s){return typeof s=="function"}function Le(s,t){return s!=s?t==t:s!==t||s&&typeof s=="object"||typeof s=="function"}let ut;function Ve(s,t){return ut||(ut=document.createElement("a")),ut.href=t,s===ut.href}function bs(s){return Object.keys(s).length===0}function Dt(s,...t){if(s==null)return z;const e=s.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function _s(s){let t;return Dt(s,e=>t=e)(),t}function Ce(s,t,e){s.$$.on_destroy.push(Dt(t,e))}function en(s,t,e,n){if(s){const o=ns(s,t,e,n);return s[0](o)}}function ns(s,t,e,n){return s[1]&&n?zt(e.ctx.slice(),s[1](n(t))):e.ctx}function tn(s,t,e,n){if(s[2]&&n){const o=s[2](n(e));if(t.dirty===void 0)return o;if(typeof o=="object"){const i=[],l=Math.max(t.dirty.length,o.length);for(let r=0;r<l;r+=1)i[r]=t.dirty[r]|o[r];return i}return t.dirty|o}return t.dirty}function nn(s,t,e,n,o,i){if(o){const l=ns(t,e,n,i);s.p(l,o)}}function sn(s){if(s.ctx.length>32){const t=[],e=s.ctx.length/32;for(let n=0;n<e;n++)t[n]=-1;return t}return-1}function on(s){return s==null?"":s}function ss(s,t,e){return s.set(e),t}function ln(s){return s&&_t(s.destroy)?s.destroy:z}function p(s,t){s.appendChild(t)}function L(s,t,e){s.insertBefore(t,e||null)}function O(s){s.parentNode.removeChild(s)}function Te(s,t){for(let e=0;e<s.length;e+=1)s[e]&&s[e].d(t)}function h(s){return document.createElement(s)}function Ie(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function U(s){return document.createTextNode(s)}function P(){return U(" ")}function Xe(){return U("")}function K(s,t,e,n){return s.addEventListener(t,e,n),()=>s.removeEventListener(t,e,n)}function a(s,t,e){e==null?s.removeAttribute(t):s.getAttribute(t)!==e&&s.setAttribute(t,e)}function ys(s){return Array.from(s.childNodes)}function te(s,t){t=""+t,s.wholeText!==t&&(s.data=t)}function ue(s,t){s.value=t==null?"":t}function rn(s,t){for(let e=0;e<s.options.length;e+=1){const n=s.options[e];if(n.__value===t){n.selected=!0;return}}s.selectedIndex=-1}function ws(s){const t=s.querySelector(":checked")||s.options[0];return t&&t.__value}function Y(s,t,e){s.classList[e?"add":"remove"](t)}function ks(s,t,{bubbles:e=!1,cancelable:n=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(s,e,n,t),o}let tt;function xe(s){tt=s}function yt(){if(!tt)throw new Error("Function called outside component initialization");return tt}function wt(s){yt().$$.on_mount.push(s)}function Cs(s){yt().$$.after_update.push(s)}function Ss(s){yt().$$.on_destroy.push(s)}function Os(){const s=yt();return(t,e,{cancelable:n=!1}={})=>{const o=s.$$.callbacks[t];if(o){const i=ks(t,e,{cancelable:n});return o.slice().forEach(l=>{l.call(s,i)}),!i.defaultPrevented}return!0}}function an(s,t){const e=s.$$.callbacks[t.type];e&&e.slice().forEach(n=>n.call(this,t))}const Ze=[],cn=[],dt=[],un=[],os=Promise.resolve();let Nt=!1;function is(){Nt||(Nt=!0,os.then(rs))}function ls(){return is(),os}function mt(s){dt.push(s)}const Rt=new Set;let ft=0;function rs(){const s=tt;do{for(;ft<Ze.length;){const t=Ze[ft];ft++,xe(t),Ls(t.$$)}for(xe(null),Ze.length=0,ft=0;cn.length;)cn.pop()();for(let t=0;t<dt.length;t+=1){const e=dt[t];Rt.has(e)||(Rt.add(e),e())}dt.length=0}while(Ze.length);for(;un.length;)un.pop()();Nt=!1,Rt.clear(),xe(s)}function Ls(s){if(s.fragment!==null){s.update(),ve(s.before_update);const t=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,t),s.after_update.forEach(mt)}}const ht=new Set;let Je;function qe(){Je={r:0,c:[],p:Je}}function Ue(){Je.r||ve(Je.c),Je=Je.p}function D(s,t){s&&s.i&&(ht.delete(s),s.i(t))}function H(s,t,e,n){if(s&&s.o){if(ht.has(s))return;ht.add(s),Je.c.push(()=>{ht.delete(s),n&&(e&&s.d(1),n())}),s.o(t)}else n&&n()}function as(s,t){const e={},n={},o={$$scope:1};let i=s.length;for(;i--;){const l=s[i],r=t[i];if(r){for(const c in l)c in r||(n[c]=1);for(const c in r)o[c]||(e[c]=r[c],o[c]=1);s[i]=r}else for(const c in l)o[c]=1}for(const l in n)l in e||(e[l]=void 0);return e}function cs(s){return typeof s=="object"&&s!==null?s:{}}function me(s){s&&s.c()}function fe(s,t,e,n){const{fragment:o,on_mount:i,on_destroy:l,after_update:r}=s.$$;o&&o.m(t,e),n||mt(()=>{const c=i.map(ts).filter(_t);l?l.push(...c):ve(c),s.$$.on_mount=[]}),r.forEach(mt)}function pe(s,t){const e=s.$$;e.fragment!==null&&(ve(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function Ps(s,t){s.$$.dirty[0]===-1&&(Ze.push(s),is(),s.$$.dirty.fill(0)),s.$$.dirty[t/31|0]|=1<<t%31}function Pe(s,t,e,n,o,i,l,r=[-1]){const c=tt;xe(s);const u=s.$$={fragment:null,ctx:null,props:i,update:z,not_equal:o,bound:xt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:xt(),dirty:r,skip_bound:!1,root:t.target||c.$$.root};l&&l(u.root);let f=!1;if(u.ctx=e?e(s,t.props||{},(g,m,...b)=>{const d=b.length?b[0]:m;return u.ctx&&o(u.ctx[g],u.ctx[g]=d)&&(!u.skip_bound&&u.bound[g]&&u.bound[g](d),f&&Ps(s,g)),m}):[],u.update(),f=!0,ve(u.before_update),u.fragment=n?n(u.ctx):!1,t.target){if(t.hydrate){const g=ys(t.target);u.fragment&&u.fragment.l(g),g.forEach(O)}else u.fragment&&u.fragment.c();t.intro&&D(s.$$.fragment),fe(s,t.target,t.anchor,t.customElement),rs()}xe(c)}class je{$destroy(){pe(this,1),this.$destroy=z}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const o=n.indexOf(e);o!==-1&&n.splice(o,1)}}$set(t){this.$$set&&!bs(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ye=[];function us(s,t){return{subscribe:ze(s,t).subscribe}}function ze(s,t=z){let e;const n=new Set;function o(r){if(Le(s,r)&&(s=r,e)){const c=!Ye.length;for(const u of n)u[1](),Ye.push(u,s);if(c){for(let u=0;u<Ye.length;u+=2)Ye[u][0](Ye[u+1]);Ye.length=0}}}function i(r){o(r(s))}function l(r,c=z){const u=[r,c];return n.add(u),n.size===1&&(e=t(o)||z),r(s),()=>{n.delete(u),n.size===0&&(e(),e=null)}}return{set:o,update:i,subscribe:l}}function fs(s,t,e){const n=!Array.isArray(s),o=n?[s]:s,i=t.length<2;return us(e,l=>{let r=!1;const c=[];let u=0,f=z;const g=()=>{if(u)return;f();const b=t(n?c[0]:c,l);i?l(b):f=_t(b)?b:z},m=o.map((b,d)=>Dt(b,S=>{c[d]=S,u&=~(1<<d),r&&g()},()=>{u|=1<<d}));return r=!0,g(),function(){ve(m),f()}})}function js(s,t){if(s instanceof RegExp)return{keys:!1,pattern:s};var e,n,o,i,l=[],r="",c=s.split("/");for(c[0]||c.shift();o=c.shift();)e=o[0],e==="*"?(l.push("wild"),r+="/(.*)"):e===":"?(n=o.indexOf("?",1),i=o.indexOf(".",1),l.push(o.substring(1,~n?n:~i?i:o.length)),r+=!!~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(r+=(~n?"?":"")+"\\"+o.substring(i))):r+="/"+o;return{keys:l,pattern:new RegExp("^"+r+(t?"(?=$|/)":"/?$"),"i")}}function As(s){let t,e,n;const o=[s[2]];var i=s[0];function l(r){let c={};for(let u=0;u<o.length;u+=1)c=zt(c,o[u]);return{props:c}}return i&&(t=new i(l()),t.$on("routeEvent",s[7])),{c(){t&&me(t.$$.fragment),e=Xe()},m(r,c){t&&fe(t,r,c),L(r,e,c),n=!0},p(r,c){const u=c&4?as(o,[cs(r[2])]):{};if(i!==(i=r[0])){if(t){qe();const f=t;H(f.$$.fragment,1,0,()=>{pe(f,1)}),Ue()}i?(t=new i(l()),t.$on("routeEvent",r[7]),me(t.$$.fragment),D(t.$$.fragment,1),fe(t,e.parentNode,e)):t=null}else i&&t.$set(u)},i(r){n||(t&&D(t.$$.fragment,r),n=!0)},o(r){t&&H(t.$$.fragment,r),n=!1},d(r){r&&O(e),t&&pe(t,r)}}}function Es(s){let t,e,n;const o=[{params:s[1]},s[2]];var i=s[0];function l(r){let c={};for(let u=0;u<o.length;u+=1)c=zt(c,o[u]);return{props:c}}return i&&(t=new i(l()),t.$on("routeEvent",s[6])),{c(){t&&me(t.$$.fragment),e=Xe()},m(r,c){t&&fe(t,r,c),L(r,e,c),n=!0},p(r,c){const u=c&6?as(o,[c&2&&{params:r[1]},c&4&&cs(r[2])]):{};if(i!==(i=r[0])){if(t){qe();const f=t;H(f.$$.fragment,1,0,()=>{pe(f,1)}),Ue()}i?(t=new i(l()),t.$on("routeEvent",r[6]),me(t.$$.fragment),D(t.$$.fragment,1),fe(t,e.parentNode,e)):t=null}else i&&t.$set(u)},i(r){n||(t&&D(t.$$.fragment,r),n=!0)},o(r){t&&H(t.$$.fragment,r),n=!1},d(r){r&&O(e),t&&pe(t,r)}}}function Ts(s){let t,e,n,o;const i=[Es,As],l=[];function r(c,u){return c[1]?0:1}return t=r(s),e=l[t]=i[t](s),{c(){e.c(),n=Xe()},m(c,u){l[t].m(c,u),L(c,n,u),o=!0},p(c,[u]){let f=t;t=r(c),t===f?l[t].p(c,u):(qe(),H(l[f],1,1,()=>{l[f]=null}),Ue(),e=l[t],e?e.p(c,u):(e=l[t]=i[t](c),e.c()),D(e,1),e.m(n.parentNode,n))},i(c){o||(D(e),o=!0)},o(c){H(e),o=!1},d(c){l[t].d(c),c&&O(n)}}}function fn(){const s=window.location.href.indexOf("#/");let t=s>-1?window.location.href.substr(s+1):"/";const e=t.indexOf("?");let n="";return e>-1&&(n=t.substr(e+1),t=t.substr(0,e)),{location:t,querystring:n}}const Mt=us(null,function(t){t(fn());const e=()=>{t(fn())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}),Rs=fs(Mt,s=>s.location),Ns=fs(Mt,s=>s.querystring),pn=ze(void 0);async function Ee(s){if(!s||s.length<1||s.charAt(0)!="/"&&s.indexOf("#/")!==0)throw Error("Invalid parameter location");await ls(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(s.charAt(0)=="#"?"":"#")+s}function Is(s){s?window.scrollTo(s.__svelte_spa_router_scrollX,s.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function qs(s,t,e){let{routes:n={}}=t,{prefix:o=""}=t,{restoreScrollState:i=!1}=t;class l{constructor(_,w){if(!w||typeof w!="function"&&(typeof w!="object"||w._sveltesparouter!==!0))throw Error("Invalid component object");if(!_||typeof _=="string"&&(_.length<1||_.charAt(0)!="/"&&_.charAt(0)!="*")||typeof _=="object"&&!(_ instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:j,keys:R}=js(_);this.path=_,typeof w=="object"&&w._sveltesparouter===!0?(this.component=w.component,this.conditions=w.conditions||[],this.userData=w.userData,this.props=w.props||{}):(this.component=()=>Promise.resolve(w),this.conditions=[],this.props={}),this._pattern=j,this._keys=R}match(_){if(o){if(typeof o=="string")if(_.startsWith(o))_=_.substr(o.length)||"/";else return null;else if(o instanceof RegExp){const T=_.match(o);if(T&&T[0])_=_.substr(T[0].length)||"/";else return null}}const w=this._pattern.exec(_);if(w===null)return null;if(this._keys===!1)return w;const j={};let R=0;for(;R<this._keys.length;){try{j[this._keys[R]]=decodeURIComponent(w[R+1]||"")||null}catch{j[this._keys[R]]=null}R++}return j}async checkConditions(_){for(let w=0;w<this.conditions.length;w++)if(!await this.conditions[w](_))return!1;return!0}}const r=[];n instanceof Map?n.forEach((v,_)=>{r.push(new l(_,v))}):Object.keys(n).forEach(v=>{r.push(new l(v,n[v]))});let c=null,u=null,f={};const g=Os();async function m(v,_){await ls(),g(v,_)}let b=null,d=null;i&&(d=v=>{v.state&&(v.state.__svelte_spa_router_scrollY||v.state.__svelte_spa_router_scrollX)?b=v.state:b=null},window.addEventListener("popstate",d),Cs(()=>{Is(b)}));let S=null,y=null;const I=Mt.subscribe(async v=>{S=v;let _=0;for(;_<r.length;){const w=r[_].match(v.location);if(!w){_++;continue}const j={route:r[_].path,location:v.location,querystring:v.querystring,userData:r[_].userData,params:w&&typeof w=="object"&&Object.keys(w).length?w:null};if(!await r[_].checkConditions(j)){e(0,c=null),y=null,m("conditionsFailed",j);return}m("routeLoading",Object.assign({},j));const R=r[_].component;if(y!=R){R.loading?(e(0,c=R.loading),y=R,e(1,u=R.loadingParams),e(2,f={}),m("routeLoaded",Object.assign({},j,{component:c,name:c.name,params:u}))):(e(0,c=null),y=null);const T=await R();if(v!=S)return;e(0,c=T&&T.default||T),y=R}w&&typeof w=="object"&&Object.keys(w).length?e(1,u=w):e(1,u=null),e(2,f=r[_].props),m("routeLoaded",Object.assign({},j,{component:c,name:c.name,params:u})).then(()=>{pn.set(u)});return}e(0,c=null),y=null,pn.set(void 0)});Ss(()=>{I(),d&&window.removeEventListener("popstate",d)});function C(v){an.call(this,s,v)}function k(v){an.call(this,s,v)}return s.$$set=v=>{"routes"in v&&e(3,n=v.routes),"prefix"in v&&e(4,o=v.prefix),"restoreScrollState"in v&&e(5,i=v.restoreScrollState)},s.$$.update=()=>{s.$$.dirty&32&&(history.scrollRestoration=i?"manual":"auto")},[c,u,f,n,o,i,C,k]}class Us extends je{constructor(t){super(),Pe(this,t,qs,Ts,Le,{routes:3,prefix:4,restoreScrollState:5})}}var It=function(s,t){return It=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},It(s,t)};function ae(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=s}It(s,t),s.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var qt=function(){return qt=Object.assign||function(s){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(s[o]=t[o]);return s},qt.apply(this,arguments)};function Be(s,t,e,n){return new(e||(e=Promise))(function(o,i){function l(u){try{c(n.next(u))}catch(f){i(f)}}function r(u){try{c(n.throw(u))}catch(f){i(f)}}function c(u){var f;u.done?o(u.value):(f=u.value,f instanceof e?f:new e(function(g){g(f)})).then(l,r)}c((n=n.apply(s,t||[])).next())})}function Ge(s,t){var e,n,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function r(c){return function(u){return function(f){if(e)throw new TypeError("Generator is already executing.");for(;l;)try{if(e=1,n&&(o=2&f[0]?n.return:f[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,f[1])).done)return o;switch(n=0,o&&(f=[2&f[0],o.value]),f[0]){case 0:case 1:o=f;break;case 4:return l.label++,{value:f[1],done:!1};case 5:l.label++,n=f[1],f=[0];continue;case 7:f=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!((o=o.length>0&&o[o.length-1])||f[0]!==6&&f[0]!==2)){l=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){l.label=f[1];break}if(f[0]===6&&l.label<o[1]){l.label=o[1],o=f;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(f);break}o[2]&&l.ops.pop(),l.trys.pop();continue}f=t.call(s,l)}catch(g){f=[6,g],n=0}finally{e=o=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([c,u])}}}var ps,dn=function(s){function t(e){var n,o=this;return(o=s.call(this,"ClientResponseError")||this).url="",o.status=0,o.data={},o.isAbort=!1,o.originalError=null,Object.setPrototypeOf(o,t.prototype),e instanceof t||(o.originalError=e),e!==null&&typeof e=="object"&&(o.url=typeof e.url=="string"?e.url:"",o.status=typeof e.status=="number"?e.status:0,o.data=e.data!==null&&typeof e.data=="object"?e.data:{}),typeof DOMException<"u"&&e instanceof DOMException&&(o.isAbort=!0),o.name="ClientResponseError "+o.status,o.message=((n=o.data)===null||n===void 0?void 0:n.message)||"Something went wrong while processing your request.",o}return ae(t,s),t.prototype.toJSON=function(){return qt({},this)},t}(Error),pt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function hn(s,t,e){var n=Object.assign({},e||{}),o=n.encode||Ds;if(!pt.test(s))throw new TypeError("argument name is invalid");var i=o(t);if(i&&!pt.test(i))throw new TypeError("argument val is invalid");var l=s+"="+i;if(n.maxAge!=null){var r=n.maxAge-0;if(isNaN(r)||!isFinite(r))throw new TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(r)}if(n.domain){if(!pt.test(n.domain))throw new TypeError("option domain is invalid");l+="; Domain="+n.domain}if(n.path){if(!pt.test(n.path))throw new TypeError("option path is invalid");l+="; Path="+n.path}if(n.expires){if(!function(c){return Object.prototype.toString.call(c)==="[object Date]"||c instanceof Date}(n.expires)||isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");l+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(l+="; HttpOnly"),n.secure&&(l+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return l}function zs(s){return s.indexOf("%")!==-1?decodeURIComponent(s):s}function Ds(s){return encodeURIComponent(s)}function mn(s){if(s)try{var t=decodeURIComponent(ps(s.split(".")[1]).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)||{}}catch{}return{}}ps=typeof atob=="function"?atob:function(s){return Buffer=global.Buffer||require("buffer").Buffer,Buffer.from(s,"base64").toString("binary")};var Qe=function(){function s(t){t===void 0&&(t={}),this.load(t||{})}return s.prototype.load=function(t){this.id=t.id!==void 0?t.id:"",this.created=t.created!==void 0?t.created:"",this.updated=t.updated!==void 0?t.updated:""},Object.defineProperty(s.prototype,"isNew",{get:function(){return!this.id||this.id==="00000000-0000-0000-0000-000000000000"},enumerable:!1,configurable:!0}),s.prototype.clone=function(){return new this.constructor(JSON.parse(JSON.stringify(this)))},s.prototype.export=function(){return Object.assign({},this)},s}(),ds=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return ae(t,s),t.prototype.load=function(e){s.prototype.load.call(this,e);for(var n=0,o=Object.entries(e);n<o.length;n++){var i=o[n],l=i[0],r=i[1];this[l]=r}this["@collectionId"]=e["@collectionId"]!==void 0?e["@collectionId"]:"",this["@collectionName"]=e["@collectionName"]!==void 0?e["@collectionName"]:"",this["@expand"]=e["@expand"]!==void 0?e["@expand"]:{}},t}(Qe),vt=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return ae(t,s),t.prototype.load=function(e){s.prototype.load.call(this,e),this.email=typeof e.email=="string"?e.email:"",this.verified=!!e.verified,this.lastResetSentAt=typeof e.lastResetSentAt=="string"?e.lastResetSentAt:"",this.lastVerificationSentAt=typeof e.lastVerificationSentAt=="string"?e.lastVerificationSentAt:"",this.profile=e.profile?new ds(e.profile):null},t}(Qe),Ft=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return ae(t,s),t.prototype.load=function(e){s.prototype.load.call(this,e),this.avatar=typeof e.avatar=="number"?e.avatar:0,this.email=typeof e.email=="string"?e.email:"",this.lastResetSentAt=typeof e.lastResetSentAt=="string"?e.lastResetSentAt:""},t}(Qe),Ms=function(){function s(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(s.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isValid",{get:function(){return!function(t,e){e===void 0&&(e=0);var n=mn(t);return!(Object.keys(n).length>0&&(!n.exp||n.exp-e>Date.now()/1e3))}(this.token)},enumerable:!1,configurable:!0}),s.prototype.save=function(t,e){this.baseToken=t||"",this.baseModel=e!==null&&typeof e=="object"?(e==null?void 0:e.verified)!=="undefined"?new vt(e):new Ft(e):null,this.triggerChange()},s.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},s.prototype.loadFromCookie=function(t,e){e===void 0&&(e="pb_auth");var n=function(i,l){var r={};if(typeof i!="string")return r;for(var c=Object.assign({},l||{}).decode||zs,u=0;u<i.length;){var f=i.indexOf("=",u);if(f===-1)break;var g=i.indexOf(";",u);if(g===-1)g=i.length;else if(g<f){u=i.lastIndexOf(";",f-1)+1;continue}var m=i.slice(u,f).trim();if(r[m]===void 0){var b=i.slice(f+1,g).trim();b.charCodeAt(0)===34&&(b=b.slice(1,-1));try{r[m]=c(b)}catch{r[m]=b}}u=g+1}return r}(t||"")[e]||"",o={};try{(typeof(o=JSON.parse(n))===null||typeof o!="object"||Array.isArray(o))&&(o={})}catch{}this.save(o.token||"",o.model||{})},s.prototype.exportToCookie=function(t,e){var n,o,i;e===void 0&&(e="pb_auth");var l={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},r=mn(this.token);r!=null&&r.exp?l.expires=new Date(1e3*r.exp):l.expires=new Date("1970-01-01"),t=Object.assign({},l,t);var c={token:this.token,model:((n=this.model)===null||n===void 0?void 0:n.export())||null},u=hn(e,JSON.stringify(c),t),f=typeof Blob<"u"?new Blob([u]).size:u.length;return c.model&&f>4096&&(c.model={id:(o=c==null?void 0:c.model)===null||o===void 0?void 0:o.id,email:(i=c==null?void 0:c.model)===null||i===void 0?void 0:i.email},this.model instanceof vt&&(c.model.verified=this.model.verified),u=hn(e,JSON.stringify(c),t)),u},s.prototype.onChange=function(t){var e=this;return this._onChangeCallbacks.push(t),function(){for(var n=e._onChangeCallbacks.length-1;n>=0;n--)if(e._onChangeCallbacks[n]==t)return delete e._onChangeCallbacks[n],void e._onChangeCallbacks.splice(n,1)}},s.prototype.triggerChange=function(){for(var t=0,e=this._onChangeCallbacks;t<e.length;t++){var n=e[t];n&&n(this.token,this.model)}},s}(),Fs=function(s){function t(e){e===void 0&&(e="pocketbase_auth");var n=s.call(this)||this;return n.storageFallback={},n.storageKey=e,n}return ae(t,s),Object.defineProperty(t.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){var e,n=this._storageGet(this.storageKey)||{};return n===null||typeof n!="object"||n.model===null||typeof n.model!="object"?null:((e=n.model)===null||e===void 0?void 0:e.verified)!==void 0?new vt(n.model):new Ft(n.model)},enumerable:!1,configurable:!0}),t.prototype.save=function(e,n){this._storageSet(this.storageKey,{token:e,model:n}),s.prototype.save.call(this,e,n)},t.prototype.clear=function(){this._storageRemove(this.storageKey),s.prototype.clear.call(this)},t.prototype._storageGet=function(e){var n;if(typeof window<"u"&&(window==null?void 0:window.localStorage)){var o=((n=window==null?void 0:window.localStorage)===null||n===void 0?void 0:n.getItem(e))||"";try{return JSON.parse(o)}catch{return o}}return this.storageFallback[e]},t.prototype._storageSet=function(e,n){var o;if(typeof window<"u"&&(window==null?void 0:window.localStorage)){var i=n;typeof n!="string"&&(i=JSON.stringify(n)),(o=window==null?void 0:window.localStorage)===null||o===void 0||o.setItem(e,i)}else this.storageFallback[e]=n},t.prototype._storageRemove=function(e){var n;typeof window<"u"&&((n=window==null?void 0:window.localStorage)===null||n===void 0||n.removeItem(e)),delete this.storageFallback[e]},t}(Ms),kt=function(s){this.client=s},Js=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return ae(t,s),t.prototype.getAll=function(e){return e===void 0&&(e={}),this.client.send("/api/settings",{method:"GET",params:e}).then(function(n){return n||{}})},t.prototype.update=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),this.client.send("/api/settings",{method:"PATCH",params:n,body:e}).then(function(o){return o||{}})},t.prototype.testS3=function(e){return e===void 0&&(e={}),this.client.send("/api/settings/test/s3",{method:"POST",params:e}).then(function(){return!0})},t.prototype.testEmail=function(e,n,o){o===void 0&&(o={});var i={email:e,template:n};return this.client.send("/api/settings/test/email",{method:"POST",params:o,body:i}).then(function(){return!0})},t}(kt),hs=function(s,t,e,n,o){this.page=s>0?s:1,this.perPage=t>=0?t:0,this.totalItems=e>=0?e:0,this.totalPages=n>=0?n:0,this.items=o||[]},ms=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return ae(t,s),t.prototype._getFullList=function(e,n,o){var i=this;n===void 0&&(n=100),o===void 0&&(o={});var l=[],r=function(c){return Be(i,void 0,void 0,function(){return Ge(this,function(u){return[2,this._getList(e,c,n,o).then(function(f){var g=f,m=g.items,b=g.totalItems;return l=l.concat(m),m.length&&b>l.length?r(c+1):l})]})})};return r(1)},t.prototype._getList=function(e,n,o,i){var l=this;return n===void 0&&(n=1),o===void 0&&(o=30),i===void 0&&(i={}),i=Object.assign({page:n,perPage:o},i),this.client.send(e,{method:"GET",params:i}).then(function(r){var c=[];if(r!=null&&r.items){r.items=r.items||[];for(var u=0,f=r.items;u<f.length;u++){var g=f[u];c.push(l.decode(g))}}return new hs((r==null?void 0:r.page)||1,(r==null?void 0:r.perPage)||0,(r==null?void 0:r.totalItems)||0,(r==null?void 0:r.totalPages)||0,c)})},t.prototype._getOne=function(e,n,o){var i=this;return o===void 0&&(o={}),this.client.send(e+"/"+encodeURIComponent(n),{method:"GET",params:o}).then(function(l){return i.decode(l)})},t.prototype._create=function(e,n,o){var i=this;return n===void 0&&(n={}),o===void 0&&(o={}),this.client.send(e,{method:"POST",params:o,body:n}).then(function(l){return i.decode(l)})},t.prototype._update=function(e,n,o,i){var l=this;return o===void 0&&(o={}),i===void 0&&(i={}),this.client.send(e+"/"+encodeURIComponent(n),{method:"PATCH",params:i,body:o}).then(function(r){return l.decode(r)})},t.prototype._delete=function(e,n,o){return o===void 0&&(o={}),this.client.send(e+"/"+encodeURIComponent(n),{method:"DELETE",params:o}).then(function(){return!0})},t}(kt),Jt=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return ae(t,s),t.prototype.getFullList=function(e,n){return e===void 0&&(e=100),n===void 0&&(n={}),this._getFullList(this.baseCrudPath(),e,n)},t.prototype.getList=function(e,n,o){return e===void 0&&(e=1),n===void 0&&(n=30),o===void 0&&(o={}),this._getList(this.baseCrudPath(),e,n,o)},t.prototype.getOne=function(e,n){return n===void 0&&(n={}),this._getOne(this.baseCrudPath(),e,n)},t.prototype.create=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),this._create(this.baseCrudPath(),e,n)},t.prototype.update=function(e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),this._update(this.baseCrudPath(),e,n,o)},t.prototype.delete=function(e,n){return n===void 0&&(n={}),this._delete(this.baseCrudPath(),e,n)},t}(ms),Bs=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return ae(t,s),t.prototype.decode=function(e){return new Ft(e)},t.prototype.baseCrudPath=function(){return"/api/admins"},t.prototype.authResponse=function(e){var n=this.decode((e==null?void 0:e.admin)||{});return(e==null?void 0:e.token)&&(e==null?void 0:e.admin)&&this.client.authStore.save(e.token,n),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:n})},t.prototype.authViaEmail=function(e,n,o,i){return o===void 0&&(o={}),i===void 0&&(i={}),o=Object.assign({email:e,password:n},o),this.client.send(this.baseCrudPath()+"/auth-via-email",{method:"POST",params:i,body:o,headers:{Authorization:""}}).then(this.authResponse.bind(this))},t.prototype.refresh=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),this.client.send(this.baseCrudPath()+"/refresh",{method:"POST",params:n,body:e}).then(this.authResponse.bind(this))},t.prototype.requestPasswordReset=function(e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),n=Object.assign({email:e},n),this.client.send(this.baseCrudPath()+"/request-password-reset",{method:"POST",params:o,body:n}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,n,o,i,l){return i===void 0&&(i={}),l===void 0&&(l={}),i=Object.assign({token:e,password:n,passwordConfirm:o},i),this.client.send(this.baseCrudPath()+"/confirm-password-reset",{method:"POST",params:l,body:i}).then(this.authResponse.bind(this))},t}(Jt),Gs=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return ae(t,s),t.prototype.load=function(e){s.prototype.load.call(this,e),this.userId=typeof e.userId=="string"?e.userId:"",this.provider=typeof e.provider=="string"?e.provider:"",this.providerId=typeof e.providerId=="string"?e.providerId:""},t}(Qe),Vs=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return ae(t,s),t.prototype.decode=function(e){return new vt(e)},t.prototype.baseCrudPath=function(){return"/api/users"},t.prototype.authResponse=function(e){var n=this.decode((e==null?void 0:e.user)||{});return(e==null?void 0:e.token)&&(e==null?void 0:e.user)&&this.client.authStore.save(e.token,n),Object.assign({},e,{token:(e==null?void 0:e.token)||"",user:n})},t.prototype.listAuthMethods=function(e){return e===void 0&&(e={}),this.client.send(this.baseCrudPath()+"/auth-methods",{method:"GET",params:e}).then(function(n){return Object.assign({},n,{emailPassword:!!(n!=null&&n.emailPassword),authProviders:Array.isArray(n==null?void 0:n.authProviders)?n==null?void 0:n.authProviders:[]})})},t.prototype.authViaEmail=function(e,n,o,i){return o===void 0&&(o={}),i===void 0&&(i={}),o=Object.assign({email:e,password:n},o),this.client.send(this.baseCrudPath()+"/auth-via-email",{method:"POST",params:i,body:o,headers:{Authorization:""}}).then(this.authResponse.bind(this))},t.prototype.authViaOAuth2=function(e,n,o,i,l,r){return l===void 0&&(l={}),r===void 0&&(r={}),l=Object.assign({provider:e,code:n,codeVerifier:o,redirectUrl:i},l),this.client.send(this.baseCrudPath()+"/auth-via-oauth2",{method:"POST",params:r,body:l,headers:{Authorization:""}}).then(this.authResponse.bind(this))},t.prototype.refresh=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),this.client.send(this.baseCrudPath()+"/refresh",{method:"POST",params:n,body:e}).then(this.authResponse.bind(this))},t.prototype.requestPasswordReset=function(e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),n=Object.assign({email:e},n),this.client.send(this.baseCrudPath()+"/request-password-reset",{method:"POST",params:o,body:n}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,n,o,i,l){return i===void 0&&(i={}),l===void 0&&(l={}),i=Object.assign({token:e,password:n,passwordConfirm:o},i),this.client.send(this.baseCrudPath()+"/confirm-password-reset",{method:"POST",params:l,body:i}).then(this.authResponse.bind(this))},t.prototype.requestVerification=function(e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),n=Object.assign({email:e},n),this.client.send(this.baseCrudPath()+"/request-verification",{method:"POST",params:o,body:n}).then(function(){return!0})},t.prototype.confirmVerification=function(e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),n=Object.assign({token:e},n),this.client.send(this.baseCrudPath()+"/confirm-verification",{method:"POST",params:o,body:n}).then(this.authResponse.bind(this))},t.prototype.requestEmailChange=function(e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),n=Object.assign({newEmail:e},n),this.client.send(this.baseCrudPath()+"/request-email-change",{method:"POST",params:o,body:n}).then(function(){return!0})},t.prototype.confirmEmailChange=function(e,n,o,i){return o===void 0&&(o={}),i===void 0&&(i={}),o=Object.assign({token:e,password:n},o),this.client.send(this.baseCrudPath()+"/confirm-email-change",{method:"POST",params:i,body:o}).then(this.authResponse.bind(this))},t.prototype.listExternalAuths=function(e,n){return n===void 0&&(n={}),this.client.send(this.baseCrudPath()+"/"+encodeURIComponent(e)+"/external-auths",{method:"GET",params:n}).then(function(o){var i=[];if(Array.isArray(o))for(var l=0,r=o;l<r.length;l++){var c=r[l];i.push(new Gs(c))}return i})},t.prototype.unlinkExternalAuth=function(e,n,o){return o===void 0&&(o={}),this.client.send(this.baseCrudPath()+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(n),{method:"DELETE",params:o}).then(function(){return!0})},t}(Jt),Ws=function(){function s(t){t===void 0&&(t={}),this.load(t||{})}return s.prototype.load=function(t){this.id=t.id!==void 0?t.id:"",this.name=t.name!==void 0?t.name:"",this.type=t.type!==void 0?t.type:"text",this.system=!!t.system,this.required=!!t.required,this.unique=!!t.unique,this.options=typeof t.options=="object"&&t.options!==null?t.options:{}},s}(),Ks=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return ae(t,s),t.prototype.load=function(e){s.prototype.load.call(this,e),this.name=typeof e.name=="string"?e.name:"",this.system=!!e.system,this.listRule=typeof e.listRule=="string"?e.listRule:null,this.viewRule=typeof e.viewRule=="string"?e.viewRule:null,this.createRule=typeof e.createRule=="string"?e.createRule:null,this.updateRule=typeof e.updateRule=="string"?e.updateRule:null,this.deleteRule=typeof e.deleteRule=="string"?e.deleteRule:null,e.schema=Array.isArray(e.schema)?e.schema:[],this.schema=[];for(var n=0,o=e.schema;n<o.length;n++){var i=o[n];this.schema.push(new Ws(i))}},t}(Qe),Ys=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return ae(t,s),t.prototype.decode=function(e){return new Ks(e)},t.prototype.baseCrudPath=function(){return"/api/collections"},t.prototype.import=function(e,n,o){return n===void 0&&(n=!1),o===void 0&&(o={}),Be(this,void 0,void 0,function(){return Ge(this,function(i){return[2,this.client.send(this.baseCrudPath()+"/import",{method:"PUT",params:o,body:{collections:e,deleteMissing:n}}).then(function(){return!0})]})})},t}(Jt),Hs=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return ae(t,s),t.prototype.decode=function(e){return new ds(e)},t.prototype.baseCrudPath=function(e){return"/api/collections/"+encodeURIComponent(e)+"/records"},t.prototype.getFileUrl=function(e,n,o){o===void 0&&(o={});var i=[];i.push(this.client.baseUrl.replace(/\/+$/gm,"")),i.push("api"),i.push("files"),i.push(e["@collectionId"]),i.push(e.id),i.push(n);var l=i.join("/");if(Object.keys(o).length){var r=new URLSearchParams(o);l+=(l.includes("?")?"&":"?")+r}return l},t}(function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return ae(t,s),t.prototype.getFullList=function(e,n,o){return n===void 0&&(n=100),o===void 0&&(o={}),this._getFullList(this.baseCrudPath(e),n,o)},t.prototype.getList=function(e,n,o,i){return n===void 0&&(n=1),o===void 0&&(o=30),i===void 0&&(i={}),this._getList(this.baseCrudPath(e),n,o,i)},t.prototype.getOne=function(e,n,o){return o===void 0&&(o={}),this._getOne(this.baseCrudPath(e),n,o)},t.prototype.create=function(e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),this._create(this.baseCrudPath(e),n,o)},t.prototype.update=function(e,n,o,i){return o===void 0&&(o={}),i===void 0&&(i={}),this._update(this.baseCrudPath(e),n,o,i)},t.prototype.delete=function(e,n,o){return o===void 0&&(o={}),this._delete(this.baseCrudPath(e),n,o)},t}(ms)),vn=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return ae(t,s),t.prototype.load=function(e){s.prototype.load.call(this,e),e.remoteIp=e.remoteIp||e.ip,this.url=typeof e.url=="string"?e.url:"",this.method=typeof e.method=="string"?e.method:"GET",this.status=typeof e.status=="number"?e.status:200,this.auth=typeof e.auth=="string"?e.auth:"guest",this.remoteIp=typeof e.remoteIp=="string"?e.remoteIp:"",this.userIp=typeof e.userIp=="string"?e.userIp:"",this.referer=typeof e.referer=="string"?e.referer:"",this.userAgent=typeof e.userAgent=="string"?e.userAgent:"",this.meta=typeof e.meta=="object"&&e.meta!==null?e.meta:{}},t}(Qe),Xs=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return ae(t,s),t.prototype.getRequestsList=function(e,n,o){return e===void 0&&(e=1),n===void 0&&(n=30),o===void 0&&(o={}),o=Object.assign({page:e,perPage:n},o),this.client.send("/api/logs/requests",{method:"GET",params:o}).then(function(i){var l=[];if(i!=null&&i.items){i.items=(i==null?void 0:i.items)||[];for(var r=0,c=i.items;r<c.length;r++){var u=c[r];l.push(new vn(u))}}return new hs((i==null?void 0:i.page)||1,(i==null?void 0:i.perPage)||0,(i==null?void 0:i.totalItems)||0,(i==null?void 0:i.totalPages)||0,l)})},t.prototype.getRequest=function(e,n){return n===void 0&&(n={}),this.client.send("/api/logs/requests/"+encodeURIComponent(e),{method:"GET",params:n}).then(function(o){return new vn(o)})},t.prototype.getRequestsStats=function(e){return e===void 0&&(e={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:e}).then(function(n){return n})},t}(kt),Qs=function(s){function t(){var e=s!==null&&s.apply(this,arguments)||this;return e.clientId="",e.eventSource=null,e.subscriptions={},e}return ae(t,s),t.prototype.subscribe=function(e,n){var o;return Be(this,void 0,void 0,function(){return Ge(this,function(i){switch(i.label){case 0:if(!e)throw new Error("subscription must be set.");return this.subscriptions[e]&&((o=this.eventSource)===null||o===void 0||o.removeEventListener(e,this.subscriptions[e])),this.subscriptions[e]=function(l){var r,c=l;try{r=JSON.parse(c==null?void 0:c.data)}catch{}n(r||{})},this.eventSource?[3,1]:(this.connect(),[3,3]);case 1:return this.clientId?[4,this.submitSubscriptions()]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.unsubscribe=function(e){var n;return Be(this,void 0,void 0,function(){return Ge(this,function(o){switch(o.label){case 0:if(e){if(!this.subscriptions[e])return[2];(n=this.eventSource)===null||n===void 0||n.removeEventListener(e,this.subscriptions[e]),delete this.subscriptions[e]}else this.removeSubscriptionListeners(),this.subscriptions={};return this.clientId?[4,this.submitSubscriptions()]:[3,2];case 1:o.sent(),o.label=2;case 2:return Object.keys(this.subscriptions).length||this.disconnect(),[2]}})})},t.prototype.submitSubscriptions=function(){return Be(this,void 0,void 0,function(){return Ge(this,function(e){return this.addSubscriptionListeners(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:Object.keys(this.subscriptions)},params:{$autoCancel:!1}}).then(function(){return!0})]})})},t.prototype.addSubscriptionListeners=function(){if(this.eventSource)for(var e in this.removeSubscriptionListeners(),this.subscriptions)this.eventSource.addEventListener(e,this.subscriptions[e])},t.prototype.removeSubscriptionListeners=function(){if(this.eventSource)for(var e in this.subscriptions)this.eventSource.removeEventListener(e,this.subscriptions[e])},t.prototype.connectHandler=function(e){var n=e;this.clientId=n==null?void 0:n.lastEventId,this.submitSubscriptions()},t.prototype.connect=function(){var e=this;this.disconnect(),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.addEventListener("PB_CONNECT",function(n){return e.connectHandler(n)})},t.prototype.disconnect=function(){var e,n,o=this;this.removeSubscriptionListeners(),(e=this.eventSource)===null||e===void 0||e.removeEventListener("PB_CONNECT",function(i){return o.connectHandler(i)}),(n=this.eventSource)===null||n===void 0||n.close(),this.eventSource=null,this.clientId=""},t}(kt),Zs=function(){function s(t,e,n){t===void 0&&(t="/"),e===void 0&&(e="en-US"),this.cancelControllers={},this.baseUrl=t,this.lang=e,this.authStore=n||new Fs,this.admins=new Bs(this),this.users=new Vs(this),this.records=new Hs(this),this.collections=new Ys(this),this.logs=new Xs(this),this.settings=new Js(this),this.realtime=new Qs(this)}return Object.defineProperty(s.prototype,"AuthStore",{get:function(){return this.authStore},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Settings",{get:function(){return this.settings},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Admins",{get:function(){return this.admins},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Users",{get:function(){return this.users},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Collections",{get:function(){return this.collections},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Records",{get:function(){return this.records},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Logs",{get:function(){return this.logs},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Realtime",{get:function(){return this.realtime},enumerable:!1,configurable:!0}),s.prototype.cancelRequest=function(t){return this.cancelControllers[t]&&(this.cancelControllers[t].abort(),delete this.cancelControllers[t]),this},s.prototype.cancelAllRequests=function(){for(var t in this.cancelControllers)this.cancelControllers[t].abort();return this.cancelControllers={},this},s.prototype.send=function(t,e){var n,o,i,l,r,c,u,f,g;return Be(this,void 0,void 0,function(){var m,b,d,S,y,I,C=this;return Ge(this,function(k){return(m=Object.assign({method:"GET"},e)).body&&m.body.constructor.name!=="FormData"&&(typeof m.body!="string"&&(m.body=JSON.stringify(m.body)),((n=m==null?void 0:m.headers)===null||n===void 0?void 0:n["Content-Type"])===void 0&&(m.headers=Object.assign({},m.headers,{"Content-Type":"application/json"}))),((o=m==null?void 0:m.headers)===null||o===void 0?void 0:o["Accept-Language"])===void 0&&(m.headers=Object.assign({},m.headers,{"Accept-Language":this.lang})),((i=this.authStore)===null||i===void 0?void 0:i.token)&&((l=m==null?void 0:m.headers)===null||l===void 0?void 0:l.Authorization)===void 0&&(b="Admin",((r=this.authStore.model)===null||r===void 0?void 0:r.verified)!==void 0&&(b="User"),m.headers=Object.assign({},m.headers,{Authorization:b+" "+this.authStore.token})),((c=m.params)===null||c===void 0?void 0:c.$autoCancel)!==!1&&(d=((u=m.params)===null||u===void 0?void 0:u.$cancelKey)||(m.method||"GET")+t,this.cancelRequest(d),S=new AbortController,this.cancelControllers[d]=S,m.signal=S.signal),(f=m.params)===null||f===void 0||delete f.$autoCancel,(g=m.params)===null||g===void 0||delete g.$cancelKey,y=this.buildUrl(t),m.params!==void 0&&((I=this.serializeQueryParams(m.params))&&(y+=(y.includes("?")?"&":"?")+I),delete m.params),this.beforeSend&&(m=Object.assign({},this.beforeSend(y,m))),[2,fetch(y,m).then(function(v){return Be(C,void 0,void 0,function(){var _;return Ge(this,function(w){switch(w.label){case 0:_={},w.label=1;case 1:return w.trys.push([1,3,,4]),[4,v.json()];case 2:return _=w.sent(),[3,4];case 3:return w.sent(),[3,4];case 4:if(this.afterSend&&(_=this.afterSend(v,_)),v.status>=400)throw new dn({url:v.url,status:v.status,data:_});return[2,_]}})})}).catch(function(v){throw new dn(v)})]})})},s.prototype.buildUrl=function(t){var e=this.baseUrl+(this.baseUrl.endsWith("/")?"":"/");return t&&(e+=t.startsWith("/")?t.substring(1):t),e},s.prototype.serializeQueryParams=function(t){var e=[];for(var n in t)if(t[n]!==null){var o=t[n],i=encodeURIComponent(n);if(Array.isArray(o))for(var l=0,r=o;l<r.length;l++){var c=r[l];e.push(i+"="+encodeURIComponent(c))}else o instanceof Date?e.push(i+"="+encodeURIComponent(o.toISOString())):typeof o!==null&&typeof o=="object"?e.push(i+"="+encodeURIComponent(JSON.stringify(o))):e.push(i+"="+encodeURIComponent(o))}return e.join("&")},s}();const ee=new Zs("https://ibhub-pocketbase.fly.dev/"),He=ze(0),gt=ze([]),bt=ze(""),et=ze(!0),Ut=ze(!0);function gn(s,t,e){const n=s.slice();return n[2]=t[e],n}function bn(s,t,e){const n=s.slice();return n[5]=t[e],n}function _n(s){let t,e=s[5]+"",n;return{c(){t=h("div"),n=U(e)},m(o,i){L(o,t,i),p(t,n)},p(o,i){i&1&&e!==(e=o[5]+"")&&te(n,e)},d(o){o&&O(t)}}}function yn(s){let t;return{c(){t=h("div"),t.textContent="new!",a(t,"class","newposttag svelte-1t467j4")},m(e,n){L(e,t,n)},d(e){e&&O(t)}}}function wn(s){let t,e=s[0].contains,n=[];for(let o=0;o<e.length;o+=1)n[o]=kn(gn(s,e,o));return{c(){t=h("div");for(let o=0;o<n.length;o+=1)n[o].c();a(t,"class","contains svelte-1t467j4")},m(o,i){L(o,t,i);for(let l=0;l<n.length;l+=1)n[l].m(t,null)},p(o,i){if(i&1){e=o[0].contains;let l;for(l=0;l<e.length;l+=1){const r=gn(o,e,l);n[l]?n[l].p(r,i):(n[l]=kn(r),n[l].c(),n[l].m(t,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=e.length}},d(o){o&&O(t),Te(n,o)}}}function kn(s){let t,e=s[2]+"",n;return{c(){t=h("span"),n=U(e),a(t,"class","svelte-1t467j4")},m(o,i){L(o,t,i),p(t,n)},p(o,i){i&1&&e!==(e=o[2]+"")&&te(n,e)},d(o){o&&O(t)}}}function Cn(s){let t;return{c(){t=h("div"),t.textContent="[Dead]",a(t,"class","dead svelte-1t467j4")},m(e,n){L(e,t,n)},d(e){e&&O(t)}}}function $s(s){let t,e,n,o,i,l,r,c,u,f,g,m=s[0].name+"",b,d,S,y=s[0].host+"",I,C,k,v,_,w,j=s[0].updates+"",R,T,M,q,ie,ne,de,J,he,G,V,X,A,Q,Z,se=s[0].laspost.split(`
`),N=[];for(let B=0;B<se.length;B+=1)N[B]=_n(bn(s,se,B));let $=s[1]&&yn(),W=s[0].contains.length>0&&wn(s),x=s[0].dead&&Cn();return{c(){t=h("div"),e=h("div"),n=h("div"),o=h("div");for(let B=0;B<N.length;B+=1)N[B].c();i=P(),l=h("a"),r=h("img"),f=P(),g=h("div"),b=U(m),d=P(),S=h("div"),I=U(y),C=P(),$&&$.c(),k=P(),W&&W.c(),v=P(),_=h("div"),w=h("strong"),w.textContent="Updates: ",R=U(j),T=P(),M=h("div"),x&&x.c(),q=P(),ie=h("div"),ne=h("a"),de=U(`visit 
            `),J=Ie("svg"),he=Ie("path"),V=P(),X=h("div"),A=h("a"),Q=U("more"),a(o,"class","tooltip svelte-1t467j4"),a(r,"loading","lazy"),Ve(r.src,c=s[0].thumb)||a(r,"src",c),a(r,"alt",""),a(r,"class","svelte-1t467j4"),a(l,"href",u="#/new?id="+s[0].id),a(l,"class","svelte-1t467j4"),a(n,"class","thumb svelte-1t467j4"),a(g,"class","title svelte-1t467j4"),a(S,"class","hostName svelte-1t467j4"),a(_,"class","updates svelte-1t467j4"),a(e,"class","card-container"),a(he,"d","M 41.470703 4.9863281 A 1.50015 1.50015 0 0 0 41.308594 5 L 27.5 5 A 1.50015 1.50015 0 1 0 27.5 8 L 37.878906 8 L 22.439453 23.439453 A 1.50015 1.50015 0 1 0 24.560547 25.560547 L 40 10.121094 L 40 20.5 A 1.50015 1.50015 0 1 0 43 20.5 L 43 6.6894531 A 1.50015 1.50015 0 0 0 41.470703 4.9863281 z M 12.5 8 C 8.3754991 8 5 11.375499 5 15.5 L 5 35.5 C 5 39.624501 8.3754991 43 12.5 43 L 32.5 43 C 36.624501 43 40 39.624501 40 35.5 L 40 25.5 A 1.50015 1.50015 0 1 0 37 25.5 L 37 35.5 C 37 38.003499 35.003499 40 32.5 40 L 12.5 40 C 9.9965009 40 8 38.003499 8 35.5 L 8 15.5 C 8 12.996501 9.9965009 11 12.5 11 L 22.5 11 A 1.50015 1.50015 0 1 0 22.5 8 L 12.5 8 z"),a(J,"fill","var(--button-color)"),a(J,"xmlns","http://www.w3.org/2000/svg"),a(J,"viewBox","0 0 48 48"),a(J,"width","15px"),a(J,"height","15px"),a(ne,"target","_blank"),a(ne,"href",G=s[0].link),a(ne,"class","svelte-1t467j4"),a(ie,"class","feed-btn svelte-1t467j4"),a(A,"href",Z="#/new?id="+s[0].id),a(A,"class","svelte-1t467j4"),a(X,"class","feed-btn svelte-1t467j4"),a(M,"class","card-container feed-btn-container svelte-1t467j4"),a(t,"class","card svelte-1t467j4"),Y(t,"newpost",s[1])},m(B,ce){L(B,t,ce),p(t,e),p(e,n),p(n,o);for(let oe=0;oe<N.length;oe+=1)N[oe].m(o,null);p(n,i),p(n,l),p(l,r),p(e,f),p(e,g),p(g,b),p(e,d),p(e,S),p(S,I),p(e,C),$&&$.m(e,null),p(e,k),W&&W.m(e,null),p(e,v),p(e,_),p(_,w),p(_,R),p(t,T),p(t,M),x&&x.m(M,null),p(M,q),p(M,ie),p(ie,ne),p(ne,de),p(ne,J),p(J,he),p(M,V),p(M,X),p(X,A),p(A,Q)},p(B,[ce]){if(ce&1){se=B[0].laspost.split(`
`);let oe;for(oe=0;oe<se.length;oe+=1){const Re=bn(B,se,oe);N[oe]?N[oe].p(Re,ce):(N[oe]=_n(Re),N[oe].c(),N[oe].m(o,null))}for(;oe<N.length;oe+=1)N[oe].d(1);N.length=se.length}ce&1&&!Ve(r.src,c=B[0].thumb)&&a(r,"src",c),ce&1&&u!==(u="#/new?id="+B[0].id)&&a(l,"href",u),ce&1&&m!==(m=B[0].name+"")&&te(b,m),ce&1&&y!==(y=B[0].host+"")&&te(I,y),B[1]?$||($=yn(),$.c(),$.m(e,k)):$&&($.d(1),$=null),B[0].contains.length>0?W?W.p(B,ce):(W=wn(B),W.c(),W.m(e,v)):W&&(W.d(1),W=null),ce&1&&j!==(j=B[0].updates+"")&&te(R,j),B[0].dead?x||(x=Cn(),x.c(),x.m(M,q)):x&&(x.d(1),x=null),ce&1&&G!==(G=B[0].link)&&a(ne,"href",G),ce&1&&Z!==(Z="#/new?id="+B[0].id)&&a(A,"href",Z),ce&2&&Y(t,"newpost",B[1])},i:z,o:z,d(B){B&&O(t),Te(N,B),$&&$.d(),W&&W.d(),x&&x.d()}}}function xs(s,t,e){let{channel:n}=t,{isNew:o}=t;return s.$$set=i=>{"channel"in i&&e(0,n=i.channel),"isNew"in i&&e(1,o=i.isNew)},[n,o]}class eo extends je{constructor(t){super(),Pe(this,t,xs,$s,Le,{channel:0,isNew:1})}}function Sn(s,t,e){const n=s.slice();return n[7]=t[e],n}function On(s){let t,e=s[7]+"",n,o,i;function l(){return s[6](s[7])}return{c(){t=h("button"),n=U(e),a(t,"class","svelte-1paaqmw"),Y(t,"active",s[2]===!1&&s[3]===s[7])},m(r,c){L(r,t,c),p(t,n),o||(i=K(t,"click",l),o=!0)},p(r,c){s=r,c&1&&e!==(e=s[7]+"")&&te(n,e),c&13&&Y(t,"active",s[2]===!1&&s[3]===s[7])},d(r){r&&O(t),o=!1,i()}}}function to(s){let t,e,n,o,i,l,r,c=s[0],u=[];for(let f=0;f<c.length;f+=1)u[f]=On(Sn(s,c,f));return{c(){t=h("div"),e=h("button"),e.textContent="show inactive",n=P(),o=h("button"),o.textContent="all domains",i=P();for(let f=0;f<u.length;f+=1)u[f].c();a(e,"class","showdead svelte-1paaqmw"),Y(e,"active",s[1]),a(o,"class","svelte-1paaqmw"),Y(o,"active",s[2]),a(t,"class","filter svelte-1paaqmw")},m(f,g){L(f,t,g),p(t,e),p(t,n),p(t,o),p(t,i);for(let m=0;m<u.length;m+=1)u[m].m(t,null);l||(r=[K(e,"click",s[4]),K(o,"click",s[5])],l=!0)},p(f,[g]){if(g&2&&Y(e,"active",f[1]),g&4&&Y(o,"active",f[2]),g&13){c=f[0];let m;for(m=0;m<c.length;m+=1){const b=Sn(f,c,m);u[m]?u[m].p(b,g):(u[m]=On(b),u[m].c(),u[m].m(t,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=c.length}},i:z,o:z,d(f){f&&O(t),Te(u,f),l=!1,ve(r)}}}function no(s,t,e){let n,o,i,l;return Ce(s,gt,f=>e(0,n=f)),Ce(s,Ut,f=>e(1,o=f)),Ce(s,et,f=>e(2,i=f)),Ce(s,bt,f=>e(3,l=f)),wt(async()=>{try{if(n.length===0){const f=await ee.records.getFullList("channel");ss(gt,n=Array.from(new Set(f.map(g=>g.host))),n)}}catch(f){console.warn("connection error",f)}}),[n,o,i,l,()=>Ut.update(f=>!o),()=>et.update(f=>!0),f=>{bt.update(g=>f),et.update(g=>!1)}]}class vs extends je{constructor(t){super(),Pe(this,t,no,to,Le,{})}}function Ln(s,t,e){const n=s.slice();return n[16]=t[e],n}function Pn(s){let t,e,n,o,i,l,r,c,u,f,g,m,b,d,S,y,I,C;function k(T,M){return T[0]?oo:so}let v=k(s),_=v(s);b=new vs({});let w=s[5],j=[];for(let T=0;T<w.length;T+=1)j[T]=jn(Ln(s,w,T));const R=T=>H(j[T],1,1,()=>{j[T]=null});return{c(){t=h("main"),e=h("div"),e.innerHTML='<h1 class="svelte-94novy">Dashboard</h1>',n=P(),o=h("div"),i=h("button"),i.textContent="New!",l=P(),r=h("button"),_.c(),c=P(),u=h("span"),f=U(s[4]),g=P(),m=h("div"),me(b.$$.fragment),d=P(),S=h("div");for(let T=0;T<j.length;T+=1)j[T].c();a(e,"class","container-header svelte-94novy"),a(i,"class","updateall svelte-94novy"),Y(i,"loading",s[3]),a(r,"class","updateall svelte-94novy"),Y(r,"loading",s[3]),a(u,"class","result svelte-94novy"),a(o,"class","container-header-buttons svelte-94novy"),a(S,"class","container svelte-94novy"),a(m,"class","main-container svelte-94novy"),a(t,"class","svelte-94novy")},m(T,M){L(T,t,M),p(t,e),p(t,n),p(t,o),p(o,i),p(o,l),p(o,r),_.m(r,null),p(o,c),p(o,u),p(u,f),p(t,g),p(t,m),fe(b,m,null),p(m,d),p(m,S);for(let q=0;q<j.length;q+=1)j[q].m(S,null);y=!0,I||(C=[K(i,"click",s[11]),K(r,"click",s[7])],I=!0)},p(T,M){if(M&8&&Y(i,"loading",T[3]),v!==(v=k(T))&&(_.d(1),_=v(T),_&&(_.c(),_.m(r,null))),M&8&&Y(r,"loading",T[3]),(!y||M&16)&&te(f,T[4]),M&98){w=T[5];let q;for(q=0;q<w.length;q+=1){const ie=Ln(T,w,q);j[q]?(j[q].p(ie,M),D(j[q],1)):(j[q]=jn(ie),j[q].c(),D(j[q],1),j[q].m(S,null))}for(qe(),q=w.length;q<j.length;q+=1)R(q);Ue()}},i(T){if(!y){D(b.$$.fragment,T);for(let M=0;M<w.length;M+=1)D(j[M]);y=!0}},o(T){H(b.$$.fragment,T),j=j.filter(Boolean);for(let M=0;M<j.length;M+=1)H(j[M]);y=!1},d(T){T&&O(t),_.d(),pe(b),Te(j,T),I=!1,ve(C)}}}function so(s){let t;return{c(){t=U("update domain")},m(e,n){L(e,t,n)},d(e){e&&O(t)}}}function oo(s){let t;return{c(){t=U("update all")},m(e,n){L(e,t,n)},d(e){e&&O(t)}}}function jn(s){let t,e;return t=new eo({props:{channel:s[16],isNew:s[6](s[1],s[16].id)}}),{c(){me(t.$$.fragment)},m(n,o){fe(t,n,o),e=!0},p(n,o){const i={};o&32&&(i.channel=n[16]),o&34&&(i.isNew=n[6](n[1],n[16].id)),t.$set(i)},i(n){e||(D(t.$$.fragment,n),e=!0)},o(n){H(t.$$.fragment,n),e=!1},d(n){pe(t,n)}}}function io(s){let t,e,n=!s[2]&&Pn(s);return{c(){n&&n.c(),t=Xe()},m(o,i){n&&n.m(o,i),L(o,t,i),e=!0},p(o,[i]){o[2]?n&&(qe(),H(n,1,1,()=>{n=null}),Ue()):n?(n.p(o,i),i&4&&D(n,1)):(n=Pn(o),n.c(),D(n,1),n.m(t.parentNode,t))},i(o){e||(D(n),e=!0)},o(o){H(n),e=!1},d(o){n&&n.d(o),o&&O(t)}}}function lo(s,t,e){let n,o,i,l,r;Ce(s,Ut,C=>e(9,n=C)),Ce(s,bt,C=>e(10,o=C)),Ce(s,et,C=>e(0,i=C)),Ce(s,He,C=>e(12,l=C)),Ce(s,gt,C=>e(13,r=C)),window.localStorage.getItem("pocketbase_auth")||Ee("/");const c=(C,k)=>C.find(_=>_.channel===k)!=null;let u=[],f=[],g=!0;wt(async()=>{try{console.log("%c ====","color:yellow"),e(8,u=await ee.records.getFullList("channel")),e(1,f=await ee.records.getFullList("news")),console.log(f),e(2,g=!1),ss(gt,r=Array.from(new Set(u.map(C=>C.host))),r)}catch(C){console.warn("connection error!",C),Ee("/error")}});let m=!1,b="";const d=C=>{e(4,b=C),setTimeout(()=>{e(4,b="")},3e3)},S=async()=>{var C,k;try{e(3,m=!0),e(4,b=`updating${i?"":` ${o}`}...`);const v=y.map(R=>R.id);console.log("ids",v);const _=(k=(C=JSON.parse(window.localStorage.getItem("pocketbase_auth")))==null?void 0:C.model)==null?void 0:k.id;console.log("localuser:",_);const j=await(await fetch("https://ibhub.fly.dev/api/getnewupsates",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({user:_})})).text();console.log(j),e(8,u=await ee.records.getFullList("channel")),e(1,f=await ee.records.getFullList("news")),He.update(R=>f.length),e(3,m=!1),d(`updated! ${l>0?`${l} new update${l===1?"":"s"}`:"nothing new right now"}`)}catch(v){console.warn(v),e(3,m=!1),d("error while updating")}};let y=u;const I=()=>Ee("/new");return s.$$.update=()=>{s.$$.dirty&1793&&e(5,y=[...u].reverse().filter(C=>i?!0:C.host===o).filter(C=>n?!0:C.dead===!1))},[i,f,g,m,b,y,c,S,u,n,o,I]}class ro extends je{constructor(t){super(),Pe(this,t,lo,io,Le,{})}}function gs(s){var t,e,n="";if(typeof s=="string"||typeof s=="number")n+=s;else if(typeof s=="object")if(Array.isArray(s))for(t=0;t<s.length;t++)s[t]&&(e=gs(s[t]))&&(n&&(n+=" "),n+=e);else for(t in s)s[t]&&(n&&(n+=" "),n+=t);return n}function An(){for(var s,t,e=0,n="";e<arguments.length;)(s=arguments[e++])&&(t=gs(s))&&(n&&(n+=" "),n+=t);return n}const ao=(s,t="")=>{const e=ze(An(t).split(" ").filter(Boolean)),n=e.subscribe(i=>{Array.isArray(i)&&(i==null?void 0:i.length)&&s.classList.add(...i)}),o=()=>s.classList.remove(..._s(e));return{update:(i="")=>{o(),e.set(An(i).split(" ").filter(Boolean))},destroy:()=>{o(),n()}}},co=(s,t={})=>{const e=document.createElement("div"),n=(i={})=>{if(typeof i=="string"&&(e.style.cssText=i),typeof i=="object")for(const[l,r]of Object.entries(i))l.startsWith("--")?e.style.setProperty(l,r):e.style[l]=r;s.style.cssText=`
					${s.style.cssText};
					${e.style.cssText};
				`};n(t);const o=()=>{s.style.cssText=s.style.cssText.replace(e.style.cssText,""),e.style.cssText=""};return{update:i=>{o(),n(i)},destroy:o}};function En(s,t,e){const n=s.slice();return n[4]=t[e],n}function Tn(s){let t,e=s[4]+"",n,o;return{c(){t=h("option"),n=U(e),o=P(),t.__value=s[4],t.value=t.__value},m(i,l){L(i,t,l),p(t,n),p(t,o)},p:z,d(i){i&&O(t)}}}function uo(s){let t,e,n,o,i,l=s[1],r=[];for(let c=0;c<l.length;c+=1)r[c]=Tn(En(s,l,c));return{c(){e=P(),n=h("select");for(let c=0;c<r.length;c+=1)r[c].c();a(n,"class","svelte-13f2tfu"),s[0]===void 0&&mt(()=>s[2].call(n))},m(c,u){L(c,e,u),L(c,n,u);for(let f=0;f<r.length;f+=1)r[f].m(n,null);rn(n,s[0]),o||(i=[ln(t=ao.call(null,document.body,s[0])),ln(co.call(null,document.body,fo)),K(n,"change",s[2])],o=!0)},p(c,[u]){if(t&&_t(t.update)&&u&1&&t.update.call(null,c[0]),u&2){l=c[1];let f;for(f=0;f<l.length;f+=1){const g=En(c,l,f);r[f]?r[f].p(g,u):(r[f]=Tn(g),r[f].c(),r[f].m(n,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}u&3&&rn(n,c[0])},i:z,o:z,d(c){c&&O(e),c&&O(n),Te(r,c),o=!1,ve(i)}}}let fo="";function po(s,t,e){let n="yotsuba-nograd";const o=["yotsuba-nograd","yotsuba","yotsuba-b","nograd","bluesky","luckygreen","uboa","plankton"],i=localStorage.getItem("storedTheme");n=i||n;function l(){n=ws(this),e(0,n),e(1,o)}return s.$$.update=()=>{s.$$.dirty&1&&localStorage.setItem("storedTheme",n)},[n,o,l]}class ho extends je{constructor(t){super(),Pe(this,t,po,uo,Le,{})}}function Rn(s,t,e){const n=s.slice();return n[2]=t[e],n}function Nn(s){let t;return{c(){t=h("div"),t.textContent="[ NEW !]",a(t,"class","newposttag svelte-szvp27")},m(e,n){L(e,t,n)},d(e){e&&O(t)}}}function In(s){let t,e=s[2]+"",n;return{c(){t=h("div"),n=U(e)},m(o,i){L(o,t,i),p(t,n)},p(o,i){i&1&&e!==(e=o[2]+"")&&te(n,e)},d(o){o&&O(t)}}}function mo(s){let t,e,n,o=s[0].created+"",i,l,r,c=s[0].title+"",u,f,g,m,b,d,S,y,I,C,k,v,_,w,j,R,T,M,q,ie,ne,de,J=s[1]&&Nn(),he=s[0].content.split(`
`),G=[];for(let V=0;V<he.length;V+=1)G[V]=In(Rn(s,he,V));return{c(){var V,X,A,Q,Z,se;t=h("div"),e=h("div"),n=h("div"),i=U(o),l=P(),r=h("h2"),u=U(c),f=P(),J&&J.c(),g=P(),m=h("div"),b=h("img"),S=P(),y=h("div");for(let N=0;N<G.length;N+=1)G[N].c();I=P(),C=h("div"),k=h("div"),v=h("div"),_=h("a"),w=U(`visit 
                `),j=Ie("svg"),R=Ie("path"),M=P(),q=h("div"),ie=h("a"),ne=U("more"),a(n,"class","date svelte-szvp27"),a(r,"class","svelte-szvp27"),a(b,"loading","lazy"),Ve(b.src,d=(X=(V=s[0]["@expand"])==null?void 0:V.channel)==null?void 0:X.thumb)||a(b,"src",d),a(b,"alt",""),a(b,"class","svelte-szvp27"),a(m,"class","thumb svelte-szvp27"),a(y,"class","channelcontent svelte-szvp27"),a(e,"class","card-container svelte-szvp27"),a(R,"d","M 41.470703 4.9863281 A 1.50015 1.50015 0 0 0 41.308594 5 L 27.5 5 A 1.50015 1.50015 0 1 0 27.5 8 L 37.878906 8 L 22.439453 23.439453 A 1.50015 1.50015 0 1 0 24.560547 25.560547 L 40 10.121094 L 40 20.5 A 1.50015 1.50015 0 1 0 43 20.5 L 43 6.6894531 A 1.50015 1.50015 0 0 0 41.470703 4.9863281 z M 12.5 8 C 8.3754991 8 5 11.375499 5 15.5 L 5 35.5 C 5 39.624501 8.3754991 43 12.5 43 L 32.5 43 C 36.624501 43 40 39.624501 40 35.5 L 40 25.5 A 1.50015 1.50015 0 1 0 37 25.5 L 37 35.5 C 37 38.003499 35.003499 40 32.5 40 L 12.5 40 C 9.9965009 40 8 38.003499 8 35.5 L 8 15.5 C 8 12.996501 9.9965009 11 12.5 11 L 22.5 11 A 1.50015 1.50015 0 1 0 22.5 8 L 12.5 8 z"),a(j,"fill","var(--button-color)"),a(j,"xmlns","http://www.w3.org/2000/svg"),a(j,"viewBox","0 0 48 48"),a(j,"width","15px"),a(j,"height","15px"),a(_,"target","_blank"),a(_,"href",T=(Q=(A=s[0]["@expand"])==null?void 0:A.channel)==null?void 0:Q.link),a(_,"class","svelte-szvp27"),a(v,"class","feed-btn svelte-szvp27"),a(ie,"href",de="#/new?id="+((se=(Z=s[0]["@expand"])==null?void 0:Z.channel)==null?void 0:se.id)),a(ie,"class","svelte-szvp27"),a(q,"class","feed-btn svelte-szvp27"),a(k,"class","card-container feed-btn-container svelte-szvp27"),a(C,"class","feed-btn-holder svelte-szvp27"),a(t,"class","card svelte-szvp27"),Y(t,"newpost",s[1])},m(V,X){L(V,t,X),p(t,e),p(e,n),p(n,i),p(e,l),p(e,r),p(r,u),p(e,f),J&&J.m(e,null),p(e,g),p(e,m),p(m,b),p(e,S),p(e,y);for(let A=0;A<G.length;A+=1)G[A].m(y,null);p(t,I),p(t,C),p(C,k),p(k,v),p(v,_),p(_,w),p(_,j),p(j,R),p(k,M),p(k,q),p(q,ie),p(ie,ne)},p(V,[X]){var A,Q,Z,se,N,$;if(X&1&&o!==(o=V[0].created+"")&&te(i,o),X&1&&c!==(c=V[0].title+"")&&te(u,c),V[1]?J||(J=Nn(),J.c(),J.m(e,g)):J&&(J.d(1),J=null),X&1&&!Ve(b.src,d=(Q=(A=V[0]["@expand"])==null?void 0:A.channel)==null?void 0:Q.thumb)&&a(b,"src",d),X&1){he=V[0].content.split(`
`);let W;for(W=0;W<he.length;W+=1){const x=Rn(V,he,W);G[W]?G[W].p(x,X):(G[W]=In(x),G[W].c(),G[W].m(y,null))}for(;W<G.length;W+=1)G[W].d(1);G.length=he.length}X&1&&T!==(T=(se=(Z=V[0]["@expand"])==null?void 0:Z.channel)==null?void 0:se.link)&&a(_,"href",T),X&1&&de!==(de="#/new?id="+(($=(N=V[0]["@expand"])==null?void 0:N.channel)==null?void 0:$.id))&&a(ie,"href",de),X&2&&Y(t,"newpost",V[1])},i:z,o:z,d(V){V&&O(t),J&&J.d(),Te(G,V)}}}function vo(s,t,e){let{feed:n}=t,{isNew:o}=t;return console.log(n),s.$$set=i=>{"feed"in i&&e(0,n=i.feed),"isNew"in i&&e(1,o=i.isNew)},[n,o]}class go extends je{constructor(t){super(),Pe(this,t,vo,mo,Le,{feed:0,isNew:1})}}function qn(s,t,e){const n=s.slice();return n[13]=t[e],n[15]=e,n}function Un(s){let t,e,n,o,i,l,r,c,u,f,g,m,b,d,S,y,I,C;b=new vs({});let k=s[1],v=[];for(let w=0;w<k.length;w+=1)v[w]=zn(qn(s,k,w));const _=w=>H(v[w],1,1,()=>{v[w]=null});return{c(){t=h("main"),e=h("h1"),e.textContent="Feed",n=P(),o=h("div"),i=h("button"),i.textContent="mark as read",l=P(),r=h("button"),r.textContent="get RSS",c=P(),u=h("span"),f=U(s[0]),g=P(),m=h("div"),me(b.$$.fragment),d=P(),S=h("div");for(let w=0;w<v.length;w+=1)v[w].c();a(e,"class","svelte-pc5ee"),a(i,"class","svelte-pc5ee"),a(r,"class","svelte-pc5ee"),a(u,"class","result svelte-pc5ee"),a(o,"class","feedoptions svelte-pc5ee"),a(S,"class","feeds svelte-pc5ee"),a(m,"class","container svelte-pc5ee"),a(t,"class","svelte-pc5ee")},m(w,j){L(w,t,j),p(t,e),p(t,n),p(t,o),p(o,i),p(o,l),p(o,r),p(o,c),p(o,u),p(u,f),p(t,g),p(t,m),fe(b,m,null),p(m,d),p(m,S);for(let R=0;R<v.length;R+=1)v[R].m(S,null);y=!0,I||(C=[K(i,"click",s[6]),K(r,"click",s[7])],I=!0)},p(w,j){if((!y||j&1)&&te(f,w[0]),j&46){k=w[1];let R;for(R=0;R<k.length;R+=1){const T=qn(w,k,R);v[R]?(v[R].p(T,j),D(v[R],1)):(v[R]=zn(T),v[R].c(),D(v[R],1),v[R].m(S,null))}for(qe(),R=k.length;R<v.length;R+=1)_(R);Ue()}},i(w){if(!y){D(b.$$.fragment,w);for(let j=0;j<k.length;j+=1)D(v[j]);y=!0}},o(w){H(b.$$.fragment,w),v=v.filter(Boolean);for(let j=0;j<v.length;j+=1)H(v[j]);y=!1},d(w){w&&O(t),pe(b),Te(v,w),I=!1,ve(C)}}}function zn(s){let t,e;return t=new go({props:{feed:s[13],isNew:s[5](s[2],s[13].id)&&!s[3]}}),{c(){me(t.$$.fragment)},m(n,o){fe(t,n,o),e=!0},p(n,o){const i={};o&2&&(i.feed=n[13]),o&14&&(i.isNew=n[5](n[2],n[13].id)&&!n[3]),t.$set(i)},i(n){e||(D(t.$$.fragment,n),e=!0)},o(n){H(t.$$.fragment,n),e=!1},d(n){pe(t,n)}}}function bo(s){let t,e,n=!s[4]&&Un(s);return{c(){n&&n.c(),t=Xe()},m(o,i){n&&n.m(o,i),L(o,t,i),e=!0},p(o,[i]){o[4]?n&&(qe(),H(n,1,1,()=>{n=null}),Ue()):n?(n.p(o,i),i&16&&D(n,1)):(n=Un(o),n.c(),D(n,1),n.m(t.parentNode,t))},i(o){e||(D(n),e=!0)},o(o){H(n),e=!1},d(o){n&&n.d(o),o&&O(t)}}}function _o(s,t,e){let n,o;Ce(s,bt,y=>e(9,n=y)),Ce(s,et,y=>e(10,o=y)),window.localStorage.getItem("pocketbase_auth")||Ee("/");let i=window.localStorage.getItem("pocketbase_auth")?JSON.parse(window.localStorage.getItem("pocketbase_auth")):!1,l="";const r=y=>{e(0,l=y),setTimeout(()=>{e(0,l="")},3e3)},c=(y,I)=>(console.log("%c ====","color:red"),console.log(y,I),y.find(k=>k.feeds===I)!=null);let u=[],f=u,g=[],m=!1,b=!0;const d=async()=>{try{const y=await Promise.all(g.map(async I=>{ee.records.delete("news",I.id)}));console.log(y),He.update(I=>0),e(3,m=!0),r("nothing new")}catch(y){console.error(y)}},S=async()=>{try{const y=await await(await fetch(`https://ibhub.fly.dev/api/getrsslink/${i.model.id}`)).json();if(!y.error)console.log(y.rss),await navigator.clipboard.writeText(y.rss),r("rss link copied to clipboard");else throw y.error}catch(y){console.error(y)}};return wt(async()=>{try{e(8,u=await ee.records.getFullList("feeditem",50,{expand:"channel",sort:"-created"})),e(2,g=await ee.records.getFullList("news")),console.log(u,g),e(4,b=!1)}catch(y){console.warn("connection error",y),Ee("/error")}}),s.$$.update=()=>{s.$$.dirty&1792&&(console.log(u),u.length>0&&e(1,f=[...u].filter(y=>{var I,C;return o||((C=(I=y["@expand"])==null?void 0:I.channel)==null?void 0:C.host)===n})))},[l,f,g,m,b,c,d,S,u,n,o]}class yo extends je{constructor(t){super(),Pe(this,t,_o,bo,Le,{})}}const wo="/assets/archiveph.png";const ko=s=>({}),Dn=s=>({}),Co=s=>({}),Mn=s=>({});function So(s){let t,e,n,o,i,l,r,c,u;const f=s[2].name,g=en(f,s,s[1],Mn),m=s[2].content,b=en(m,s,s[1],Dn);return{c(){t=h("div"),g&&g.c(),e=P(),n=h("button"),n.textContent="?",o=P(),i=h("div"),l=h("div"),b&&b.c(),a(n,"class","hastooltip svelte-kwi5wp"),Y(n,"active",s[0]),a(l,"class","content svelte-kwi5wp"),a(i,"class","container svelte-kwi5wp"),Y(i,"active",s[0]),a(t,"class","box")},m(d,S){L(d,t,S),g&&g.m(t,null),p(t,e),p(t,n),p(t,o),p(t,i),p(i,l),b&&b.m(l,null),r=!0,c||(u=K(n,"click",s[3]),c=!0)},p(d,[S]){g&&g.p&&(!r||S&2)&&nn(g,f,d,d[1],r?tn(f,d[1],S,Co):sn(d[1]),Mn),S&1&&Y(n,"active",d[0]),b&&b.p&&(!r||S&2)&&nn(b,m,d,d[1],r?tn(m,d[1],S,ko):sn(d[1]),Dn),S&1&&Y(i,"active",d[0])},i(d){r||(D(g,d),D(b,d),r=!0)},o(d){H(g,d),H(b,d),r=!1},d(d){d&&O(t),g&&g.d(d),b&&b.d(d),c=!1,u()}}}function Oo(s,t,e){let{$$slots:n={},$$scope:o}=t,i=!1;const l=r=>{r.preventDefault(),e(0,i=!i)};return s.$$set=r=>{"$$scope"in r&&e(1,o=r.$$scope)},[i,o,n,l]}class $e extends je{constructor(t){super(),Pe(this,t,Oo,So,Le,{})}}function Fn(s,t,e){const n=s.slice();return n[33]=t[e],n}function Jn(s,t,e){const n=s.slice();return n[36]=t[e],n}function Lo(s){let t;return{c(){t=h("h1"),t.textContent="New!",a(t,"class","svelte-i8ynmp")},m(e,n){L(e,t,n)},d(e){e&&O(t)}}}function Po(s){let t;return{c(){t=h("h1"),t.textContent="Updating!",a(t,"class","svelte-i8ynmp")},m(e,n){L(e,t,n)},d(e){e&&O(t)}}}function Bn(s){let t,e,n,o=s[1].id+"",i;return{c(){t=h("div"),e=h("strong"),n=U("Id: "),i=U(o),a(e,"class","svelte-i8ynmp"),a(t,"class","id svelte-i8ynmp")},m(l,r){L(l,t,r),p(t,e),p(e,n),p(e,i)},p(l,r){r[0]&2&&o!==(o=l[1].id+"")&&te(i,o)},d(l){l&&O(t)}}}function jo(s){let t;return{c(){t=h("span"),t.textContent="target selector*",a(t,"slot","name"),a(t,"class","svelte-i8ynmp")},m(e,n){L(e,t,n)},p:z,d(e){e&&O(t)}}}function Ao(s){let t;return{c(){t=h("span"),t.innerHTML=`A valid CSS selector string to be the target of observation, the updates are based on changes of this element, so anytime the text on it changes, you get a new update.<br class="svelte-i8ynmp"/>
				Example &quot;.post&quot;<br class="svelte-i8ynmp"/><br class="svelte-i8ynmp"/>
				You can learn more about CSS selectors <a class="tooltiplink svelte-i8ynmp" href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors" target="_blank">here</a>`,a(t,"slot","content"),a(t,"class","svelte-i8ynmp")},m(e,n){L(e,t,n)},p:z,d(e){e&&O(t)}}}function Eo(s){let t;return{c(){t=h("span"),t.textContent="keywords",a(t,"slot","name"),a(t,"class","svelte-i8ynmp")},m(e,n){L(e,t,n)},p:z,d(e){e&&O(t)}}}function To(s){let t;return{c(){t=h("span"),t.innerHTML=`Filter the updates with only the ones that contains words listed here, you can have more than one word separated by &quot;,&quot; without spaces<br class="svelte-i8ynmp"/>
				Example: &quot;41234,foo,hello world&quot;<br class="svelte-i8ynmp"/>
				If left blank, it will update on any change regradless.`,a(t,"slot","content"),a(t,"class","svelte-i8ynmp")},m(e,n){L(e,t,n)},p:z,d(e){e&&O(t)}}}function Ro(s){let t;return{c(){t=h("span"),t.textContent="cover",a(t,"slot","name"),a(t,"class","svelte-i8ynmp")},m(e,n){L(e,t,n)},p:z,d(e){e&&O(t)}}}function No(s){let t;return{c(){t=h("span"),t.textContent="A url of an image",a(t,"slot","content"),a(t,"class","svelte-i8ynmp")},m(e,n){L(e,t,n)},p:z,d(e){e&&O(t)}}}function Io(s){let t;return{c(){t=h("span"),t.textContent="newest post on top",a(t,"slot","name"),a(t,"class","svelte-i8ynmp")},m(e,n){L(e,t,n)},p:z,d(e){e&&O(t)}}}function qo(s){let t;return{c(){t=h("span"),t.textContent="When marked, the updates will check the newest content from the top of the page (like a blog or twitter), instead of bottom of the page",a(t,"slot","content"),a(t,"class","svelte-i8ynmp")},m(e,n){L(e,t,n)},p:z,d(e){e&&O(t)}}}function Gn(s){let t,e,n,o,i,l,r;return o=new $e({props:{$$slots:{content:[zo],name:[Uo]},$$scope:{ctx:s}}}),{c(){t=h("div"),e=h("input"),n=P(),me(o.$$.fragment),a(e,"id","dead"),a(e,"type","checkbox"),a(e,"class","svelte-i8ynmp"),a(t,"class","select-holder svelte-i8ynmp")},m(c,u){L(c,t,u),p(t,e),e.checked=s[1].dead,p(t,n),fe(o,t,null),i=!0,l||(r=K(e,"change",s[22]),l=!0)},p(c,u){u[0]&2&&(e.checked=c[1].dead);const f={};u[1]&256&&(f.$$scope={dirty:u,ctx:c}),o.$set(f)},i(c){i||(D(o.$$.fragment,c),i=!0)},o(c){H(o.$$.fragment,c),i=!1},d(c){c&&O(t),pe(o),l=!1,r()}}}function Uo(s){let t;return{c(){t=h("span"),t.textContent="dead",a(t,"slot","name"),a(t,"class","svelte-i8ynmp")},m(e,n){L(e,t,n)},p:z,d(e){e&&O(t)}}}function zo(s){let t;return{c(){t=h("span"),t.textContent="When marked, the updates will not check any changes on this page anymore",a(t,"slot","content"),a(t,"class","svelte-i8ynmp")},m(e,n){L(e,t,n)},p:z,d(e){e&&O(t)}}}function Vn(s){let t;return{c(){t=h("div"),t.textContent="Are you sure?",a(t,"class","deleteconfirm svelte-i8ynmp")},m(e,n){L(e,t,n)},d(e){e&&O(t)}}}function Do(s){let t,e,n,o,i;return{c(){t=h("button"),t.textContent="New!",e=P(),n=h("button"),n.textContent="Clear!",a(t,"type","button"),a(t,"class","svelte-i8ynmp"),a(n,"type","button"),a(n,"class","svelte-i8ynmp")},m(l,r){L(l,t,r),L(l,e,r),L(l,n,r),o||(i=[K(t,"click",s[10]),K(n,"click",s[8])],o=!0)},p:z,d(l){l&&O(t),l&&O(e),l&&O(n),o=!1,ve(i)}}}function Mo(s){let t,e,n,o,i;return{c(){t=h("button"),t.textContent="Save!",e=P(),n=h("button"),n.textContent="Delete!",a(t,"type","button"),a(t,"class","svelte-i8ynmp"),a(n,"type","button"),a(n,"class","svelte-i8ynmp")},m(l,r){L(l,t,r),L(l,e,r),L(l,n,r),o||(i=[K(t,"click",s[9]),K(n,"click",s[24])],o=!0)},p:z,d(l){l&&O(t),l&&O(e),l&&O(n),o=!1,ve(i)}}}function Fo(s){let t,e,n,o,i;return{c(){t=h("button"),t.textContent="No",e=P(),n=h("button"),n.textContent="Yes",a(t,"type","button"),a(t,"class","svelte-i8ynmp"),a(n,"type","button"),a(n,"class","svelte-i8ynmp")},m(l,r){L(l,t,r),L(l,e,r),L(l,n,r),o||(i=[K(t,"click",s[23]),K(n,"click",s[11])],o=!0)},p:z,d(l){l&&O(t),l&&O(e),l&&O(n),o=!1,ve(i)}}}function Wn(s){let t,e;return{c(){t=h("img"),Ve(t.src,e=s[1].thumb)||a(t,"src",e),a(t,"alt","data.name"),a(t,"class","svelte-i8ynmp")},m(n,o){L(n,t,o)},p(n,o){o[0]&2&&!Ve(t.src,e=n[1].thumb)&&a(t,"src",e)},d(n){n&&O(t)}}}function Kn(s){let t;return{c(){t=h("span"),t.textContent="[Dead]",a(t,"class","dead svelte-i8ynmp")},m(e,n){L(e,t,n)},d(e){e&&O(t)}}}function Yn(s){let t,e=s[1].contains,n=[];for(let o=0;o<e.length;o+=1)n[o]=Hn(Jn(s,e,o));return{c(){t=h("div");for(let o=0;o<n.length;o+=1)n[o].c();a(t,"class","contains svelte-i8ynmp")},m(o,i){L(o,t,i);for(let l=0;l<n.length;l+=1)n[l].m(t,null)},p(o,i){if(i[0]&2){e=o[1].contains;let l;for(l=0;l<e.length;l+=1){const r=Jn(o,e,l);n[l]?n[l].p(r,i):(n[l]=Hn(r),n[l].c(),n[l].m(t,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=e.length}},d(o){o&&O(t),Te(n,o)}}}function Hn(s){let t,e=s[36]+"",n;return{c(){t=h("span"),n=U(e),a(t,"class","svelte-i8ynmp")},m(o,i){L(o,t,i),p(t,n)},p(o,i){i[0]&2&&e!==(e=o[36]+"")&&te(n,e)},d(o){o&&O(t)}}}function Xn(s){let t,e,n=s[1].updates+"",o;return{c(){t=h("div"),e=U("Updates: "),o=U(n),a(t,"class","replies svelte-i8ynmp")},m(i,l){L(i,t,l),p(t,e),p(t,o)},p(i,l){l[0]&2&&n!==(n=i[1].updates+"")&&te(o,n)},d(i){i&&O(t)}}}function Qn(s){let t,e,n,o,i,l,r,c,u,f,g,m,b,d;return{c(){t=h("div"),e=h("a"),n=U(`visit 
							`),o=Ie("svg"),i=Ie("path"),r=P(),c=h("a"),u=h("img"),g=U(` archive.ph
							`),m=Ie("svg"),b=Ie("path"),a(i,"d","M 41.470703 4.9863281 A 1.50015 1.50015 0 0 0 41.308594 5 L 27.5 5 A 1.50015 1.50015 0 1 0 27.5 8 L 37.878906 8 L 22.439453 23.439453 A 1.50015 1.50015 0 1 0 24.560547 25.560547 L 40 10.121094 L 40 20.5 A 1.50015 1.50015 0 1 0 43 20.5 L 43 6.6894531 A 1.50015 1.50015 0 0 0 41.470703 4.9863281 z M 12.5 8 C 8.3754991 8 5 11.375499 5 15.5 L 5 35.5 C 5 39.624501 8.3754991 43 12.5 43 L 32.5 43 C 36.624501 43 40 39.624501 40 35.5 L 40 25.5 A 1.50015 1.50015 0 1 0 37 25.5 L 37 35.5 C 37 38.003499 35.003499 40 32.5 40 L 12.5 40 C 9.9965009 40 8 38.003499 8 35.5 L 8 15.5 C 8 12.996501 9.9965009 11 12.5 11 L 22.5 11 A 1.50015 1.50015 0 1 0 22.5 8 L 12.5 8 z"),a(i,"class","svelte-i8ynmp"),a(o,"fill","var(--button-color)"),a(o,"xmlns","http://www.w3.org/2000/svg"),a(o,"viewBox","0 0 48 48"),a(o,"width","15px"),a(o,"height","15px"),a(o,"class","svelte-i8ynmp"),a(e,"class","btn-link svelte-i8ynmp"),a(e,"target","_blank"),a(e,"href",l=s[1].link),a(u,"alt",""),Ve(u.src,f=wo)||a(u,"src",f),a(u,"class","svelte-i8ynmp"),a(b,"d","M 41.470703 4.9863281 A 1.50015 1.50015 0 0 0 41.308594 5 L 27.5 5 A 1.50015 1.50015 0 1 0 27.5 8 L 37.878906 8 L 22.439453 23.439453 A 1.50015 1.50015 0 1 0 24.560547 25.560547 L 40 10.121094 L 40 20.5 A 1.50015 1.50015 0 1 0 43 20.5 L 43 6.6894531 A 1.50015 1.50015 0 0 0 41.470703 4.9863281 z M 12.5 8 C 8.3754991 8 5 11.375499 5 15.5 L 5 35.5 C 5 39.624501 8.3754991 43 12.5 43 L 32.5 43 C 36.624501 43 40 39.624501 40 35.5 L 40 25.5 A 1.50015 1.50015 0 1 0 37 25.5 L 37 35.5 C 37 38.003499 35.003499 40 32.5 40 L 12.5 40 C 9.9965009 40 8 38.003499 8 35.5 L 8 15.5 C 8 12.996501 9.9965009 11 12.5 11 L 22.5 11 A 1.50015 1.50015 0 1 0 22.5 8 L 12.5 8 z"),a(b,"class","svelte-i8ynmp"),a(m,"fill","var(--button-color)"),a(m,"xmlns","http://www.w3.org/2000/svg"),a(m,"viewBox","0 0 48 48"),a(m,"width","15px"),a(m,"height","15px"),a(m,"class","svelte-i8ynmp"),a(c,"class","btn-link svelte-i8ynmp"),a(c,"target","_blank"),a(c,"href",d="https://archive.today/?run=1&url="+s[1].link),a(t,"class","btn-links-holder svelte-i8ynmp")},m(S,y){L(S,t,y),p(t,e),p(e,n),p(e,o),p(o,i),p(t,r),p(t,c),p(c,u),p(c,g),p(c,m),p(m,b)},p(S,y){y[0]&2&&l!==(l=S[1].link)&&a(e,"href",l),y[0]&2&&d!==(d="https://archive.today/?run=1&url="+S[1].link)&&a(c,"href",d)},d(S){S&&O(t)}}}function Zn(s){let t,e,n,o,i,l=s[1].laspost.split(`
`),r=[];for(let c=0;c<l.length;c+=1)r[c]=$n(Fn(s,l,c));return{c(){t=h("div"),e=h("div"),n=h("h4"),n.textContent="Last update:",o=P(),i=h("div");for(let c=0;c<r.length;c+=1)r[c].c();a(n,"class","data-content svelte-i8ynmp"),a(i,"class","status-text svelte-i8ynmp"),a(e,"class","status-content svelte-i8ynmp"),a(t,"class","svelte-i8ynmp"),Y(t,"newpost",s[5].find(s[25])||xn)},m(c,u){L(c,t,u),p(t,e),p(e,n),p(e,o),p(e,i);for(let f=0;f<r.length;f+=1)r[f].m(i,null)},p(c,u){if(u[0]&2){l=c[1].laspost.split(`
`);let f;for(f=0;f<l.length;f+=1){const g=Fn(c,l,f);r[f]?r[f].p(g,u):(r[f]=$n(g),r[f].c(),r[f].m(i,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}u[0]&34&&Y(t,"newpost",c[5].find(c[25])||xn)},d(c){c&&O(t),Te(r,c)}}}function $n(s){let t,e=s[33]+"",n;return{c(){t=h("div"),n=U(e),a(t,"class","svelte-i8ynmp")},m(o,i){L(o,t,i),p(t,n)},p(o,i){i[0]&2&&e!==(e=o[33]+"")&&te(n,e)},d(o){o&&O(t)}}}function Jo(s){let t,e,n,o,i,l,r,c,u,f,g,m,b,d,S,y,I,C,k,v,_,w,j,R,T,M,q,ie,ne,de,J,he,G,V,X,A,Q,Z,se,N,$,W,x,B,ce,oe,Re,Bt,We,De,Ct,le,St,nt,st=s[1].name+"",Ot,Gt,ot,it=s[1].host+"",Lt,Vt,Pt,jt,Wt,Me,At,Ke,lt,rt,Et,Fe,Tt,Kt;function Yt(E,F){return E[1].id!=""?Po:Lo}let at=Yt(s),Ne=at(s),ge=s[1].id!=""&&Bn(s);d=new $e({props:{$$slots:{content:[Ao],name:[jo]},$$scope:{ctx:s}}}),T=new $e({props:{$$slots:{content:[To],name:[Eo]},$$scope:{ctx:s}}}),J=new $e({props:{$$slots:{content:[No],name:[Ro]},$$scope:{ctx:s}}}),x=new $e({props:{$$slots:{content:[qo],name:[Io]},$$scope:{ctx:s}}});let re=s[1].id!=""&&Gn(s),Se=s[7]&&Vn();function Ht(E,F){return E[7]?Fo:E[1].id!=""?Mo:Do}let ct=Ht(s),Ae=ct(s),be=s[1].thumb!=""&&Wn(s),Oe=s[1].dead&&Kn(),_e=s[1].contains.length>0&&Yn(s),ye=s[1].id!=""&&Xn(s),we=s[3]&&Qn(s),ke=s[1].laspost!=""&&Zn(s);return{c(){t=h("main"),e=h("div"),Ne.c(),n=P(),o=h("section"),i=h("form"),ge&&ge.c(),l=P(),r=h("div"),c=h("div"),c.textContent="url*",u=P(),f=h("input"),g=P(),m=h("div"),b=h("div"),me(d.$$.fragment),S=P(),y=h("input"),I=P(),C=h("div"),k=h("div"),k.textContent="title*",v=P(),_=h("input"),w=P(),j=h("div"),R=h("div"),me(T.$$.fragment),M=P(),q=h("input"),ie=P(),ne=h("div"),de=h("div"),me(J.$$.fragment),he=P(),G=h("input"),V=P(),X=h("div"),A=h("div"),A.textContent="Extra information",Q=P(),Z=h("textarea"),se=P(),N=h("div"),$=h("input"),W=P(),me(x.$$.fragment),B=P(),re&&re.c(),ce=P(),Se&&Se.c(),oe=P(),Re=h("div"),Ae.c(),Bt=P(),We=h("div"),De=h("div"),be&&be.c(),Ct=P(),le=h("div"),Oe&&Oe.c(),St=P(),nt=h("h3"),Ot=U(st),Gt=P(),ot=h("div"),Lt=U(it),Vt=P(),_e&&_e.c(),Pt=P(),ye&&ye.c(),jt=P(),we&&we.c(),Wt=P(),Me=h("div"),ke&&ke.c(),At=P(),Ke=h("div"),lt=h("div"),rt=h("div"),Et=U(s[4]),a(e,"class","container-header svelte-i8ynmp"),a(c,"class","labelholder svelte-i8ynmp"),a(c,"for","link"),a(f,"id","link"),a(f,"placeholder","https://en.wikipedia.org/wiki/Main_Page*"),a(f,"class","svelte-i8ynmp"),a(r,"class","svelte-i8ynmp"),a(b,"class","labelholder svelte-i8ynmp"),a(b,"for","observeName"),a(y,"id","observeName"),a(y,"placeholder",".post*"),a(y,"class","svelte-i8ynmp"),a(m,"class","svelte-i8ynmp"),a(k,"class","labelholder svelte-i8ynmp"),a(k,"for","name"),a(_,"id","name"),a(_,"placeholder","Title"),a(_,"class","svelte-i8ynmp"),a(C,"class","svelte-i8ynmp"),a(R,"class","labelholder svelte-i8ynmp"),a(R,"for","containsstr"),a(q,"id","containsstr"),a(q,"placeholder","foo,123,hello world,41234"),a(q,"class","svelte-i8ynmp"),a(j,"class","svelte-i8ynmp"),a(de,"class","labelholder svelte-i8ynmp"),a(de,"for","thumb"),a(G,"id","thumb"),a(G,"placeholder","https://validwebsite.com/image.png"),a(G,"class","svelte-i8ynmp"),a(ne,"class","svelte-i8ynmp"),a(A,"class","labelholder svelte-i8ynmp"),a(A,"for","meta"),a(Z,"id","meta"),a(Z,"placeholder","Any extra info goes here"),a(Z,"class","svelte-i8ynmp"),a(X,"class","svelte-i8ynmp"),a($,"id","newestOnTop"),a($,"type","checkbox"),a($,"class","svelte-i8ynmp"),a(N,"class","select-holder svelte-i8ynmp"),a(Re,"class","form-btns-holder svelte-i8ynmp"),a(i,"class","svelte-i8ynmp"),a(nt,"class","svelte-i8ynmp"),a(ot,"class","hostName svelte-i8ynmp"),a(le,"class","postdata svelte-i8ynmp"),a(De,"class","thumb svelte-i8ynmp"),a(rt,"class","status-text svelte-i8ynmp"),a(lt,"class","status-content svelte-i8ynmp"),a(Ke,"class","status-box svelte-i8ynmp"),Y(Ke,"statusActive",s[6]),a(Me,"class","status svelte-i8ynmp"),a(We,"class","thumb-holder svelte-i8ynmp"),a(o,"class","new-section svelte-i8ynmp"),Y(o,"btnActive",s[2]),a(t,"class","svelte-i8ynmp")},m(E,F){L(E,t,F),p(t,e),Ne.m(e,null),p(t,n),p(t,o),p(o,i),ge&&ge.m(i,null),p(i,l),p(i,r),p(r,c),p(r,u),p(r,f),ue(f,s[1].link),p(i,g),p(i,m),p(m,b),fe(d,b,null),p(m,S),p(m,y),ue(y,s[1].observeName),p(i,I),p(i,C),p(C,k),p(C,v),p(C,_),ue(_,s[1].name),p(i,w),p(i,j),p(j,R),fe(T,R,null),p(j,M),p(j,q),ue(q,s[0]),p(i,ie),p(i,ne),p(ne,de),fe(J,de,null),p(ne,he),p(ne,G),ue(G,s[1].thumb),p(i,V),p(i,X),p(X,A),p(X,Q),p(X,Z),ue(Z,s[1].meta),p(i,se),p(i,N),p(N,$),$.checked=s[1].newestOnTop,p(N,W),fe(x,N,null),p(i,B),re&&re.m(i,null),p(i,ce),Se&&Se.m(i,null),p(i,oe),p(i,Re),Ae.m(Re,null),p(o,Bt),p(o,We),p(We,De),be&&be.m(De,null),p(De,Ct),p(De,le),Oe&&Oe.m(le,null),p(le,St),p(le,nt),p(nt,Ot),p(le,Gt),p(le,ot),p(ot,Lt),p(le,Vt),_e&&_e.m(le,null),p(le,Pt),ye&&ye.m(le,null),p(le,jt),we&&we.m(le,null),p(We,Wt),p(We,Me),ke&&ke.m(Me,null),p(Me,At),p(Me,Ke),p(Ke,lt),p(lt,rt),p(rt,Et),Fe=!0,Tt||(Kt=[K(f,"input",s[13]),K(f,"input",s[14]),K(f,"change",s[15]),K(y,"input",s[16]),K(_,"input",s[17]),K(q,"input",s[18]),K(G,"input",s[19]),K(Z,"input",s[20]),K($,"change",s[21])],Tt=!0)},p(E,F){at!==(at=Yt(E))&&(Ne.d(1),Ne=at(E),Ne&&(Ne.c(),Ne.m(e,null))),E[1].id!=""?ge?ge.p(E,F):(ge=Bn(E),ge.c(),ge.m(i,l)):ge&&(ge.d(1),ge=null),F[0]&2&&f.value!==E[1].link&&ue(f,E[1].link);const Xt={};F[1]&256&&(Xt.$$scope={dirty:F,ctx:E}),d.$set(Xt),F[0]&2&&y.value!==E[1].observeName&&ue(y,E[1].observeName),F[0]&2&&_.value!==E[1].name&&ue(_,E[1].name);const Qt={};F[1]&256&&(Qt.$$scope={dirty:F,ctx:E}),T.$set(Qt),F[0]&1&&q.value!==E[0]&&ue(q,E[0]);const Zt={};F[1]&256&&(Zt.$$scope={dirty:F,ctx:E}),J.$set(Zt),F[0]&2&&G.value!==E[1].thumb&&ue(G,E[1].thumb),F[0]&2&&ue(Z,E[1].meta),F[0]&2&&($.checked=E[1].newestOnTop);const $t={};F[1]&256&&($t.$$scope={dirty:F,ctx:E}),x.$set($t),E[1].id!=""?re?(re.p(E,F),F[0]&2&&D(re,1)):(re=Gn(E),re.c(),D(re,1),re.m(i,ce)):re&&(qe(),H(re,1,1,()=>{re=null}),Ue()),E[7]?Se||(Se=Vn(),Se.c(),Se.m(i,oe)):Se&&(Se.d(1),Se=null),ct===(ct=Ht(E))&&Ae?Ae.p(E,F):(Ae.d(1),Ae=ct(E),Ae&&(Ae.c(),Ae.m(Re,null))),E[1].thumb!=""?be?be.p(E,F):(be=Wn(E),be.c(),be.m(De,Ct)):be&&(be.d(1),be=null),E[1].dead?Oe||(Oe=Kn(),Oe.c(),Oe.m(le,St)):Oe&&(Oe.d(1),Oe=null),(!Fe||F[0]&2)&&st!==(st=E[1].name+"")&&te(Ot,st),(!Fe||F[0]&2)&&it!==(it=E[1].host+"")&&te(Lt,it),E[1].contains.length>0?_e?_e.p(E,F):(_e=Yn(E),_e.c(),_e.m(le,Pt)):_e&&(_e.d(1),_e=null),E[1].id!=""?ye?ye.p(E,F):(ye=Xn(E),ye.c(),ye.m(le,jt)):ye&&(ye.d(1),ye=null),E[3]?we?we.p(E,F):(we=Qn(E),we.c(),we.m(le,null)):we&&(we.d(1),we=null),E[1].laspost!=""?ke?ke.p(E,F):(ke=Zn(E),ke.c(),ke.m(Me,At)):ke&&(ke.d(1),ke=null),(!Fe||F[0]&16)&&te(Et,E[4]),F[0]&64&&Y(Ke,"statusActive",E[6]),F[0]&4&&Y(o,"btnActive",E[2])},i(E){Fe||(D(d.$$.fragment,E),D(T.$$.fragment,E),D(J.$$.fragment,E),D(x.$$.fragment,E),D(re),Fe=!0)},o(E){H(d.$$.fragment,E),H(T.$$.fragment,E),H(J.$$.fragment,E),H(x.$$.fragment,E),H(re),Fe=!1},d(E){E&&O(t),Ne.d(),ge&&ge.d(),pe(d),pe(T),pe(J),pe(x),re&&re.d(),Se&&Se.d(),Ae.d(),be&&be.d(),Oe&&Oe.d(),_e&&_e.d(),ye&&ye.d(),we&&we.d(),ke&&ke.d(),Tt=!1,ve(Kt)}}}let xn=!1;function Bo(s,t,e){let n;Ce(s,Ns,A=>e(26,n=A));const o=window.localStorage.getItem("pocketbase_auth");let i=o?JSON.parse(o):!1,l=!1,r=!1,c="",u="Creating new",f=[],g=!1,m=!1;const b=new URLSearchParams(n);let d={id:"",name:"",link:"",host:"",observeName:"",contains:[],newestOnTop:!1,thumb:"",dead:!1,laspost:"",meta:"",updates:1};const S={method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"},y=A=>{try{if(A==="")throw"empty selector";return document.querySelector(A),!0}catch(Q){console.warn(Q)}return!1},I=A=>{try{return new URL(A),!0}catch(Q){console.warn(Q)}return!1};function C(){e(1,d.id="",d),e(1,d.name="",d),e(1,d.link="",d),e(1,d.observeName="",d),e(1,d.contains=[],d),e(1,d.newestOnTop=!1,d),e(1,d.thumb="",d),e(1,d.dead=!1,d),e(1,d.meta="",d),e(1,d.laspost="",d),e(1,d.host="",d),e(6,g=!1)}async function k(){try{if(console.log(d),e(6,g=!0),e(4,u="posting..."),e(2,l=!1),d.name==="")throw"empty name";if(!r)throw"invalid url";if(!y(d.observeName))throw"invalid selector";e(1,d.host=new URL(d.link).hostname,d);const A=await ee.records.update("channel",d.id,d);A&&(console.log(A),e(6,g=!0),e(4,u=`${d.id} updated!`),e(2,l=!0))}catch(A){return console.warn(A),e(6,g=!0),e(4,u=`error updating, ${A}`),e(2,l=!0),!1}}async function v(){try{if(d.name==="")throw"empty name";if(!r)throw"invalid url";if(!y(d.observeName))throw"invalid selector";e(1,d.host=new URL(d.link).hostname,d),e(6,g=!0),e(4,u="creating..."),e(2,l=!1),delete d.id,console.log("sending...",d);const A=await ee.records.create("channel",{...d,user:i.model.id});if(A){console.log(A),e(1,d.id=A.id,d);const Q=[];Q.push(d.id),e(6,g=!0),e(4,u="updating...");const Z=await fetch("https://ibhub.fly.dev/api/getnewupsates",{...S,body:JSON.stringify({ids:Q})});console.log(Z);const se=await ee.records.getFullList("news");He.update(N=>se.length),e(6,g=!0),e(4,u="New target created!"),e(2,l=!0),Ee(`/new?id=${A.id}`)}}catch(A){return console.warn(A),e(4,u=`error updating, ${A}`),e(2,l=!0),!1}}async function _(){e(6,g=!0),e(4,u="deleting..."),e(2,l=!1);const A=await ee.records.delete("channel",d.id);console.log(A),C(),e(4,u=`${d.id} deleted`),e(2,l=!0),e(7,m=!1),setTimeout(()=>{Ee("/")},1e3)}async function w(A){if(console.log(A),r){e(6,g=!0),e(4,u="checking url...");let Q=null;const Z=await ee.records.getList("channel",1,1,{filter:`host = "${new URL(A).hostname}"`,sort:"-created"});if(Z&&Z.items.length>0){const N=Z.items[0];e(1,d.observeName=(N==null?void 0:N.observeName)===""?d.observeName:N==null?void 0:N.observeName,d),e(1,d.newestOnTop=N==null?void 0:N.newestOnTop,d),Q=N==null?void 0:N.thumb}e(4,u="trying metadata...");const se=await fetch("https://ibhub.fly.dev/api/trymeta",{...S,body:JSON.stringify({link:d.link})});if(se.ok){const N=await se.json();console.log(N),e(1,d.name=N.name===""?d.name:N.name,d),e(1,d.thumb=N.thumb===""?Q||d.thumb:N.thumb,d),e(4,u=N.name!=""||N.thumb!=""?"fetched metadata from url":"metadata not available")}else e(4,u="page is not available right now")}}wt(async()=>{for(const A in d)b.get(A)&&(typeof d[A]=="string"?e(1,d[A]=b.get(A),d):typeof d[A]=="boolean"?e(1,d[A]=b.get(A)==="true",d):typeof d[A]=="object"&&e(1,d[A]=b.get(A).split(","),d));if(b.get("id"))try{e(6,g=!0),e(4,u="fetching data...");const A=await ee.records.getOne("channel",b.get("id"));if(console.log(b.get("id")),A){console.log(A);for(const Q in d)e(1,d[Q]=A[Q],d);e(6,g=!1),e(0,c=d.contains.toString()),e(5,f=await ee.records.getFullList("news")),console.log(A)}else e(4,u="Url id not found"),C(),Ee("/new")}catch(A){console.warn(A),Ee("/error")}e(2,l=!0)});function j(){d.link=this.value,e(1,d),e(0,c)}const R=()=>w(d.link),T=()=>w(d.link);function M(){d.observeName=this.value,e(1,d),e(0,c)}function q(){d.name=this.value,e(1,d),e(0,c)}function ie(){c=this.value,e(0,c)}function ne(){d.thumb=this.value,e(1,d),e(0,c)}function de(){d.meta=this.value,e(1,d),e(0,c)}function J(){d.newestOnTop=this.checked,e(1,d),e(0,c)}function he(){d.dead=this.checked,e(1,d),e(0,c)}const G=()=>e(7,m=!1),V=()=>e(7,m=!0),X=A=>A.channelid===d.id;return s.$$.update=()=>{s.$$.dirty[0]&3&&(e(1,d.contains=c===""?[]:c.split(","),d),e(3,r=I(d.link)))},[c,d,l,r,u,f,g,m,C,k,v,_,w,j,R,T,M,q,ie,ne,de,J,he,G,V,X]}class Go extends je{constructor(t){super(),Pe(this,t,Bo,Jo,Le,{},null,[-1,-1])}}function Vo(s){let t;return{c(){t=h("h1"),t.textContent="Error, check if the server still up or if your internet connection is fine"},m(e,n){L(e,t,n)},p:z,i:z,o:z,d(e){e&&O(t)}}}class Wo extends je{constructor(t){super(),Pe(this,t,null,Vo,Le,{})}}function Ko(s){let t,e,n,o,i,l,r,c,u,f,g,m,b,d,S,y,I,C=s[2]&&es(s);return{c(){t=h("h1"),t.textContent="Ibhub login",e=P(),n=h("div"),o=U("email: "),i=h("input"),l=P(),r=h("div"),c=U("password: "),u=h("input"),f=P(),g=h("button"),g.textContent="Register",m=P(),b=h("button"),b.textContent="login",d=P(),C&&C.c(),S=Xe(),a(i,"type","text"),a(i,"name",""),a(n,"class","input svelte-php5by"),a(u,"type","password"),a(u,"name",""),a(r,"class","input svelte-php5by"),a(g,"class","svelte-php5by"),a(b,"class","svelte-php5by")},m(k,v){L(k,t,v),L(k,e,v),L(k,n,v),p(n,o),p(n,i),ue(i,s[4].email),L(k,l,v),L(k,r,v),p(r,c),p(r,u),ue(u,s[4].password),L(k,f,v),L(k,g,v),L(k,m,v),L(k,b,v),L(k,d,v),C&&C.m(k,v),L(k,S,v),y||(I=[K(i,"input",s[8]),K(u,"input",s[9]),K(g,"click",s[6]),K(b,"click",s[7])],y=!0)},p(k,v){v&16&&i.value!==k[4].email&&ue(i,k[4].email),v&16&&u.value!==k[4].password&&ue(u,k[4].password),k[2]?C?C.p(k,v):(C=es(k),C.c(),C.m(S.parentNode,S)):C&&(C.d(1),C=null)},d(k){k&&O(t),k&&O(e),k&&O(n),k&&O(l),k&&O(r),k&&O(f),k&&O(g),k&&O(m),k&&O(b),k&&O(d),C&&C.d(k),k&&O(S),y=!1,ve(I)}}}function Yo(s){let t,e,n=s[0][s[0].model?"model":"user"].email+"",o,i,l,r,c;return{c(){t=h("div"),e=U("Welcome "),o=U(n),i=P(),l=h("button"),l.textContent="logout",a(t,"class","success svelte-php5by"),a(l,"class","svelte-php5by")},m(u,f){L(u,t,f),p(t,e),p(t,o),L(u,i,f),L(u,l,f),r||(c=K(l,"click",s[5]),r=!0)},p(u,f){f&1&&n!==(n=u[0][u[0].model?"model":"user"].email+"")&&te(o,n)},d(u){u&&O(t),u&&O(i),u&&O(l),r=!1,c()}}}function es(s){let t,e,n;return{c(){t=h("div"),e=U(s[3]),a(t,"class",n=on(s[1])+" svelte-php5by")},m(o,i){L(o,t,i),p(t,e)},p(o,i){i&8&&te(e,o[3]),i&2&&n!==(n=on(o[1])+" svelte-php5by")&&a(t,"class",n)},d(o){o&&O(t)}}}function Ho(s){let t,e;function n(l,r){return l[0]?Yo:Ko}let o=n(s),i=o(s);return{c(){t=h("main"),e=h("article"),i.c(),a(e,"class","svelte-php5by")},m(l,r){L(l,t,r),p(t,e),i.m(e,null)},p(l,[r]){o===(o=n(l))&&i?i.p(l,r):(i.d(1),i=o(l),i&&(i.c(),i.m(e,null)))},i:z,o:z,d(l){l&&O(t),i.d()}}}function Xo(s,t,e){const n=window.localStorage.getItem("pocketbase_auth");let o=n?JSON.parse(n):!1,i="success",l=!1,r="";o&&(ee.authStore.save(o.token,o.model),console.log(o));async function c(){ee.authStore.clear(),e(0,o=!1)}let u={email:"",password:""};async function f(){try{const S=await ee.users.create({email:u.email,password:u.password,passwordConfirm:u.password});console.log(S),S&&g()}catch{e(1,i="error"),e(2,l=!0),e(3,r="email already used")}}async function g(){const S=await ee.users.requestVerification(u.email);S&&(console.log(S),e(1,i="success"),e(2,l=!0),e(3,r="Account created successfully, please verify your email"))}async function m(){const S=await ee.users.authViaEmail(u.email,u.password);S&&(console.log(S),e(0,o=S))}function b(){u.email=this.value,e(4,u)}function d(){u.password=this.value,e(4,u)}return[o,i,l,r,u,c,f,m,b,d]}class Qo extends je{constructor(t){super(),Pe(this,t,Xo,Ho,Le,{})}}function Zo(s){let t,e,n,o,i,l,r,c,u,f,g,m,b,d,S,y,I,C,k;return document.title=t=s[0]+" ibhub",S=new ho({}),C=new Us({props:{routes:{"/dashboard":ro,"/feed":yo,"/new":Go,"/error":Wo,"/":Qo}}}),{c(){e=P(),n=h("main"),o=h("nav"),i=h("a"),i.textContent="Home",l=P(),r=h("a"),r.textContent="Dashboard",c=P(),u=h("a"),f=U(`Feed 
			`),g=h("strong"),m=U(s[0]),b=P(),d=h("div"),me(S.$$.fragment),y=P(),I=h("div"),me(C.$$.fragment),a(i,"href","/#/"),a(i,"class","svelte-fwyfr5"),Y(i,"active",s[1]==="/"),a(r,"href","/#/dashboard"),a(r,"class","svelte-fwyfr5"),Y(r,"active",s[1]==="/dashboard"),a(u,"href","/#/feed"),a(u,"class","svelte-fwyfr5"),Y(u,"active",s[1]==="/feed"),a(d,"class","settings svelte-fwyfr5"),a(o,"class","svelte-fwyfr5"),a(I,"class","app svelte-fwyfr5")},m(v,_){L(v,e,_),L(v,n,_),p(n,o),p(o,i),p(o,l),p(o,r),p(o,c),p(o,u),p(u,f),p(u,g),p(g,m),p(o,b),p(o,d),fe(S,d,null),p(n,y),p(n,I),fe(C,I,null),k=!0},p(v,[_]){(!k||_&1)&&t!==(t=v[0]+" ibhub")&&(document.title=t),_&2&&Y(i,"active",v[1]==="/"),_&2&&Y(r,"active",v[1]==="/dashboard"),(!k||_&1)&&te(m,v[0]),_&2&&Y(u,"active",v[1]==="/feed")},i(v){k||(D(S.$$.fragment,v),D(C.$$.fragment,v),k=!0)},o(v){H(S.$$.fragment,v),H(C.$$.fragment,v),k=!1},d(v){v&&O(e),v&&O(n),pe(S),pe(C)}}}function $o(s,t,e){let n,o;Ce(s,He,l=>e(2,n=l)),Ce(s,Rs,l=>e(1,o=l)),(async()=>{const l=await ee.records.getFullList("news");He.update(r=>l.length)})();let i="";return s.$$.update=()=>{s.$$.dirty&4&&(n>0?e(0,i=`(${n})`):e(0,i=""))},[i,o,n]}class xo extends je{constructor(t){super(),Pe(this,t,$o,Zo,Le,{})}}console.log("https://ibhub.fly.dev");console.log("https://ibhub-pocketbase.fly.dev/");new xo({target:document.getElementById("app")});
