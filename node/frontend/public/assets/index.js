(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=e(o);fetch(o.href,l)}})();function z(){}function Ft(s,t){for(const e in t)s[e]=t[e];return s}function os(s){return s()}function tn(){return Object.create(null)}function me(s){s.forEach(os)}function yt(s){return typeof s=="function"}function qe(s,t){return s!=s?t==t:s!==t||s&&typeof s=="object"||typeof s=="function"}let ft;function Ke(s,t){return ft||(ft=document.createElement("a")),ft.href=t,s===ft.href}function ws(s){return Object.keys(s).length===0}function zt(s,...t){if(s==null)return z;const e=s.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function ks(s){let t;return zt(s,e=>t=e)(),t}function Ce(s,t,e){s.$$.on_destroy.push(zt(t,e))}function nn(s,t,e,n){if(s){const o=ls(s,t,e,n);return s[0](o)}}function ls(s,t,e,n){return s[1]&&n?Ft(e.ctx.slice(),s[1](n(t))):e.ctx}function sn(s,t,e,n){if(s[2]&&n){const o=s[2](n(e));if(t.dirty===void 0)return o;if(typeof o=="object"){const l=[],i=Math.max(t.dirty.length,o.length);for(let r=0;r<i;r+=1)l[r]=t.dirty[r]|o[r];return l}return t.dirty|o}return t.dirty}function on(s,t,e,n,o,l){if(o){const i=ls(t,e,n,l);s.p(i,o)}}function ln(s){if(s.ctx.length>32){const t=[],e=s.ctx.length/32;for(let n=0;n<e;n++)t[n]=-1;return t}return-1}function rn(s){return s==null?"":s}function is(s,t,e){return s.set(e),t}function an(s){return s&&yt(s.destroy)?s.destroy:z}function f(s,t){s.appendChild(t)}function L(s,t,e){s.insertBefore(t,e||null)}function S(s){s.parentNode.removeChild(s)}function Re(s,t){for(let e=0;e<s.length;e+=1)s[e]&&s[e].d(t)}function h(s){return document.createElement(s)}function Ue(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function U(s){return document.createTextNode(s)}function O(){return U(" ")}function Qe(){return U("")}function Y(s,t,e,n){return s.addEventListener(t,e,n),()=>s.removeEventListener(t,e,n)}function a(s,t,e){e==null?s.removeAttribute(t):s.getAttribute(t)!==e&&s.setAttribute(t,e)}function Cs(s){return Array.from(s.childNodes)}function ne(s,t){t=""+t,s.wholeText!==t&&(s.data=t)}function fe(s,t){s.value=t==null?"":t}function un(s,t){for(let e=0;e<s.options.length;e+=1){const n=s.options[e];if(n.__value===t){n.selected=!0;return}}s.selectedIndex=-1}function Ss(s){const t=s.querySelector(":checked")||s.options[0];return t&&t.__value}function H(s,t,e){s.classList[e?"add":"remove"](t)}function Os(s,t,{bubbles:e=!1,cancelable:n=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(s,e,n,t),o}let nt;function et(s){nt=s}function wt(){if(!nt)throw new Error("Function called outside component initialization");return nt}function kt(s){wt().$$.on_mount.push(s)}function Ls(s){wt().$$.after_update.push(s)}function qs(s){wt().$$.on_destroy.push(s)}function js(){const s=wt();return(t,e,{cancelable:n=!1}={})=>{const o=s.$$.callbacks[t];if(o){const l=Os(t,e,{cancelable:n});return o.slice().forEach(i=>{i.call(s,l)}),!l.defaultPrevented}return!0}}function cn(s,t){const e=s.$$.callbacks[t.type];e&&e.slice().forEach(n=>n.call(this,t))}const xe=[],fn=[],ht=[],dn=[],rs=Promise.resolve();let It=!1;function as(){It||(It=!0,rs.then(cs))}function us(){return as(),rs}function vt(s){ht.push(s)}const Nt=new Set;let dt=0;function cs(){const s=nt;do{for(;dt<xe.length;){const t=xe[dt];dt++,et(t),Ps(t.$$)}for(et(null),xe.length=0,dt=0;fn.length;)fn.pop()();for(let t=0;t<ht.length;t+=1){const e=ht[t];Nt.has(e)||(Nt.add(e),e())}ht.length=0}while(xe.length);for(;dn.length;)dn.pop()();It=!1,Nt.clear(),et(s)}function Ps(s){if(s.fragment!==null){s.update(),me(s.before_update);const t=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,t),s.after_update.forEach(vt)}}const mt=new Set;let Ge;function De(){Ge={r:0,c:[],p:Ge}}function Me(){Ge.r||me(Ge.c),Ge=Ge.p}function B(s,t){s&&s.i&&(mt.delete(s),s.i(t))}function X(s,t,e,n){if(s&&s.o){if(mt.has(s))return;mt.add(s),Ge.c.push(()=>{mt.delete(s),n&&(e&&s.d(1),n())}),s.o(t)}else n&&n()}function fs(s,t){const e={},n={},o={$$scope:1};let l=s.length;for(;l--;){const i=s[l],r=t[l];if(r){for(const u in i)u in r||(n[u]=1);for(const u in r)o[u]||(e[u]=r[u],o[u]=1);s[l]=r}else for(const u in i)o[u]=1}for(const i in n)i in e||(e[i]=void 0);return e}function ds(s){return typeof s=="object"&&s!==null?s:{}}function he(s){s&&s.c()}function de(s,t,e,n){const{fragment:o,on_mount:l,on_destroy:i,after_update:r}=s.$$;o&&o.m(t,e),n||vt(()=>{const u=l.map(os).filter(yt);i?i.push(...u):me(u),s.$$.on_mount=[]}),r.forEach(vt)}function pe(s,t){const e=s.$$;e.fragment!==null&&(me(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function As(s,t){s.$$.dirty[0]===-1&&(xe.push(s),as(),s.$$.dirty.fill(0)),s.$$.dirty[t/31|0]|=1<<t%31}function je(s,t,e,n,o,l,i,r=[-1]){const u=nt;et(s);const c=s.$$={fragment:null,ctx:null,props:l,update:z,not_equal:o,bound:tn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:tn(),dirty:r,skip_bound:!1,root:t.target||u.$$.root};i&&i(c.root);let d=!1;if(c.ctx=e?e(s,t.props||{},(g,m,..._)=>{const p=_.length?_[0]:m;return c.ctx&&o(c.ctx[g],c.ctx[g]=p)&&(!c.skip_bound&&c.bound[g]&&c.bound[g](p),d&&As(s,g)),m}):[],c.update(),d=!0,me(c.before_update),c.fragment=n?n(c.ctx):!1,t.target){if(t.hydrate){const g=Cs(t.target);c.fragment&&c.fragment.l(g),g.forEach(S)}else c.fragment&&c.fragment.c();t.intro&&B(s.$$.fragment),de(s,t.target,t.anchor,t.customElement),cs()}et(u)}class Pe{$destroy(){pe(this,1),this.$destroy=z}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const o=n.indexOf(e);o!==-1&&n.splice(o,1)}}$set(t){this.$$set&&!ws(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const He=[];function ps(s,t){return{subscribe:Fe(s,t).subscribe}}function Fe(s,t=z){let e;const n=new Set;function o(r){if(qe(s,r)&&(s=r,e)){const u=!He.length;for(const c of n)c[1](),He.push(c,s);if(u){for(let c=0;c<He.length;c+=2)He[c][0](He[c+1]);He.length=0}}}function l(r){o(r(s))}function i(r,u=z){const c=[r,u];return n.add(c),n.size===1&&(e=t(o)||z),r(s),()=>{n.delete(c),n.size===0&&(e(),e=null)}}return{set:o,update:l,subscribe:i}}function hs(s,t,e){const n=!Array.isArray(s),o=n?[s]:s,l=t.length<2;return ps(e,i=>{let r=!1;const u=[];let c=0,d=z;const g=()=>{if(c)return;d();const _=t(n?u[0]:u,i);l?i(_):d=yt(_)?_:z},m=o.map((_,p)=>zt(_,q=>{u[p]=q,c&=~(1<<p),r&&g()},()=>{c|=1<<p}));return r=!0,g(),function(){me(m),d()}})}function Ts(s,t){if(s instanceof RegExp)return{keys:!1,pattern:s};var e,n,o,l,i=[],r="",u=s.split("/");for(u[0]||u.shift();o=u.shift();)e=o[0],e==="*"?(i.push("wild"),r+="/(.*)"):e===":"?(n=o.indexOf("?",1),l=o.indexOf(".",1),i.push(o.substring(1,~n?n:~l?l:o.length)),r+=!!~n&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(r+=(~n?"?":"")+"\\"+o.substring(l))):r+="/"+o;return{keys:i,pattern:new RegExp("^"+r+(t?"(?=$|/)":"/?$"),"i")}}function Es(s){let t,e,n;const o=[s[2]];var l=s[0];function i(r){let u={};for(let c=0;c<o.length;c+=1)u=Ft(u,o[c]);return{props:u}}return l&&(t=new l(i()),t.$on("routeEvent",s[7])),{c(){t&&he(t.$$.fragment),e=Qe()},m(r,u){t&&de(t,r,u),L(r,e,u),n=!0},p(r,u){const c=u&4?fs(o,[ds(r[2])]):{};if(l!==(l=r[0])){if(t){De();const d=t;X(d.$$.fragment,1,0,()=>{pe(d,1)}),Me()}l?(t=new l(i()),t.$on("routeEvent",r[7]),he(t.$$.fragment),B(t.$$.fragment,1),de(t,e.parentNode,e)):t=null}else l&&t.$set(c)},i(r){n||(t&&B(t.$$.fragment,r),n=!0)},o(r){t&&X(t.$$.fragment,r),n=!1},d(r){r&&S(e),t&&pe(t,r)}}}function Rs(s){let t,e,n;const o=[{params:s[1]},s[2]];var l=s[0];function i(r){let u={};for(let c=0;c<o.length;c+=1)u=Ft(u,o[c]);return{props:u}}return l&&(t=new l(i()),t.$on("routeEvent",s[6])),{c(){t&&he(t.$$.fragment),e=Qe()},m(r,u){t&&de(t,r,u),L(r,e,u),n=!0},p(r,u){const c=u&6?fs(o,[u&2&&{params:r[1]},u&4&&ds(r[2])]):{};if(l!==(l=r[0])){if(t){De();const d=t;X(d.$$.fragment,1,0,()=>{pe(d,1)}),Me()}l?(t=new l(i()),t.$on("routeEvent",r[6]),he(t.$$.fragment),B(t.$$.fragment,1),de(t,e.parentNode,e)):t=null}else l&&t.$set(c)},i(r){n||(t&&B(t.$$.fragment,r),n=!0)},o(r){t&&X(t.$$.fragment,r),n=!1},d(r){r&&S(e),t&&pe(t,r)}}}function Ns(s){let t,e,n,o;const l=[Rs,Es],i=[];function r(u,c){return u[1]?0:1}return t=r(s),e=i[t]=l[t](s),{c(){e.c(),n=Qe()},m(u,c){i[t].m(u,c),L(u,n,c),o=!0},p(u,[c]){let d=t;t=r(u),t===d?i[t].p(u,c):(De(),X(i[d],1,1,()=>{i[d]=null}),Me(),e=i[t],e?e.p(u,c):(e=i[t]=l[t](u),e.c()),B(e,1),e.m(n.parentNode,n))},i(u){o||(B(e),o=!0)},o(u){X(e),o=!1},d(u){i[t].d(u),u&&S(n)}}}function pn(){const s=window.location.href.indexOf("#/");let t=s>-1?window.location.href.substr(s+1):"/";const e=t.indexOf("?");let n="";return e>-1&&(n=t.substr(e+1),t=t.substr(0,e)),{location:t,querystring:n}}const Jt=ps(null,function(t){t(pn());const e=()=>{t(pn())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}),Is=hs(Jt,s=>s.location),Us=hs(Jt,s=>s.querystring),hn=Fe(void 0);async function Ee(s){if(!s||s.length<1||s.charAt(0)!="/"&&s.indexOf("#/")!==0)throw Error("Invalid parameter location");await us(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(s.charAt(0)=="#"?"":"#")+s}function Ds(s){s?window.scrollTo(s.__svelte_spa_router_scrollX,s.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Ms(s,t,e){let{routes:n={}}=t,{prefix:o=""}=t,{restoreScrollState:l=!1}=t;class i{constructor(y,b){if(!b||typeof b!="function"&&(typeof b!="object"||b._sveltesparouter!==!0))throw Error("Invalid component object");if(!y||typeof y=="string"&&(y.length<1||y.charAt(0)!="/"&&y.charAt(0)!="*")||typeof y=="object"&&!(y instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:A,keys:T}=Ts(y);this.path=y,typeof b=="object"&&b._sveltesparouter===!0?(this.component=b.component,this.conditions=b.conditions||[],this.userData=b.userData,this.props=b.props||{}):(this.component=()=>Promise.resolve(b),this.conditions=[],this.props={}),this._pattern=A,this._keys=T}match(y){if(o){if(typeof o=="string")if(y.startsWith(o))y=y.substr(o.length)||"/";else return null;else if(o instanceof RegExp){const E=y.match(o);if(E&&E[0])y=y.substr(E[0].length)||"/";else return null}}const b=this._pattern.exec(y);if(b===null)return null;if(this._keys===!1)return b;const A={};let T=0;for(;T<this._keys.length;){try{A[this._keys[T]]=decodeURIComponent(b[T+1]||"")||null}catch{A[this._keys[T]]=null}T++}return A}async checkConditions(y){for(let b=0;b<this.conditions.length;b++)if(!await this.conditions[b](y))return!1;return!0}}const r=[];n instanceof Map?n.forEach((v,y)=>{r.push(new i(y,v))}):Object.keys(n).forEach(v=>{r.push(new i(v,n[v]))});let u=null,c=null,d={};const g=js();async function m(v,y){await us(),g(v,y)}let _=null,p=null;l&&(p=v=>{v.state&&(v.state.__svelte_spa_router_scrollY||v.state.__svelte_spa_router_scrollX)?_=v.state:_=null},window.addEventListener("popstate",p),Ls(()=>{Ds(_)}));let q=null,w=null;const R=Jt.subscribe(async v=>{q=v;let y=0;for(;y<r.length;){const b=r[y].match(v.location);if(!b){y++;continue}const A={route:r[y].path,location:v.location,querystring:v.querystring,userData:r[y].userData,params:b&&typeof b=="object"&&Object.keys(b).length?b:null};if(!await r[y].checkConditions(A)){e(0,u=null),w=null,m("conditionsFailed",A);return}m("routeLoading",Object.assign({},A));const T=r[y].component;if(w!=T){T.loading?(e(0,u=T.loading),w=T,e(1,c=T.loadingParams),e(2,d={}),m("routeLoaded",Object.assign({},A,{component:u,name:u.name,params:c}))):(e(0,u=null),w=null);const E=await T();if(v!=q)return;e(0,u=E&&E.default||E),w=T}b&&typeof b=="object"&&Object.keys(b).length?e(1,c=b):e(1,c=null),e(2,d=r[y].props),m("routeLoaded",Object.assign({},A,{component:u,name:u.name,params:c})).then(()=>{hn.set(c)});return}e(0,u=null),w=null,hn.set(void 0)});qs(()=>{R(),p&&window.removeEventListener("popstate",p)});function C(v){cn.call(this,s,v)}function k(v){cn.call(this,s,v)}return s.$$set=v=>{"routes"in v&&e(3,n=v.routes),"prefix"in v&&e(4,o=v.prefix),"restoreScrollState"in v&&e(5,l=v.restoreScrollState)},s.$$.update=()=>{s.$$.dirty&32&&(history.scrollRestoration=l?"manual":"auto")},[u,c,d,n,o,l,C,k]}class Fs extends Pe{constructor(t){super(),je(this,t,Ms,Ns,qe,{routes:3,prefix:4,restoreScrollState:5})}}var Ut=function(s,t){return Ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},Ut(s,t)};function re(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=s}Ut(s,t),s.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Dt=function(){return Dt=Object.assign||function(s){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(s[o]=t[o]);return s},Dt.apply(this,arguments)};function Ve(s,t,e,n){return new(e||(e=Promise))(function(o,l){function i(c){try{u(n.next(c))}catch(d){l(d)}}function r(c){try{u(n.throw(c))}catch(d){l(d)}}function u(c){var d;c.done?o(c.value):(d=c.value,d instanceof e?d:new e(function(g){g(d)})).then(i,r)}u((n=n.apply(s,t||[])).next())})}function We(s,t){var e,n,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function r(u){return function(c){return function(d){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,n&&(o=2&d[0]?n.return:d[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,d[1])).done)return o;switch(n=0,o&&(d=[2&d[0],o.value]),d[0]){case 0:case 1:o=d;break;case 4:return i.label++,{value:d[1],done:!1};case 5:i.label++,n=d[1],d=[0];continue;case 7:d=i.ops.pop(),i.trys.pop();continue;default:if(o=i.trys,!((o=o.length>0&&o[o.length-1])||d[0]!==6&&d[0]!==2)){i=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){i.label=d[1];break}if(d[0]===6&&i.label<o[1]){i.label=o[1],o=d;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(d);break}o[2]&&i.ops.pop(),i.trys.pop();continue}d=t.call(s,i)}catch(g){d=[6,g],n=0}finally{e=o=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([u,c])}}}var ms,mn=function(s){function t(e){var n,o=this;return(o=s.call(this,"ClientResponseError")||this).url="",o.status=0,o.data={},o.isAbort=!1,o.originalError=null,Object.setPrototypeOf(o,t.prototype),e instanceof t||(o.originalError=e),e!==null&&typeof e=="object"&&(o.url=typeof e.url=="string"?e.url:"",o.status=typeof e.status=="number"?e.status:0,o.data=e.data!==null&&typeof e.data=="object"?e.data:{}),typeof DOMException<"u"&&e instanceof DOMException&&(o.isAbort=!0),o.name="ClientResponseError "+o.status,o.message=((n=o.data)===null||n===void 0?void 0:n.message)||"Something went wrong while processing your request.",o}return re(t,s),t.prototype.toJSON=function(){return Dt({},this)},t}(Error),pt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function vn(s,t,e){var n=Object.assign({},e||{}),o=n.encode||Js;if(!pt.test(s))throw new TypeError("argument name is invalid");var l=o(t);if(l&&!pt.test(l))throw new TypeError("argument val is invalid");var i=s+"="+l;if(n.maxAge!=null){var r=n.maxAge-0;if(isNaN(r)||!isFinite(r))throw new TypeError("option maxAge is invalid");i+="; Max-Age="+Math.floor(r)}if(n.domain){if(!pt.test(n.domain))throw new TypeError("option domain is invalid");i+="; Domain="+n.domain}if(n.path){if(!pt.test(n.path))throw new TypeError("option path is invalid");i+="; Path="+n.path}if(n.expires){if(!function(u){return Object.prototype.toString.call(u)==="[object Date]"||u instanceof Date}(n.expires)||isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");i+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i}function zs(s){return s.indexOf("%")!==-1?decodeURIComponent(s):s}function Js(s){return encodeURIComponent(s)}function gn(s){if(s)try{var t=decodeURIComponent(ms(s.split(".")[1]).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)||{}}catch{}return{}}ms=typeof atob=="function"?atob:function(s){return Buffer=global.Buffer||require("buffer").Buffer,Buffer.from(s,"base64").toString("binary")};var Ze=function(){function s(t){t===void 0&&(t={}),this.load(t||{})}return s.prototype.load=function(t){this.id=t.id!==void 0?t.id:"",this.created=t.created!==void 0?t.created:"",this.updated=t.updated!==void 0?t.updated:""},Object.defineProperty(s.prototype,"isNew",{get:function(){return!this.id||this.id==="00000000-0000-0000-0000-000000000000"},enumerable:!1,configurable:!0}),s.prototype.clone=function(){return new this.constructor(JSON.parse(JSON.stringify(this)))},s.prototype.export=function(){return Object.assign({},this)},s}(),vs=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.load=function(e){s.prototype.load.call(this,e);for(var n=0,o=Object.entries(e);n<o.length;n++){var l=o[n],i=l[0],r=l[1];this[i]=r}this["@collectionId"]=e["@collectionId"]!==void 0?e["@collectionId"]:"",this["@collectionName"]=e["@collectionName"]!==void 0?e["@collectionName"]:"",this["@expand"]=e["@expand"]!==void 0?e["@expand"]:{}},t}(Ze),gt=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.load=function(e){s.prototype.load.call(this,e),this.email=typeof e.email=="string"?e.email:"",this.verified=!!e.verified,this.lastResetSentAt=typeof e.lastResetSentAt=="string"?e.lastResetSentAt:"",this.lastVerificationSentAt=typeof e.lastVerificationSentAt=="string"?e.lastVerificationSentAt:"",this.profile=e.profile?new vs(e.profile):null},t}(Ze),Bt=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.load=function(e){s.prototype.load.call(this,e),this.avatar=typeof e.avatar=="number"?e.avatar:0,this.email=typeof e.email=="string"?e.email:"",this.lastResetSentAt=typeof e.lastResetSentAt=="string"?e.lastResetSentAt:""},t}(Ze),Bs=function(){function s(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(s.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isValid",{get:function(){return!function(t,e){e===void 0&&(e=0);var n=gn(t);return!(Object.keys(n).length>0&&(!n.exp||n.exp-e>Date.now()/1e3))}(this.token)},enumerable:!1,configurable:!0}),s.prototype.save=function(t,e){this.baseToken=t||"",this.baseModel=e!==null&&typeof e=="object"?(e==null?void 0:e.verified)!=="undefined"?new gt(e):new Bt(e):null,this.triggerChange()},s.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},s.prototype.loadFromCookie=function(t,e){e===void 0&&(e="pb_auth");var n=function(l,i){var r={};if(typeof l!="string")return r;for(var u=Object.assign({},i||{}).decode||zs,c=0;c<l.length;){var d=l.indexOf("=",c);if(d===-1)break;var g=l.indexOf(";",c);if(g===-1)g=l.length;else if(g<d){c=l.lastIndexOf(";",d-1)+1;continue}var m=l.slice(c,d).trim();if(r[m]===void 0){var _=l.slice(d+1,g).trim();_.charCodeAt(0)===34&&(_=_.slice(1,-1));try{r[m]=u(_)}catch{r[m]=_}}c=g+1}return r}(t||"")[e]||"",o={};try{(typeof(o=JSON.parse(n))===null||typeof o!="object"||Array.isArray(o))&&(o={})}catch{}this.save(o.token||"",o.model||{})},s.prototype.exportToCookie=function(t,e){var n,o,l;e===void 0&&(e="pb_auth");var i={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},r=gn(this.token);r!=null&&r.exp?i.expires=new Date(1e3*r.exp):i.expires=new Date("1970-01-01"),t=Object.assign({},i,t);var u={token:this.token,model:((n=this.model)===null||n===void 0?void 0:n.export())||null},c=vn(e,JSON.stringify(u),t),d=typeof Blob<"u"?new Blob([c]).size:c.length;return u.model&&d>4096&&(u.model={id:(o=u==null?void 0:u.model)===null||o===void 0?void 0:o.id,email:(l=u==null?void 0:u.model)===null||l===void 0?void 0:l.email},this.model instanceof gt&&(u.model.verified=this.model.verified),c=vn(e,JSON.stringify(u),t)),c},s.prototype.onChange=function(t){var e=this;return this._onChangeCallbacks.push(t),function(){for(var n=e._onChangeCallbacks.length-1;n>=0;n--)if(e._onChangeCallbacks[n]==t)return delete e._onChangeCallbacks[n],void e._onChangeCallbacks.splice(n,1)}},s.prototype.triggerChange=function(){for(var t=0,e=this._onChangeCallbacks;t<e.length;t++){var n=e[t];n&&n(this.token,this.model)}},s}(),Gs=function(s){function t(e){e===void 0&&(e="pocketbase_auth");var n=s.call(this)||this;return n.storageFallback={},n.storageKey=e,n}return re(t,s),Object.defineProperty(t.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){var e,n=this._storageGet(this.storageKey)||{};return n===null||typeof n!="object"||n.model===null||typeof n.model!="object"?null:((e=n.model)===null||e===void 0?void 0:e.verified)!==void 0?new gt(n.model):new Bt(n.model)},enumerable:!1,configurable:!0}),t.prototype.save=function(e,n){this._storageSet(this.storageKey,{token:e,model:n}),s.prototype.save.call(this,e,n)},t.prototype.clear=function(){this._storageRemove(this.storageKey),s.prototype.clear.call(this)},t.prototype._storageGet=function(e){var n;if(typeof window<"u"&&(window==null?void 0:window.localStorage)){var o=((n=window==null?void 0:window.localStorage)===null||n===void 0?void 0:n.getItem(e))||"";try{return JSON.parse(o)}catch{return o}}return this.storageFallback[e]},t.prototype._storageSet=function(e,n){var o;if(typeof window<"u"&&(window==null?void 0:window.localStorage)){var l=n;typeof n!="string"&&(l=JSON.stringify(n)),(o=window==null?void 0:window.localStorage)===null||o===void 0||o.setItem(e,l)}else this.storageFallback[e]=n},t.prototype._storageRemove=function(e){var n;typeof window<"u"&&((n=window==null?void 0:window.localStorage)===null||n===void 0||n.removeItem(e)),delete this.storageFallback[e]},t}(Bs),Ct=function(s){this.client=s},Vs=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.getAll=function(e){return e===void 0&&(e={}),this.client.send("/api/settings",{method:"GET",params:e}).then(function(n){return n||{}})},t.prototype.update=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),this.client.send("/api/settings",{method:"PATCH",params:n,body:e}).then(function(o){return o||{}})},t.prototype.testS3=function(e){return e===void 0&&(e={}),this.client.send("/api/settings/test/s3",{method:"POST",params:e}).then(function(){return!0})},t.prototype.testEmail=function(e,n,o){o===void 0&&(o={});var l={email:e,template:n};return this.client.send("/api/settings/test/email",{method:"POST",params:o,body:l}).then(function(){return!0})},t}(Ct),gs=function(s,t,e,n,o){this.page=s>0?s:1,this.perPage=t>=0?t:0,this.totalItems=e>=0?e:0,this.totalPages=n>=0?n:0,this.items=o||[]},_s=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype._getFullList=function(e,n,o){var l=this;n===void 0&&(n=100),o===void 0&&(o={});var i=[],r=function(u){return Ve(l,void 0,void 0,function(){return We(this,function(c){return[2,this._getList(e,u,n,o).then(function(d){var g=d,m=g.items,_=g.totalItems;return i=i.concat(m),m.length&&_>i.length?r(u+1):i})]})})};return r(1)},t.prototype._getList=function(e,n,o,l){var i=this;return n===void 0&&(n=1),o===void 0&&(o=30),l===void 0&&(l={}),l=Object.assign({page:n,perPage:o},l),this.client.send(e,{method:"GET",params:l}).then(function(r){var u=[];if(r!=null&&r.items){r.items=r.items||[];for(var c=0,d=r.items;c<d.length;c++){var g=d[c];u.push(i.decode(g))}}return new gs((r==null?void 0:r.page)||1,(r==null?void 0:r.perPage)||0,(r==null?void 0:r.totalItems)||0,(r==null?void 0:r.totalPages)||0,u)})},t.prototype._getOne=function(e,n,o){var l=this;return o===void 0&&(o={}),this.client.send(e+"/"+encodeURIComponent(n),{method:"GET",params:o}).then(function(i){return l.decode(i)})},t.prototype._create=function(e,n,o){var l=this;return n===void 0&&(n={}),o===void 0&&(o={}),this.client.send(e,{method:"POST",params:o,body:n}).then(function(i){return l.decode(i)})},t.prototype._update=function(e,n,o,l){var i=this;return o===void 0&&(o={}),l===void 0&&(l={}),this.client.send(e+"/"+encodeURIComponent(n),{method:"PATCH",params:l,body:o}).then(function(r){return i.decode(r)})},t.prototype._delete=function(e,n,o){return o===void 0&&(o={}),this.client.send(e+"/"+encodeURIComponent(n),{method:"DELETE",params:o}).then(function(){return!0})},t}(Ct),Gt=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.getFullList=function(e,n){return e===void 0&&(e=100),n===void 0&&(n={}),this._getFullList(this.baseCrudPath(),e,n)},t.prototype.getList=function(e,n,o){return e===void 0&&(e=1),n===void 0&&(n=30),o===void 0&&(o={}),this._getList(this.baseCrudPath(),e,n,o)},t.prototype.getOne=function(e,n){return n===void 0&&(n={}),this._getOne(this.baseCrudPath(),e,n)},t.prototype.create=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),this._create(this.baseCrudPath(),e,n)},t.prototype.update=function(e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),this._update(this.baseCrudPath(),e,n,o)},t.prototype.delete=function(e,n){return n===void 0&&(n={}),this._delete(this.baseCrudPath(),e,n)},t}(_s),Ws=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.decode=function(e){return new Bt(e)},t.prototype.baseCrudPath=function(){return"/api/admins"},t.prototype.authResponse=function(e){var n=this.decode((e==null?void 0:e.admin)||{});return(e==null?void 0:e.token)&&(e==null?void 0:e.admin)&&this.client.authStore.save(e.token,n),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:n})},t.prototype.authViaEmail=function(e,n,o,l){return o===void 0&&(o={}),l===void 0&&(l={}),o=Object.assign({email:e,password:n},o),this.client.send(this.baseCrudPath()+"/auth-via-email",{method:"POST",params:l,body:o,headers:{Authorization:""}}).then(this.authResponse.bind(this))},t.prototype.refresh=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),this.client.send(this.baseCrudPath()+"/refresh",{method:"POST",params:n,body:e}).then(this.authResponse.bind(this))},t.prototype.requestPasswordReset=function(e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),n=Object.assign({email:e},n),this.client.send(this.baseCrudPath()+"/request-password-reset",{method:"POST",params:o,body:n}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,n,o,l,i){return l===void 0&&(l={}),i===void 0&&(i={}),l=Object.assign({token:e,password:n,passwordConfirm:o},l),this.client.send(this.baseCrudPath()+"/confirm-password-reset",{method:"POST",params:i,body:l}).then(this.authResponse.bind(this))},t}(Gt),Ks=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.load=function(e){s.prototype.load.call(this,e),this.userId=typeof e.userId=="string"?e.userId:"",this.provider=typeof e.provider=="string"?e.provider:"",this.providerId=typeof e.providerId=="string"?e.providerId:""},t}(Ze),Ys=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.decode=function(e){return new gt(e)},t.prototype.baseCrudPath=function(){return"/api/users"},t.prototype.authResponse=function(e){var n=this.decode((e==null?void 0:e.user)||{});return(e==null?void 0:e.token)&&(e==null?void 0:e.user)&&this.client.authStore.save(e.token,n),Object.assign({},e,{token:(e==null?void 0:e.token)||"",user:n})},t.prototype.listAuthMethods=function(e){return e===void 0&&(e={}),this.client.send(this.baseCrudPath()+"/auth-methods",{method:"GET",params:e}).then(function(n){return Object.assign({},n,{emailPassword:!!(n!=null&&n.emailPassword),authProviders:Array.isArray(n==null?void 0:n.authProviders)?n==null?void 0:n.authProviders:[]})})},t.prototype.authViaEmail=function(e,n,o,l){return o===void 0&&(o={}),l===void 0&&(l={}),o=Object.assign({email:e,password:n},o),this.client.send(this.baseCrudPath()+"/auth-via-email",{method:"POST",params:l,body:o,headers:{Authorization:""}}).then(this.authResponse.bind(this))},t.prototype.authViaOAuth2=function(e,n,o,l,i,r){return i===void 0&&(i={}),r===void 0&&(r={}),i=Object.assign({provider:e,code:n,codeVerifier:o,redirectUrl:l},i),this.client.send(this.baseCrudPath()+"/auth-via-oauth2",{method:"POST",params:r,body:i,headers:{Authorization:""}}).then(this.authResponse.bind(this))},t.prototype.refresh=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),this.client.send(this.baseCrudPath()+"/refresh",{method:"POST",params:n,body:e}).then(this.authResponse.bind(this))},t.prototype.requestPasswordReset=function(e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),n=Object.assign({email:e},n),this.client.send(this.baseCrudPath()+"/request-password-reset",{method:"POST",params:o,body:n}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,n,o,l,i){return l===void 0&&(l={}),i===void 0&&(i={}),l=Object.assign({token:e,password:n,passwordConfirm:o},l),this.client.send(this.baseCrudPath()+"/confirm-password-reset",{method:"POST",params:i,body:l}).then(this.authResponse.bind(this))},t.prototype.requestVerification=function(e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),n=Object.assign({email:e},n),this.client.send(this.baseCrudPath()+"/request-verification",{method:"POST",params:o,body:n}).then(function(){return!0})},t.prototype.confirmVerification=function(e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),n=Object.assign({token:e},n),this.client.send(this.baseCrudPath()+"/confirm-verification",{method:"POST",params:o,body:n}).then(this.authResponse.bind(this))},t.prototype.requestEmailChange=function(e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),n=Object.assign({newEmail:e},n),this.client.send(this.baseCrudPath()+"/request-email-change",{method:"POST",params:o,body:n}).then(function(){return!0})},t.prototype.confirmEmailChange=function(e,n,o,l){return o===void 0&&(o={}),l===void 0&&(l={}),o=Object.assign({token:e,password:n},o),this.client.send(this.baseCrudPath()+"/confirm-email-change",{method:"POST",params:l,body:o}).then(this.authResponse.bind(this))},t.prototype.listExternalAuths=function(e,n){return n===void 0&&(n={}),this.client.send(this.baseCrudPath()+"/"+encodeURIComponent(e)+"/external-auths",{method:"GET",params:n}).then(function(o){var l=[];if(Array.isArray(o))for(var i=0,r=o;i<r.length;i++){var u=r[i];l.push(new Ks(u))}return l})},t.prototype.unlinkExternalAuth=function(e,n,o){return o===void 0&&(o={}),this.client.send(this.baseCrudPath()+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(n),{method:"DELETE",params:o}).then(function(){return!0})},t}(Gt),Hs=function(){function s(t){t===void 0&&(t={}),this.load(t||{})}return s.prototype.load=function(t){this.id=t.id!==void 0?t.id:"",this.name=t.name!==void 0?t.name:"",this.type=t.type!==void 0?t.type:"text",this.system=!!t.system,this.required=!!t.required,this.unique=!!t.unique,this.options=typeof t.options=="object"&&t.options!==null?t.options:{}},s}(),Xs=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.load=function(e){s.prototype.load.call(this,e),this.name=typeof e.name=="string"?e.name:"",this.system=!!e.system,this.listRule=typeof e.listRule=="string"?e.listRule:null,this.viewRule=typeof e.viewRule=="string"?e.viewRule:null,this.createRule=typeof e.createRule=="string"?e.createRule:null,this.updateRule=typeof e.updateRule=="string"?e.updateRule:null,this.deleteRule=typeof e.deleteRule=="string"?e.deleteRule:null,e.schema=Array.isArray(e.schema)?e.schema:[],this.schema=[];for(var n=0,o=e.schema;n<o.length;n++){var l=o[n];this.schema.push(new Hs(l))}},t}(Ze),Qs=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.decode=function(e){return new Xs(e)},t.prototype.baseCrudPath=function(){return"/api/collections"},t.prototype.import=function(e,n,o){return n===void 0&&(n=!1),o===void 0&&(o={}),Ve(this,void 0,void 0,function(){return We(this,function(l){return[2,this.client.send(this.baseCrudPath()+"/import",{method:"PUT",params:o,body:{collections:e,deleteMissing:n}}).then(function(){return!0})]})})},t}(Gt),Zs=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.decode=function(e){return new vs(e)},t.prototype.baseCrudPath=function(e){return"/api/collections/"+encodeURIComponent(e)+"/records"},t.prototype.getFileUrl=function(e,n,o){o===void 0&&(o={});var l=[];l.push(this.client.baseUrl.replace(/\/+$/gm,"")),l.push("api"),l.push("files"),l.push(e["@collectionId"]),l.push(e.id),l.push(n);var i=l.join("/");if(Object.keys(o).length){var r=new URLSearchParams(o);i+=(i.includes("?")?"&":"?")+r}return i},t}(function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.getFullList=function(e,n,o){return n===void 0&&(n=100),o===void 0&&(o={}),this._getFullList(this.baseCrudPath(e),n,o)},t.prototype.getList=function(e,n,o,l){return n===void 0&&(n=1),o===void 0&&(o=30),l===void 0&&(l={}),this._getList(this.baseCrudPath(e),n,o,l)},t.prototype.getOne=function(e,n,o){return o===void 0&&(o={}),this._getOne(this.baseCrudPath(e),n,o)},t.prototype.create=function(e,n,o){return n===void 0&&(n={}),o===void 0&&(o={}),this._create(this.baseCrudPath(e),n,o)},t.prototype.update=function(e,n,o,l){return o===void 0&&(o={}),l===void 0&&(l={}),this._update(this.baseCrudPath(e),n,o,l)},t.prototype.delete=function(e,n,o){return o===void 0&&(o={}),this._delete(this.baseCrudPath(e),n,o)},t}(_s)),_n=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.load=function(e){s.prototype.load.call(this,e),e.remoteIp=e.remoteIp||e.ip,this.url=typeof e.url=="string"?e.url:"",this.method=typeof e.method=="string"?e.method:"GET",this.status=typeof e.status=="number"?e.status:200,this.auth=typeof e.auth=="string"?e.auth:"guest",this.remoteIp=typeof e.remoteIp=="string"?e.remoteIp:"",this.userIp=typeof e.userIp=="string"?e.userIp:"",this.referer=typeof e.referer=="string"?e.referer:"",this.userAgent=typeof e.userAgent=="string"?e.userAgent:"",this.meta=typeof e.meta=="object"&&e.meta!==null?e.meta:{}},t}(Ze),xs=function(s){function t(){return s!==null&&s.apply(this,arguments)||this}return re(t,s),t.prototype.getRequestsList=function(e,n,o){return e===void 0&&(e=1),n===void 0&&(n=30),o===void 0&&(o={}),o=Object.assign({page:e,perPage:n},o),this.client.send("/api/logs/requests",{method:"GET",params:o}).then(function(l){var i=[];if(l!=null&&l.items){l.items=(l==null?void 0:l.items)||[];for(var r=0,u=l.items;r<u.length;r++){var c=u[r];i.push(new _n(c))}}return new gs((l==null?void 0:l.page)||1,(l==null?void 0:l.perPage)||0,(l==null?void 0:l.totalItems)||0,(l==null?void 0:l.totalPages)||0,i)})},t.prototype.getRequest=function(e,n){return n===void 0&&(n={}),this.client.send("/api/logs/requests/"+encodeURIComponent(e),{method:"GET",params:n}).then(function(o){return new _n(o)})},t.prototype.getRequestsStats=function(e){return e===void 0&&(e={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:e}).then(function(n){return n})},t}(Ct),$s=function(s){function t(){var e=s!==null&&s.apply(this,arguments)||this;return e.clientId="",e.eventSource=null,e.subscriptions={},e}return re(t,s),t.prototype.subscribe=function(e,n){var o;return Ve(this,void 0,void 0,function(){return We(this,function(l){switch(l.label){case 0:if(!e)throw new Error("subscription must be set.");return this.subscriptions[e]&&((o=this.eventSource)===null||o===void 0||o.removeEventListener(e,this.subscriptions[e])),this.subscriptions[e]=function(i){var r,u=i;try{r=JSON.parse(u==null?void 0:u.data)}catch{}n(r||{})},this.eventSource?[3,1]:(this.connect(),[3,3]);case 1:return this.clientId?[4,this.submitSubscriptions()]:[3,3];case 2:l.sent(),l.label=3;case 3:return[2]}})})},t.prototype.unsubscribe=function(e){var n;return Ve(this,void 0,void 0,function(){return We(this,function(o){switch(o.label){case 0:if(e){if(!this.subscriptions[e])return[2];(n=this.eventSource)===null||n===void 0||n.removeEventListener(e,this.subscriptions[e]),delete this.subscriptions[e]}else this.removeSubscriptionListeners(),this.subscriptions={};return this.clientId?[4,this.submitSubscriptions()]:[3,2];case 1:o.sent(),o.label=2;case 2:return Object.keys(this.subscriptions).length||this.disconnect(),[2]}})})},t.prototype.submitSubscriptions=function(){return Ve(this,void 0,void 0,function(){return We(this,function(e){return this.addSubscriptionListeners(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:Object.keys(this.subscriptions)},params:{$autoCancel:!1}}).then(function(){return!0})]})})},t.prototype.addSubscriptionListeners=function(){if(this.eventSource)for(var e in this.removeSubscriptionListeners(),this.subscriptions)this.eventSource.addEventListener(e,this.subscriptions[e])},t.prototype.removeSubscriptionListeners=function(){if(this.eventSource)for(var e in this.subscriptions)this.eventSource.removeEventListener(e,this.subscriptions[e])},t.prototype.connectHandler=function(e){var n=e;this.clientId=n==null?void 0:n.lastEventId,this.submitSubscriptions()},t.prototype.connect=function(){var e=this;this.disconnect(),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.addEventListener("PB_CONNECT",function(n){return e.connectHandler(n)})},t.prototype.disconnect=function(){var e,n,o=this;this.removeSubscriptionListeners(),(e=this.eventSource)===null||e===void 0||e.removeEventListener("PB_CONNECT",function(l){return o.connectHandler(l)}),(n=this.eventSource)===null||n===void 0||n.close(),this.eventSource=null,this.clientId=""},t}(Ct),eo=function(){function s(t,e,n){t===void 0&&(t="/"),e===void 0&&(e="en-US"),this.cancelControllers={},this.baseUrl=t,this.lang=e,this.authStore=n||new Gs,this.admins=new Ws(this),this.users=new Ys(this),this.records=new Zs(this),this.collections=new Qs(this),this.logs=new xs(this),this.settings=new Vs(this),this.realtime=new $s(this)}return Object.defineProperty(s.prototype,"AuthStore",{get:function(){return this.authStore},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Settings",{get:function(){return this.settings},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Admins",{get:function(){return this.admins},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Users",{get:function(){return this.users},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Collections",{get:function(){return this.collections},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Records",{get:function(){return this.records},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Logs",{get:function(){return this.logs},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Realtime",{get:function(){return this.realtime},enumerable:!1,configurable:!0}),s.prototype.cancelRequest=function(t){return this.cancelControllers[t]&&(this.cancelControllers[t].abort(),delete this.cancelControllers[t]),this},s.prototype.cancelAllRequests=function(){for(var t in this.cancelControllers)this.cancelControllers[t].abort();return this.cancelControllers={},this},s.prototype.send=function(t,e){var n,o,l,i,r,u,c,d,g;return Ve(this,void 0,void 0,function(){var m,_,p,q,w,R,C=this;return We(this,function(k){return(m=Object.assign({method:"GET"},e)).body&&m.body.constructor.name!=="FormData"&&(typeof m.body!="string"&&(m.body=JSON.stringify(m.body)),((n=m==null?void 0:m.headers)===null||n===void 0?void 0:n["Content-Type"])===void 0&&(m.headers=Object.assign({},m.headers,{"Content-Type":"application/json"}))),((o=m==null?void 0:m.headers)===null||o===void 0?void 0:o["Accept-Language"])===void 0&&(m.headers=Object.assign({},m.headers,{"Accept-Language":this.lang})),((l=this.authStore)===null||l===void 0?void 0:l.token)&&((i=m==null?void 0:m.headers)===null||i===void 0?void 0:i.Authorization)===void 0&&(_="Admin",((r=this.authStore.model)===null||r===void 0?void 0:r.verified)!==void 0&&(_="User"),m.headers=Object.assign({},m.headers,{Authorization:_+" "+this.authStore.token})),((u=m.params)===null||u===void 0?void 0:u.$autoCancel)!==!1&&(p=((c=m.params)===null||c===void 0?void 0:c.$cancelKey)||(m.method||"GET")+t,this.cancelRequest(p),q=new AbortController,this.cancelControllers[p]=q,m.signal=q.signal),(d=m.params)===null||d===void 0||delete d.$autoCancel,(g=m.params)===null||g===void 0||delete g.$cancelKey,w=this.buildUrl(t),m.params!==void 0&&((R=this.serializeQueryParams(m.params))&&(w+=(w.includes("?")?"&":"?")+R),delete m.params),this.beforeSend&&(m=Object.assign({},this.beforeSend(w,m))),[2,fetch(w,m).then(function(v){return Ve(C,void 0,void 0,function(){var y;return We(this,function(b){switch(b.label){case 0:y={},b.label=1;case 1:return b.trys.push([1,3,,4]),[4,v.json()];case 2:return y=b.sent(),[3,4];case 3:return b.sent(),[3,4];case 4:if(this.afterSend&&(y=this.afterSend(v,y)),v.status>=400)throw new mn({url:v.url,status:v.status,data:y});return[2,y]}})})}).catch(function(v){throw new mn(v)})]})})},s.prototype.buildUrl=function(t){var e=this.baseUrl+(this.baseUrl.endsWith("/")?"":"/");return t&&(e+=t.startsWith("/")?t.substring(1):t),e},s.prototype.serializeQueryParams=function(t){var e=[];for(var n in t)if(t[n]!==null){var o=t[n],l=encodeURIComponent(n);if(Array.isArray(o))for(var i=0,r=o;i<r.length;i++){var u=r[i];e.push(l+"="+encodeURIComponent(u))}else o instanceof Date?e.push(l+"="+encodeURIComponent(o.toISOString())):typeof o!==null&&typeof o=="object"?e.push(l+"="+encodeURIComponent(JSON.stringify(o))):e.push(l+"="+encodeURIComponent(o))}return e.join("&")},s}();const se=new eo("http://127.0.0.1:8090"),Xe=Fe(0),_t=Fe([]),bt=Fe(""),tt=Fe(!0),Mt=Fe(!1);function bn(s,t,e){const n=s.slice();return n[2]=t[e],n}function yn(s,t,e){const n=s.slice();return n[5]=t[e],n}function wn(s){let t,e=s[5]+"",n;return{c(){t=h("div"),n=U(e)},m(o,l){L(o,t,l),f(t,n)},p(o,l){l&1&&e!==(e=o[5]+"")&&ne(n,e)},d(o){o&&S(t)}}}function kn(s){let t;return{c(){t=h("div"),t.textContent="new!",a(t,"class","newposttag svelte-xe2jkx")},m(e,n){L(e,t,n)},d(e){e&&S(t)}}}function Cn(s){let t,e=s[0].contains,n=[];for(let o=0;o<e.length;o+=1)n[o]=Sn(bn(s,e,o));return{c(){t=h("div");for(let o=0;o<n.length;o+=1)n[o].c();a(t,"class","contains svelte-xe2jkx")},m(o,l){L(o,t,l);for(let i=0;i<n.length;i+=1)n[i].m(t,null)},p(o,l){if(l&1){e=o[0].contains;let i;for(i=0;i<e.length;i+=1){const r=bn(o,e,i);n[i]?n[i].p(r,l):(n[i]=Sn(r),n[i].c(),n[i].m(t,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=e.length}},d(o){o&&S(t),Re(n,o)}}}function Sn(s){let t,e=s[2]+"",n;return{c(){t=h("span"),n=U(e),a(t,"class","svelte-xe2jkx")},m(o,l){L(o,t,l),f(t,n)},p(o,l){l&1&&e!==(e=o[2]+"")&&ne(n,e)},d(o){o&&S(t)}}}function On(s){let t;return{c(){t=h("div"),t.textContent="[Dead]",a(t,"class","dead svelte-xe2jkx")},m(e,n){L(e,t,n)},d(e){e&&S(t)}}}function to(s){let t,e,n,o,l,i,r,u,c,d,g,m=s[0].name+"",_,p,q,w=s[0].host+"",R,C,k,v,y,b,A=s[0].updates+"",T,E,M,D,ae,Z,Se,x,ee,$,te,F,Q,ue,j,I=s[0].laspost.split(`
`),K=[];for(let J=0;J<I.length;J+=1)K[J]=wn(yn(s,I,J));let G=s[1]&&kn(),N=s[0].contains.length>0&&Cn(s),V=s[0].dead&&On();return{c(){t=h("div"),e=h("div"),n=h("div"),o=h("div");for(let J=0;J<K.length;J+=1)K[J].c();l=O(),i=h("a"),r=h("img"),d=O(),g=h("div"),_=U(m),p=O(),q=h("div"),R=U(w),C=O(),G&&G.c(),k=O(),N&&N.c(),v=O(),y=h("div"),b=h("strong"),b.textContent="Updates: ",T=U(A),E=O(),M=h("div"),V&&V.c(),D=O(),ae=h("div"),Z=h("a"),Se=U(`visit 
            `),x=Ue("svg"),ee=Ue("path"),te=O(),F=h("div"),Q=h("a"),ue=U("more"),a(o,"class","tooltip svelte-xe2jkx"),a(r,"loading","lazy"),Ke(r.src,u=s[0].thumb)||a(r,"src",u),a(r,"alt",""),a(r,"class","svelte-xe2jkx"),a(i,"href",c="#/new?id="+s[0].id),a(i,"class","svelte-xe2jkx"),a(n,"class","thumb svelte-xe2jkx"),a(g,"class","title svelte-xe2jkx"),a(q,"class","hostName svelte-xe2jkx"),a(y,"class","updates svelte-xe2jkx"),a(e,"class","card-container"),a(ee,"d","M 41.470703 4.9863281 A 1.50015 1.50015 0 0 0 41.308594 5 L 27.5 5 A 1.50015 1.50015 0 1 0 27.5 8 L 37.878906 8 L 22.439453 23.439453 A 1.50015 1.50015 0 1 0 24.560547 25.560547 L 40 10.121094 L 40 20.5 A 1.50015 1.50015 0 1 0 43 20.5 L 43 6.6894531 A 1.50015 1.50015 0 0 0 41.470703 4.9863281 z M 12.5 8 C 8.3754991 8 5 11.375499 5 15.5 L 5 35.5 C 5 39.624501 8.3754991 43 12.5 43 L 32.5 43 C 36.624501 43 40 39.624501 40 35.5 L 40 25.5 A 1.50015 1.50015 0 1 0 37 25.5 L 37 35.5 C 37 38.003499 35.003499 40 32.5 40 L 12.5 40 C 9.9965009 40 8 38.003499 8 35.5 L 8 15.5 C 8 12.996501 9.9965009 11 12.5 11 L 22.5 11 A 1.50015 1.50015 0 1 0 22.5 8 L 12.5 8 z"),a(x,"fill","var(--button-color)"),a(x,"xmlns","http://www.w3.org/2000/svg"),a(x,"viewBox","0 0 48 48"),a(x,"width","15px"),a(x,"height","15px"),a(Z,"target","_blank"),a(Z,"href",$=s[0].link),a(Z,"class","svelte-xe2jkx"),a(ae,"class","feed-btn svelte-xe2jkx"),a(Q,"href",j="#/new?id="+s[0].id),a(Q,"class","svelte-xe2jkx"),a(F,"class","feed-btn svelte-xe2jkx"),a(M,"class","card-container feed-btn-container svelte-xe2jkx"),a(t,"class","card svelte-xe2jkx"),H(t,"newpost",s[1])},m(J,ce){L(J,t,ce),f(t,e),f(e,n),f(n,o);for(let oe=0;oe<K.length;oe+=1)K[oe].m(o,null);f(n,l),f(n,i),f(i,r),f(e,d),f(e,g),f(g,_),f(e,p),f(e,q),f(q,R),f(e,C),G&&G.m(e,null),f(e,k),N&&N.m(e,null),f(e,v),f(e,y),f(y,b),f(y,T),f(t,E),f(t,M),V&&V.m(M,null),f(M,D),f(M,ae),f(ae,Z),f(Z,Se),f(Z,x),f(x,ee),f(M,te),f(M,F),f(F,Q),f(Q,ue)},p(J,[ce]){if(ce&1){I=J[0].laspost.split(`
`);let oe;for(oe=0;oe<I.length;oe+=1){const Ne=yn(J,I,oe);K[oe]?K[oe].p(Ne,ce):(K[oe]=wn(Ne),K[oe].c(),K[oe].m(o,null))}for(;oe<K.length;oe+=1)K[oe].d(1);K.length=I.length}ce&1&&!Ke(r.src,u=J[0].thumb)&&a(r,"src",u),ce&1&&c!==(c="#/new?id="+J[0].id)&&a(i,"href",c),ce&1&&m!==(m=J[0].name+"")&&ne(_,m),ce&1&&w!==(w=J[0].host+"")&&ne(R,w),J[1]?G||(G=kn(),G.c(),G.m(e,k)):G&&(G.d(1),G=null),J[0].contains.length>0?N?N.p(J,ce):(N=Cn(J),N.c(),N.m(e,v)):N&&(N.d(1),N=null),ce&1&&A!==(A=J[0].updates+"")&&ne(T,A),J[0].dead?V||(V=On(),V.c(),V.m(M,D)):V&&(V.d(1),V=null),ce&1&&$!==($=J[0].link)&&a(Z,"href",$),ce&1&&j!==(j="#/new?id="+J[0].id)&&a(Q,"href",j),ce&2&&H(t,"newpost",J[1])},i:z,o:z,d(J){J&&S(t),Re(K,J),G&&G.d(),N&&N.d(),V&&V.d()}}}function no(s,t,e){let{channel:n}=t,{isNew:o}=t;return s.$$set=l=>{"channel"in l&&e(0,n=l.channel),"isNew"in l&&e(1,o=l.isNew)},[n,o]}class so extends Pe{constructor(t){super(),je(this,t,no,to,qe,{channel:0,isNew:1})}}function Ln(s,t,e){const n=s.slice();return n[7]=t[e],n}function qn(s){let t,e=s[7]+"",n,o,l;function i(){return s[6](s[7])}return{c(){t=h("button"),n=U(e),a(t,"class","svelte-1paaqmw"),H(t,"active",s[2]===!1&&s[3]===s[7])},m(r,u){L(r,t,u),f(t,n),o||(l=Y(t,"click",i),o=!0)},p(r,u){s=r,u&1&&e!==(e=s[7]+"")&&ne(n,e),u&13&&H(t,"active",s[2]===!1&&s[3]===s[7])},d(r){r&&S(t),o=!1,l()}}}function oo(s){let t,e,n,o,l,i,r,u=s[0],c=[];for(let d=0;d<u.length;d+=1)c[d]=qn(Ln(s,u,d));return{c(){t=h("div"),e=h("button"),e.textContent="show inactive",n=O(),o=h("button"),o.textContent="all domains",l=O();for(let d=0;d<c.length;d+=1)c[d].c();a(e,"class","showdead svelte-1paaqmw"),H(e,"active",s[1]),a(o,"class","svelte-1paaqmw"),H(o,"active",s[2]),a(t,"class","filter svelte-1paaqmw")},m(d,g){L(d,t,g),f(t,e),f(t,n),f(t,o),f(t,l);for(let m=0;m<c.length;m+=1)c[m].m(t,null);i||(r=[Y(e,"click",s[4]),Y(o,"click",s[5])],i=!0)},p(d,[g]){if(g&2&&H(e,"active",d[1]),g&4&&H(o,"active",d[2]),g&13){u=d[0];let m;for(m=0;m<u.length;m+=1){const _=Ln(d,u,m);c[m]?c[m].p(_,g):(c[m]=qn(_),c[m].c(),c[m].m(t,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=u.length}},i:z,o:z,d(d){d&&S(t),Re(c,d),i=!1,me(r)}}}function lo(s,t,e){let n,o,l,i;return Ce(s,_t,d=>e(0,n=d)),Ce(s,Mt,d=>e(1,o=d)),Ce(s,tt,d=>e(2,l=d)),Ce(s,bt,d=>e(3,i=d)),kt(async()=>{try{if(n.length===0){const d=await se.records.getFullList("channel");is(_t,n=Array.from(new Set(d.map(g=>g.host))),n)}}catch(d){console.warn("connection error",d)}}),[n,o,l,i,()=>Mt.update(d=>!o),()=>tt.update(d=>!0),d=>{bt.update(g=>d),tt.update(g=>!1)}]}class bs extends Pe{constructor(t){super(),je(this,t,lo,oo,qe,{})}}function jn(s,t,e){const n=s.slice();return n[16]=t[e],n}function Pn(s){let t,e,n,o,l,i,r,u,c,d,g,m,_,p,q,w,R,C;function k(E,M){return E[0]?ro:io}let v=k(s),y=v(s);_=new bs({});let b=s[5],A=[];for(let E=0;E<b.length;E+=1)A[E]=An(jn(s,b,E));const T=E=>X(A[E],1,1,()=>{A[E]=null});return{c(){t=h("main"),e=h("div"),e.innerHTML='<h1 class="svelte-94novy">Dashboard</h1>',n=O(),o=h("div"),l=h("button"),l.textContent="New!",i=O(),r=h("button"),y.c(),u=O(),c=h("span"),d=U(s[4]),g=O(),m=h("div"),he(_.$$.fragment),p=O(),q=h("div");for(let E=0;E<A.length;E+=1)A[E].c();a(e,"class","container-header svelte-94novy"),a(l,"class","updateall svelte-94novy"),H(l,"loading",s[3]),a(r,"class","updateall svelte-94novy"),H(r,"loading",s[3]),a(c,"class","result svelte-94novy"),a(o,"class","container-header-buttons svelte-94novy"),a(q,"class","container svelte-94novy"),a(m,"class","main-container svelte-94novy"),a(t,"class","svelte-94novy")},m(E,M){L(E,t,M),f(t,e),f(t,n),f(t,o),f(o,l),f(o,i),f(o,r),y.m(r,null),f(o,u),f(o,c),f(c,d),f(t,g),f(t,m),de(_,m,null),f(m,p),f(m,q);for(let D=0;D<A.length;D+=1)A[D].m(q,null);w=!0,R||(C=[Y(l,"click",s[11]),Y(r,"click",s[7])],R=!0)},p(E,M){if(M&8&&H(l,"loading",E[3]),v!==(v=k(E))&&(y.d(1),y=v(E),y&&(y.c(),y.m(r,null))),M&8&&H(r,"loading",E[3]),(!w||M&16)&&ne(d,E[4]),M&98){b=E[5];let D;for(D=0;D<b.length;D+=1){const ae=jn(E,b,D);A[D]?(A[D].p(ae,M),B(A[D],1)):(A[D]=An(ae),A[D].c(),B(A[D],1),A[D].m(q,null))}for(De(),D=b.length;D<A.length;D+=1)T(D);Me()}},i(E){if(!w){B(_.$$.fragment,E);for(let M=0;M<b.length;M+=1)B(A[M]);w=!0}},o(E){X(_.$$.fragment,E),A=A.filter(Boolean);for(let M=0;M<A.length;M+=1)X(A[M]);w=!1},d(E){E&&S(t),y.d(),pe(_),Re(A,E),R=!1,me(C)}}}function io(s){let t;return{c(){t=U("update domain")},m(e,n){L(e,t,n)},d(e){e&&S(t)}}}function ro(s){let t;return{c(){t=U("update all")},m(e,n){L(e,t,n)},d(e){e&&S(t)}}}function An(s){let t,e;return t=new so({props:{channel:s[16],isNew:s[6](s[1],s[16].id)}}),{c(){he(t.$$.fragment)},m(n,o){de(t,n,o),e=!0},p(n,o){const l={};o&32&&(l.channel=n[16]),o&34&&(l.isNew=n[6](n[1],n[16].id)),t.$set(l)},i(n){e||(B(t.$$.fragment,n),e=!0)},o(n){X(t.$$.fragment,n),e=!1},d(n){pe(t,n)}}}function ao(s){let t,e,n=!s[2]&&Pn(s);return{c(){n&&n.c(),t=Qe()},m(o,l){n&&n.m(o,l),L(o,t,l),e=!0},p(o,[l]){o[2]?n&&(De(),X(n,1,1,()=>{n=null}),Me()):n?(n.p(o,l),l&4&&B(n,1)):(n=Pn(o),n.c(),B(n,1),n.m(t.parentNode,t))},i(o){e||(B(n),e=!0)},o(o){X(n),e=!1},d(o){n&&n.d(o),o&&S(t)}}}function uo(s,t,e){let n,o,l,i,r;Ce(s,Mt,C=>e(9,n=C)),Ce(s,bt,C=>e(10,o=C)),Ce(s,tt,C=>e(0,l=C)),Ce(s,Xe,C=>e(12,i=C)),Ce(s,_t,C=>e(13,r=C)),window.localStorage.getItem("pocketbase_auth")||Ee("/");const u=(C,k)=>C.find(y=>y.channel===k)!=null;let c=[],d=[],g=!0;kt(async()=>{try{console.log("%c ====","color:yellow"),e(8,c=await se.records.getFullList("channel")),e(1,d=await se.records.getFullList("news")),console.log(d),e(2,g=!1),is(_t,r=Array.from(new Set(c.map(C=>C.host))),r)}catch(C){console.warn("connection error!",C),Ee("/error")}});let m=!1,_="";const p=C=>{e(4,_=C),setTimeout(()=>{e(4,_="")},3e3)},q=async()=>{var C,k;try{e(3,m=!0),e(4,_=`updating${l?"":` ${o}`}...`);const v=w.map(T=>T.id);console.log("ids",v);const y=(k=(C=JSON.parse(window.localStorage.getItem("pocketbase_auth")))==null?void 0:C.model)==null?void 0:k.id;console.log("localuser:",y),console.log("update current",{user:y,host:`${l?"":`${o}`}`});const A=await(await fetch("http://localhost:4002/api/getnewupsates",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({user:y,host:`${l?"":`${o}`}`})})).text();console.log(A),e(8,c=await se.records.getFullList("channel")),e(1,d=await se.records.getFullList("news")),Xe.update(T=>d.length),e(3,m=!1),p(`updated! ${i>0?`${i} new update${i===1?"":"s"}`:"nothing new right now"}`)}catch(v){console.warn(v),e(3,m=!1),p("error while updating")}};let w=c;const R=()=>Ee("/new");return s.$$.update=()=>{s.$$.dirty&1793&&e(5,w=[...c].reverse().filter(C=>l?!0:C.host===o).filter(C=>n?!0:C.dead===!1))},[l,d,g,m,_,w,u,q,c,n,o,R]}class co extends Pe{constructor(t){super(),je(this,t,uo,ao,qe,{})}}function ys(s){var t,e,n="";if(typeof s=="string"||typeof s=="number")n+=s;else if(typeof s=="object")if(Array.isArray(s))for(t=0;t<s.length;t++)s[t]&&(e=ys(s[t]))&&(n&&(n+=" "),n+=e);else for(t in s)s[t]&&(n&&(n+=" "),n+=t);return n}function Tn(){for(var s,t,e=0,n="";e<arguments.length;)(s=arguments[e++])&&(t=ys(s))&&(n&&(n+=" "),n+=t);return n}const fo=(s,t="")=>{const e=Fe(Tn(t).split(" ").filter(Boolean)),n=e.subscribe(l=>{Array.isArray(l)&&(l==null?void 0:l.length)&&s.classList.add(...l)}),o=()=>s.classList.remove(...ks(e));return{update:(l="")=>{o(),e.set(Tn(l).split(" ").filter(Boolean))},destroy:()=>{o(),n()}}},po=(s,t={})=>{const e=document.createElement("div"),n=(l={})=>{if(typeof l=="string"&&(e.style.cssText=l),typeof l=="object")for(const[i,r]of Object.entries(l))i.startsWith("--")?e.style.setProperty(i,r):e.style[i]=r;s.style.cssText=`
					${s.style.cssText};
					${e.style.cssText};
				`};n(t);const o=()=>{s.style.cssText=s.style.cssText.replace(e.style.cssText,""),e.style.cssText=""};return{update:l=>{o(),n(l)},destroy:o}};function En(s,t,e){const n=s.slice();return n[4]=t[e],n}function Rn(s){let t,e=s[4]+"",n,o;return{c(){t=h("option"),n=U(e),o=O(),t.__value=s[4],t.value=t.__value},m(l,i){L(l,t,i),f(t,n),f(t,o)},p:z,d(l){l&&S(t)}}}function ho(s){let t,e,n,o,l,i=s[1],r=[];for(let u=0;u<i.length;u+=1)r[u]=Rn(En(s,i,u));return{c(){e=O(),n=h("select");for(let u=0;u<r.length;u+=1)r[u].c();a(n,"class","svelte-13f2tfu"),s[0]===void 0&&vt(()=>s[2].call(n))},m(u,c){L(u,e,c),L(u,n,c);for(let d=0;d<r.length;d+=1)r[d].m(n,null);un(n,s[0]),o||(l=[an(t=fo.call(null,document.body,s[0])),an(po.call(null,document.body,mo)),Y(n,"change",s[2])],o=!0)},p(u,[c]){if(t&&yt(t.update)&&c&1&&t.update.call(null,u[0]),c&2){i=u[1];let d;for(d=0;d<i.length;d+=1){const g=En(u,i,d);r[d]?r[d].p(g,c):(r[d]=Rn(g),r[d].c(),r[d].m(n,null))}for(;d<r.length;d+=1)r[d].d(1);r.length=i.length}c&3&&un(n,u[0])},i:z,o:z,d(u){u&&S(e),u&&S(n),Re(r,u),o=!1,me(l)}}}let mo="";function vo(s,t,e){let n="yotsuba-nograd";const o=["yotsuba-nograd","yotsuba","yotsuba-b","nograd","bluesky","luckygreen","uboa","plankton"],l=localStorage.getItem("storedTheme");n=l||n;function i(){n=Ss(this),e(0,n),e(1,o)}return s.$$.update=()=>{s.$$.dirty&1&&localStorage.setItem("storedTheme",n)},[n,o,i]}class go extends Pe{constructor(t){super(),je(this,t,vo,ho,qe,{})}}function Nn(s,t,e){const n=s.slice();return n[2]=t[e],n}function In(s){let t;return{c(){t=h("div"),t.textContent="[ NEW !]",a(t,"class","newposttag svelte-12i1rs9")},m(e,n){L(e,t,n)},d(e){e&&S(t)}}}function Un(s){let t,e=s[2]+"",n;return{c(){t=h("div"),n=U(e)},m(o,l){L(o,t,l),f(t,n)},p(o,l){l&1&&e!==(e=o[2]+"")&&ne(n,e)},d(o){o&&S(t)}}}function _o(s){let t,e,n,o=s[0].created+"",l,i,r,u=s[0].title+"",c,d,g,m,_,p,q,w,R,C,k,v,y,b,A,T,E,M,D,ae,Z,Se,x,ee=s[1]&&In(),$=s[0].content.split(`
`),te=[];for(let F=0;F<$.length;F+=1)te[F]=Un(Nn(s,$,F));return{c(){var F,Q,ue,j,I,K;t=h("div"),e=h("div"),n=h("div"),l=U(o),i=O(),r=h("h2"),c=U(u),d=O(),ee&&ee.c(),g=O(),m=h("div"),_=h("div"),p=h("img"),w=O(),R=h("div");for(let G=0;G<te.length;G+=1)te[G].c();C=O(),k=h("div"),v=h("div"),y=h("div"),b=h("a"),A=U(`visit 
                `),T=Ue("svg"),E=Ue("path"),D=O(),ae=h("div"),Z=h("a"),Se=U("more"),a(n,"class","date svelte-12i1rs9"),a(r,"class","svelte-12i1rs9"),a(p,"loading","lazy"),Ke(p.src,q=(Q=(F=s[0]["@expand"])==null?void 0:F.channel)==null?void 0:Q.thumb)||a(p,"src",q),a(p,"alt",""),a(p,"class","svelte-12i1rs9"),a(_,"class","thumb svelte-12i1rs9"),a(R,"class","channelcontent svelte-12i1rs9"),a(m,"class","channelcontent-holder svelte-12i1rs9"),a(e,"class","card-container svelte-12i1rs9"),a(E,"d","M 41.470703 4.9863281 A 1.50015 1.50015 0 0 0 41.308594 5 L 27.5 5 A 1.50015 1.50015 0 1 0 27.5 8 L 37.878906 8 L 22.439453 23.439453 A 1.50015 1.50015 0 1 0 24.560547 25.560547 L 40 10.121094 L 40 20.5 A 1.50015 1.50015 0 1 0 43 20.5 L 43 6.6894531 A 1.50015 1.50015 0 0 0 41.470703 4.9863281 z M 12.5 8 C 8.3754991 8 5 11.375499 5 15.5 L 5 35.5 C 5 39.624501 8.3754991 43 12.5 43 L 32.5 43 C 36.624501 43 40 39.624501 40 35.5 L 40 25.5 A 1.50015 1.50015 0 1 0 37 25.5 L 37 35.5 C 37 38.003499 35.003499 40 32.5 40 L 12.5 40 C 9.9965009 40 8 38.003499 8 35.5 L 8 15.5 C 8 12.996501 9.9965009 11 12.5 11 L 22.5 11 A 1.50015 1.50015 0 1 0 22.5 8 L 12.5 8 z"),a(T,"fill","var(--button-color)"),a(T,"xmlns","http://www.w3.org/2000/svg"),a(T,"viewBox","0 0 48 48"),a(T,"width","15px"),a(T,"height","15px"),a(b,"target","_blank"),a(b,"href",M=(j=(ue=s[0]["@expand"])==null?void 0:ue.channel)==null?void 0:j.link),a(b,"class","svelte-12i1rs9"),a(y,"class","feed-btn svelte-12i1rs9"),a(Z,"href",x="#/new?id="+((K=(I=s[0]["@expand"])==null?void 0:I.channel)==null?void 0:K.id)),a(Z,"class","svelte-12i1rs9"),a(ae,"class","feed-btn svelte-12i1rs9"),a(v,"class","card-container feed-btn-container svelte-12i1rs9"),a(k,"class","feed-btn-holder svelte-12i1rs9"),a(t,"class","card svelte-12i1rs9"),H(t,"newpost",s[1])},m(F,Q){L(F,t,Q),f(t,e),f(e,n),f(n,l),f(e,i),f(e,r),f(r,c),f(e,d),ee&&ee.m(e,null),f(e,g),f(e,m),f(m,_),f(_,p),f(m,w),f(m,R);for(let ue=0;ue<te.length;ue+=1)te[ue].m(R,null);f(t,C),f(t,k),f(k,v),f(v,y),f(y,b),f(b,A),f(b,T),f(T,E),f(v,D),f(v,ae),f(ae,Z),f(Z,Se)},p(F,[Q]){var ue,j,I,K,G,N;if(Q&1&&o!==(o=F[0].created+"")&&ne(l,o),Q&1&&u!==(u=F[0].title+"")&&ne(c,u),F[1]?ee||(ee=In(),ee.c(),ee.m(e,g)):ee&&(ee.d(1),ee=null),Q&1&&!Ke(p.src,q=(j=(ue=F[0]["@expand"])==null?void 0:ue.channel)==null?void 0:j.thumb)&&a(p,"src",q),Q&1){$=F[0].content.split(`
`);let V;for(V=0;V<$.length;V+=1){const J=Nn(F,$,V);te[V]?te[V].p(J,Q):(te[V]=Un(J),te[V].c(),te[V].m(R,null))}for(;V<te.length;V+=1)te[V].d(1);te.length=$.length}Q&1&&M!==(M=(K=(I=F[0]["@expand"])==null?void 0:I.channel)==null?void 0:K.link)&&a(b,"href",M),Q&1&&x!==(x="#/new?id="+((N=(G=F[0]["@expand"])==null?void 0:G.channel)==null?void 0:N.id))&&a(Z,"href",x),Q&2&&H(t,"newpost",F[1])},i:z,o:z,d(F){F&&S(t),ee&&ee.d(),Re(te,F)}}}function bo(s,t,e){let{feed:n}=t,{isNew:o}=t;return console.log(n),s.$$set=l=>{"feed"in l&&e(0,n=l.feed),"isNew"in l&&e(1,o=l.isNew)},[n,o]}class yo extends Pe{constructor(t){super(),je(this,t,bo,_o,qe,{feed:0,isNew:1})}}function Dn(s,t,e){const n=s.slice();return n[13]=t[e],n[15]=e,n}function Mn(s){let t,e,n,o,l,i,r,u,c,d,g,m,_,p,q,w,R,C;_=new bs({});let k=s[1],v=[];for(let b=0;b<k.length;b+=1)v[b]=Fn(Dn(s,k,b));const y=b=>X(v[b],1,1,()=>{v[b]=null});return{c(){t=h("main"),e=h("h1"),e.textContent="Feed",n=O(),o=h("div"),l=h("button"),l.textContent="mark as read",i=O(),r=h("button"),r.textContent="get RSS",u=O(),c=h("span"),d=U(s[0]),g=O(),m=h("div"),he(_.$$.fragment),p=O(),q=h("div");for(let b=0;b<v.length;b+=1)v[b].c();a(e,"class","svelte-pc5ee"),a(l,"class","svelte-pc5ee"),a(r,"class","svelte-pc5ee"),a(c,"class","result svelte-pc5ee"),a(o,"class","feedoptions svelte-pc5ee"),a(q,"class","feeds svelte-pc5ee"),a(m,"class","container svelte-pc5ee"),a(t,"class","svelte-pc5ee")},m(b,A){L(b,t,A),f(t,e),f(t,n),f(t,o),f(o,l),f(o,i),f(o,r),f(o,u),f(o,c),f(c,d),f(t,g),f(t,m),de(_,m,null),f(m,p),f(m,q);for(let T=0;T<v.length;T+=1)v[T].m(q,null);w=!0,R||(C=[Y(l,"click",s[6]),Y(r,"click",s[7])],R=!0)},p(b,A){if((!w||A&1)&&ne(d,b[0]),A&46){k=b[1];let T;for(T=0;T<k.length;T+=1){const E=Dn(b,k,T);v[T]?(v[T].p(E,A),B(v[T],1)):(v[T]=Fn(E),v[T].c(),B(v[T],1),v[T].m(q,null))}for(De(),T=k.length;T<v.length;T+=1)y(T);Me()}},i(b){if(!w){B(_.$$.fragment,b);for(let A=0;A<k.length;A+=1)B(v[A]);w=!0}},o(b){X(_.$$.fragment,b),v=v.filter(Boolean);for(let A=0;A<v.length;A+=1)X(v[A]);w=!1},d(b){b&&S(t),pe(_),Re(v,b),R=!1,me(C)}}}function Fn(s){let t,e;return t=new yo({props:{feed:s[13],isNew:s[5](s[2],s[13].id)&&!s[3]}}),{c(){he(t.$$.fragment)},m(n,o){de(t,n,o),e=!0},p(n,o){const l={};o&2&&(l.feed=n[13]),o&14&&(l.isNew=n[5](n[2],n[13].id)&&!n[3]),t.$set(l)},i(n){e||(B(t.$$.fragment,n),e=!0)},o(n){X(t.$$.fragment,n),e=!1},d(n){pe(t,n)}}}function wo(s){let t,e,n=!s[4]&&Mn(s);return{c(){n&&n.c(),t=Qe()},m(o,l){n&&n.m(o,l),L(o,t,l),e=!0},p(o,[l]){o[4]?n&&(De(),X(n,1,1,()=>{n=null}),Me()):n?(n.p(o,l),l&16&&B(n,1)):(n=Mn(o),n.c(),B(n,1),n.m(t.parentNode,t))},i(o){e||(B(n),e=!0)},o(o){X(n),e=!1},d(o){n&&n.d(o),o&&S(t)}}}function ko(s,t,e){let n,o;Ce(s,bt,w=>e(9,n=w)),Ce(s,tt,w=>e(10,o=w)),window.localStorage.getItem("pocketbase_auth")||Ee("/");let l=window.localStorage.getItem("pocketbase_auth")?JSON.parse(window.localStorage.getItem("pocketbase_auth")):!1,i="";const r=w=>{e(0,i=w),setTimeout(()=>{e(0,i="")},3e3)},u=(w,R)=>(console.log("%c ====","color:red"),console.log(w,R),w.find(k=>k.feeds===R)!=null);let c=[],d=c,g=[],m=!1,_=!0;const p=async()=>{try{const w=await Promise.all(g.map(async R=>{se.records.delete("news",R.id)}));console.log(w),Xe.update(R=>0),e(3,m=!0),r("nothing new")}catch(w){console.error(w)}},q=async()=>{try{const w=await await(await fetch(`http://localhost:4002/api/getrsslink/${l.model.id}`)).json();if(!w.error)console.log(w.rss),await navigator.clipboard.writeText(w.rss),r("rss link copied to clipboard");else throw w.error}catch(w){console.error(w)}};return kt(async()=>{try{e(8,c=await se.records.getFullList("feeditem",50,{expand:"channel",sort:"-created"})),e(2,g=await se.records.getFullList("news")),console.log(c,g),e(4,_=!1)}catch(w){console.warn("connection error",w),Ee("/error")}}),s.$$.update=()=>{s.$$.dirty&1792&&(console.log(c),c.length>0&&e(1,d=[...c].filter(w=>{var R,C;return o||((C=(R=w["@expand"])==null?void 0:R.channel)==null?void 0:C.host)===n})))},[i,d,g,m,_,u,p,q,c,n,o]}class Co extends Pe{constructor(t){super(),je(this,t,ko,wo,qe,{})}}const So="/assets/archiveph.png";const Oo=s=>({}),zn=s=>({}),Lo=s=>({}),Jn=s=>({});function qo(s){let t,e,n,o,l,i,r,u,c;const d=s[2].name,g=nn(d,s,s[1],Jn),m=s[2].content,_=nn(m,s,s[1],zn);return{c(){t=h("div"),g&&g.c(),e=O(),n=h("button"),n.textContent="?",o=O(),l=h("div"),i=h("div"),_&&_.c(),a(n,"class","hastooltip svelte-kwi5wp"),H(n,"active",s[0]),a(i,"class","content svelte-kwi5wp"),a(l,"class","container svelte-kwi5wp"),H(l,"active",s[0]),a(t,"class","box")},m(p,q){L(p,t,q),g&&g.m(t,null),f(t,e),f(t,n),f(t,o),f(t,l),f(l,i),_&&_.m(i,null),r=!0,u||(c=Y(n,"click",s[3]),u=!0)},p(p,[q]){g&&g.p&&(!r||q&2)&&on(g,d,p,p[1],r?sn(d,p[1],q,Lo):ln(p[1]),Jn),q&1&&H(n,"active",p[0]),_&&_.p&&(!r||q&2)&&on(_,m,p,p[1],r?sn(m,p[1],q,Oo):ln(p[1]),zn),q&1&&H(l,"active",p[0])},i(p){r||(B(g,p),B(_,p),r=!0)},o(p){X(g,p),X(_,p),r=!1},d(p){p&&S(t),g&&g.d(p),_&&_.d(p),u=!1,c()}}}function jo(s,t,e){let{$$slots:n={},$$scope:o}=t,l=!1;const i=r=>{r.preventDefault(),e(0,l=!l)};return s.$$set=r=>{"$$scope"in r&&e(1,o=r.$$scope)},[l,o,n,i]}class $e extends Pe{constructor(t){super(),je(this,t,jo,qo,qe,{})}}function Bn(s,t,e){const n=s.slice();return n[35]=t[e],n}function Gn(s,t,e){const n=s.slice();return n[38]=t[e],n}function Po(s){let t;return{c(){t=h("h1"),t.textContent="New!",a(t,"class","svelte-11muqml")},m(e,n){L(e,t,n)},d(e){e&&S(t)}}}function Ao(s){let t;return{c(){t=h("h1"),t.textContent="Updating!",a(t,"class","svelte-11muqml")},m(e,n){L(e,t,n)},d(e){e&&S(t)}}}function Vn(s){let t,e,n,o=s[1].id+"",l;return{c(){t=h("div"),e=h("strong"),n=U("Id: "),l=U(o),a(e,"class","svelte-11muqml"),a(t,"class","id svelte-11muqml")},m(i,r){L(i,t,r),f(t,e),f(e,n),f(e,l)},p(i,r){r[0]&2&&o!==(o=i[1].id+"")&&ne(l,o)},d(i){i&&S(t)}}}function To(s){let t;return{c(){t=h("span"),t.textContent="target selector*",a(t,"slot","name"),a(t,"class","svelte-11muqml")},m(e,n){L(e,t,n)},p:z,d(e){e&&S(t)}}}function Eo(s){let t;return{c(){t=h("span"),t.innerHTML=`A valid CSS selector string to be the target of observation, the updates are based on changes of this element, so anytime the text on it changes, you get a new update.<br class="svelte-11muqml"/>
				Example &quot;.post&quot;<br class="svelte-11muqml"/><br class="svelte-11muqml"/>
				You can learn more about CSS selectors <a class="tooltiplink svelte-11muqml" href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors" target="_blank">here</a>`,a(t,"slot","content"),a(t,"class","svelte-11muqml")},m(e,n){L(e,t,n)},p:z,d(e){e&&S(t)}}}function Ro(s){let t;return{c(){t=h("span"),t.textContent="keywords",a(t,"slot","name"),a(t,"class","svelte-11muqml")},m(e,n){L(e,t,n)},p:z,d(e){e&&S(t)}}}function No(s){let t;return{c(){t=h("span"),t.innerHTML=`Filter the updates with only the ones that contains words listed here, you can have more than one word separated by &quot;,&quot; without spaces<br class="svelte-11muqml"/>
				Example: &quot;41234,foo,hello world&quot;<br class="svelte-11muqml"/>
				If left blank, it will update on any change regradless.`,a(t,"slot","content"),a(t,"class","svelte-11muqml")},m(e,n){L(e,t,n)},p:z,d(e){e&&S(t)}}}function Io(s){let t;return{c(){t=h("span"),t.textContent="cover",a(t,"slot","name"),a(t,"class","svelte-11muqml")},m(e,n){L(e,t,n)},p:z,d(e){e&&S(t)}}}function Uo(s){let t;return{c(){t=h("span"),t.textContent="A url of an image",a(t,"slot","content"),a(t,"class","svelte-11muqml")},m(e,n){L(e,t,n)},p:z,d(e){e&&S(t)}}}function Do(s){let t;return{c(){t=h("span"),t.textContent="newest post on top",a(t,"slot","name"),a(t,"class","svelte-11muqml")},m(e,n){L(e,t,n)},p:z,d(e){e&&S(t)}}}function Mo(s){let t;return{c(){t=h("span"),t.textContent="When marked, the updates will check the newest content from the top of the page (like a blog or twitter), instead of bottom of the page",a(t,"slot","content"),a(t,"class","svelte-11muqml")},m(e,n){L(e,t,n)},p:z,d(e){e&&S(t)}}}function Wn(s){let t,e,n,o,l,i,r;return o=new $e({props:{$$slots:{content:[zo],name:[Fo]},$$scope:{ctx:s}}}),{c(){t=h("div"),e=h("input"),n=O(),he(o.$$.fragment),a(e,"id","dead"),a(e,"type","checkbox"),a(e,"class","svelte-11muqml"),a(t,"class","select-holder svelte-11muqml")},m(u,c){L(u,t,c),f(t,e),e.checked=s[1].dead,f(t,n),de(o,t,null),l=!0,i||(r=Y(e,"change",s[24]),i=!0)},p(u,c){c[0]&2&&(e.checked=u[1].dead);const d={};c[1]&1024&&(d.$$scope={dirty:c,ctx:u}),o.$set(d)},i(u){l||(B(o.$$.fragment,u),l=!0)},o(u){X(o.$$.fragment,u),l=!1},d(u){u&&S(t),pe(o),i=!1,r()}}}function Fo(s){let t;return{c(){t=h("span"),t.textContent="dead",a(t,"slot","name"),a(t,"class","svelte-11muqml")},m(e,n){L(e,t,n)},p:z,d(e){e&&S(t)}}}function zo(s){let t;return{c(){t=h("span"),t.textContent="When marked, the updates will not check any changes on this page anymore",a(t,"slot","content"),a(t,"class","svelte-11muqml")},m(e,n){L(e,t,n)},p:z,d(e){e&&S(t)}}}function Kn(s){let t;return{c(){t=h("div"),t.textContent="Are you sure?",a(t,"class","deleteconfirm svelte-11muqml")},m(e,n){L(e,t,n)},d(e){e&&S(t)}}}function Jo(s){let t,e,n,o,l;return{c(){t=h("button"),t.textContent="New!",e=O(),n=h("button"),n.textContent="Clear!",a(t,"type","button"),a(t,"class","svelte-11muqml"),a(n,"type","button"),a(n,"class","svelte-11muqml")},m(i,r){L(i,t,r),L(i,e,r),L(i,n,r),o||(l=[Y(t,"click",s[11]),Y(n,"click",s[9])],o=!0)},p:z,d(i){i&&S(t),i&&S(e),i&&S(n),o=!1,me(l)}}}function Bo(s){let t,e,n,o,l;return{c(){t=h("button"),t.textContent="Save!",e=O(),n=h("button"),n.textContent="Delete!",a(t,"type","button"),a(t,"class","svelte-11muqml"),a(n,"type","button"),a(n,"class","svelte-11muqml")},m(i,r){L(i,t,r),L(i,e,r),L(i,n,r),o||(l=[Y(t,"click",s[10]),Y(n,"click",s[26])],o=!0)},p:z,d(i){i&&S(t),i&&S(e),i&&S(n),o=!1,me(l)}}}function Go(s){let t,e,n,o,l;return{c(){t=h("button"),t.textContent="No",e=O(),n=h("button"),n.textContent="Yes",a(t,"type","button"),a(t,"class","svelte-11muqml"),a(n,"type","button"),a(n,"class","svelte-11muqml")},m(i,r){L(i,t,r),L(i,e,r),L(i,n,r),o||(l=[Y(t,"click",s[25]),Y(n,"click",s[12])],o=!0)},p:z,d(i){i&&S(t),i&&S(e),i&&S(n),o=!1,me(l)}}}function Yn(s){let t,e;return{c(){t=h("img"),Ke(t.src,e=s[1].thumb)||a(t,"src",e),a(t,"alt","data.name"),a(t,"class","svelte-11muqml")},m(n,o){L(n,t,o)},p(n,o){o[0]&2&&!Ke(t.src,e=n[1].thumb)&&a(t,"src",e)},d(n){n&&S(t)}}}function Hn(s){let t;return{c(){t=h("span"),t.textContent="[Dead]",a(t,"class","dead svelte-11muqml")},m(e,n){L(e,t,n)},d(e){e&&S(t)}}}function Xn(s){let t,e=s[1].contains,n=[];for(let o=0;o<e.length;o+=1)n[o]=Qn(Gn(s,e,o));return{c(){t=h("div");for(let o=0;o<n.length;o+=1)n[o].c();a(t,"class","contains svelte-11muqml")},m(o,l){L(o,t,l);for(let i=0;i<n.length;i+=1)n[i].m(t,null)},p(o,l){if(l[0]&2){e=o[1].contains;let i;for(i=0;i<e.length;i+=1){const r=Gn(o,e,i);n[i]?n[i].p(r,l):(n[i]=Qn(r),n[i].c(),n[i].m(t,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=e.length}},d(o){o&&S(t),Re(n,o)}}}function Qn(s){let t,e=s[38]+"",n;return{c(){t=h("span"),n=U(e),a(t,"class","svelte-11muqml")},m(o,l){L(o,t,l),f(t,n)},p(o,l){l[0]&2&&e!==(e=o[38]+"")&&ne(n,e)},d(o){o&&S(t)}}}function Zn(s){let t,e,n=s[1].updates+"",o;return{c(){t=h("div"),e=U("Updates: "),o=U(n),a(t,"class","replies svelte-11muqml")},m(l,i){L(l,t,i),f(t,e),f(t,o)},p(l,i){i[0]&2&&n!==(n=l[1].updates+"")&&ne(o,n)},d(l){l&&S(t)}}}function xn(s){let t,e,n,o,l,i,r,u,c,d,g,m,_,p,q,w,R,C;return{c(){t=h("div"),e=h("a"),n=U(`visit 
							`),o=Ue("svg"),l=Ue("path"),r=O(),u=h("a"),c=h("img"),g=U(` archive.ph
							`),m=Ue("svg"),_=Ue("path"),q=O(),w=h("button"),w.textContent="ibhub url",a(l,"d","M 41.470703 4.9863281 A 1.50015 1.50015 0 0 0 41.308594 5 L 27.5 5 A 1.50015 1.50015 0 1 0 27.5 8 L 37.878906 8 L 22.439453 23.439453 A 1.50015 1.50015 0 1 0 24.560547 25.560547 L 40 10.121094 L 40 20.5 A 1.50015 1.50015 0 1 0 43 20.5 L 43 6.6894531 A 1.50015 1.50015 0 0 0 41.470703 4.9863281 z M 12.5 8 C 8.3754991 8 5 11.375499 5 15.5 L 5 35.5 C 5 39.624501 8.3754991 43 12.5 43 L 32.5 43 C 36.624501 43 40 39.624501 40 35.5 L 40 25.5 A 1.50015 1.50015 0 1 0 37 25.5 L 37 35.5 C 37 38.003499 35.003499 40 32.5 40 L 12.5 40 C 9.9965009 40 8 38.003499 8 35.5 L 8 15.5 C 8 12.996501 9.9965009 11 12.5 11 L 22.5 11 A 1.50015 1.50015 0 1 0 22.5 8 L 12.5 8 z"),a(l,"class","svelte-11muqml"),a(o,"fill","var(--button-color)"),a(o,"xmlns","http://www.w3.org/2000/svg"),a(o,"viewBox","0 0 48 48"),a(o,"width","15px"),a(o,"height","15px"),a(o,"class","svelte-11muqml"),a(e,"class","btn-link svelte-11muqml"),a(e,"target","_blank"),a(e,"href",i=s[1].link),a(c,"alt",""),Ke(c.src,d=So)||a(c,"src",d),a(c,"class","svelte-11muqml"),a(_,"d","M 41.470703 4.9863281 A 1.50015 1.50015 0 0 0 41.308594 5 L 27.5 5 A 1.50015 1.50015 0 1 0 27.5 8 L 37.878906 8 L 22.439453 23.439453 A 1.50015 1.50015 0 1 0 24.560547 25.560547 L 40 10.121094 L 40 20.5 A 1.50015 1.50015 0 1 0 43 20.5 L 43 6.6894531 A 1.50015 1.50015 0 0 0 41.470703 4.9863281 z M 12.5 8 C 8.3754991 8 5 11.375499 5 15.5 L 5 35.5 C 5 39.624501 8.3754991 43 12.5 43 L 32.5 43 C 36.624501 43 40 39.624501 40 35.5 L 40 25.5 A 1.50015 1.50015 0 1 0 37 25.5 L 37 35.5 C 37 38.003499 35.003499 40 32.5 40 L 12.5 40 C 9.9965009 40 8 38.003499 8 35.5 L 8 15.5 C 8 12.996501 9.9965009 11 12.5 11 L 22.5 11 A 1.50015 1.50015 0 1 0 22.5 8 L 12.5 8 z"),a(_,"class","svelte-11muqml"),a(m,"fill","var(--button-color)"),a(m,"xmlns","http://www.w3.org/2000/svg"),a(m,"viewBox","0 0 48 48"),a(m,"width","15px"),a(m,"height","15px"),a(m,"class","svelte-11muqml"),a(u,"class","btn-link svelte-11muqml"),a(u,"target","_blank"),a(u,"href",p="https://archive.today/?run=1&url="+s[1].link),a(w,"class","btn-link svelte-11muqml"),a(t,"class","btn-links-holder svelte-11muqml")},m(k,v){L(k,t,v),f(t,e),f(e,n),f(e,o),f(o,l),f(t,r),f(t,u),f(u,c),f(u,g),f(u,m),f(m,_),f(t,q),f(t,w),R||(C=Y(w,"click",s[14]),R=!0)},p(k,v){v[0]&2&&i!==(i=k[1].link)&&a(e,"href",i),v[0]&2&&p!==(p="https://archive.today/?run=1&url="+k[1].link)&&a(u,"href",p)},d(k){k&&S(t),R=!1,C()}}}function $n(s){let t,e;return{c(){t=h("div"),e=U(s[8]),a(t,"class","backupurl svelte-11muqml")},m(n,o){L(n,t,o),f(t,e)},p(n,o){o[0]&256&&ne(e,n[8])},d(n){n&&S(t)}}}function es(s){let t,e,n,o,l,i=s[1].laspost.split(`
`),r=[];for(let u=0;u<i.length;u+=1)r[u]=ts(Bn(s,i,u));return{c(){t=h("div"),e=h("div"),n=h("h4"),n.textContent="Last update:",o=O(),l=h("div");for(let u=0;u<r.length;u+=1)r[u].c();a(n,"class","data-content svelte-11muqml"),a(l,"class","status-text svelte-11muqml"),a(e,"class","status-content svelte-11muqml"),a(t,"class","svelte-11muqml"),H(t,"newpost",s[5].find(s[27])||ns)},m(u,c){L(u,t,c),f(t,e),f(e,n),f(e,o),f(e,l);for(let d=0;d<r.length;d+=1)r[d].m(l,null)},p(u,c){if(c[0]&2){i=u[1].laspost.split(`
`);let d;for(d=0;d<i.length;d+=1){const g=Bn(u,i,d);r[d]?r[d].p(g,c):(r[d]=ts(g),r[d].c(),r[d].m(l,null))}for(;d<r.length;d+=1)r[d].d(1);r.length=i.length}c[0]&34&&H(t,"newpost",u[5].find(u[27])||ns)},d(u){u&&S(t),Re(r,u)}}}function ts(s){let t,e=s[35]+"",n;return{c(){t=h("div"),n=U(e),a(t,"class","svelte-11muqml")},m(o,l){L(o,t,l),f(t,n)},p(o,l){l[0]&2&&e!==(e=o[35]+"")&&ne(n,e)},d(o){o&&S(t)}}}function Vo(s){let t,e,n,o,l,i,r,u,c,d,g,m,_,p,q,w,R,C,k,v,y,b,A,T,E,M,D,ae,Z,Se,x,ee,$,te,F,Q,ue,j,I,K,G,N,V,J,ce,oe,Ne,Vt,Te,ze,St,le,Ot,st,ot=s[1].name+"",Lt,Wt,lt,it=s[1].host+"",qt,Kt,jt,Pt,Yt,At,Je,Tt,Ye,rt,at,Et,Be,Rt,Ht;function Xt(P,W){return P[1].id!=""?Ao:Po}let ut=Xt(s),Ie=ut(s),ve=s[1].id!=""&&Vn(s);p=new $e({props:{$$slots:{content:[Eo],name:[To]},$$scope:{ctx:s}}}),E=new $e({props:{$$slots:{content:[No],name:[Ro]},$$scope:{ctx:s}}}),x=new $e({props:{$$slots:{content:[Uo],name:[Io]},$$scope:{ctx:s}}}),V=new $e({props:{$$slots:{content:[Mo],name:[Do]},$$scope:{ctx:s}}});let ie=s[1].id!=""&&Wn(s),Oe=s[7]&&Kn();function Qt(P,W){return P[7]?Go:P[1].id!=""?Bo:Jo}let ct=Qt(s),Ae=ct(s),ge=s[1].thumb!=""&&Yn(s),Le=s[1].dead&&Hn(),_e=s[1].contains.length>0&&Xn(s),be=s[1].id!=""&&Zn(s),ye=s[3]&&xn(s),we=s[8]!=""&&$n(s),ke=s[1].laspost!=""&&es(s);return{c(){t=h("main"),e=h("div"),Ie.c(),n=O(),o=h("section"),l=h("form"),ve&&ve.c(),i=O(),r=h("div"),u=h("div"),u.textContent="url*",c=O(),d=h("input"),g=O(),m=h("div"),_=h("div"),he(p.$$.fragment),q=O(),w=h("input"),R=O(),C=h("div"),k=h("div"),k.textContent="title*",v=O(),y=h("input"),b=O(),A=h("div"),T=h("div"),he(E.$$.fragment),M=O(),D=h("input"),ae=O(),Z=h("div"),Se=h("div"),he(x.$$.fragment),ee=O(),$=h("input"),te=O(),F=h("div"),Q=h("div"),Q.textContent="Extra information",ue=O(),j=h("textarea"),I=O(),K=h("div"),G=h("input"),N=O(),he(V.$$.fragment),J=O(),ie&&ie.c(),ce=O(),Oe&&Oe.c(),oe=O(),Ne=h("div"),Ae.c(),Vt=O(),Te=h("div"),ze=h("div"),ge&&ge.c(),St=O(),le=h("div"),Le&&Le.c(),Ot=O(),st=h("h3"),Lt=U(ot),Wt=O(),lt=h("div"),qt=U(it),Kt=O(),_e&&_e.c(),jt=O(),be&&be.c(),Pt=O(),ye&&ye.c(),Yt=O(),we&&we.c(),At=O(),Je=h("div"),ke&&ke.c(),Tt=O(),Ye=h("div"),rt=h("div"),at=h("div"),Et=U(s[4]),a(e,"class","container-header svelte-11muqml"),a(u,"class","labelholder svelte-11muqml"),a(u,"for","link"),a(d,"id","link"),a(d,"placeholder","https://en.wikipedia.org/wiki/Main_Page*"),a(d,"class","svelte-11muqml"),a(r,"class","svelte-11muqml"),a(_,"class","labelholder svelte-11muqml"),a(_,"for","observeName"),a(w,"id","observeName"),a(w,"placeholder",".post*"),a(w,"class","svelte-11muqml"),a(m,"class","svelte-11muqml"),a(k,"class","labelholder svelte-11muqml"),a(k,"for","name"),a(y,"id","name"),a(y,"placeholder","Title"),a(y,"class","svelte-11muqml"),a(C,"class","svelte-11muqml"),a(T,"class","labelholder svelte-11muqml"),a(T,"for","containsstr"),a(D,"id","containsstr"),a(D,"placeholder","foo,123,hello world,41234"),a(D,"class","svelte-11muqml"),a(A,"class","svelte-11muqml"),a(Se,"class","labelholder svelte-11muqml"),a(Se,"for","thumb"),a($,"id","thumb"),a($,"placeholder","https://validwebsite.com/image.png"),a($,"class","svelte-11muqml"),a(Z,"class","svelte-11muqml"),a(Q,"class","labelholder svelte-11muqml"),a(Q,"for","meta"),a(j,"id","meta"),a(j,"placeholder","Any extra info goes here"),a(j,"class","svelte-11muqml"),a(F,"class","svelte-11muqml"),a(G,"id","newestOnTop"),a(G,"type","checkbox"),a(G,"class","svelte-11muqml"),a(K,"class","select-holder svelte-11muqml"),a(Ne,"class","form-btns-holder svelte-11muqml"),a(l,"class","svelte-11muqml"),a(st,"class","svelte-11muqml"),a(lt,"class","hostName svelte-11muqml"),a(le,"class","postdata svelte-11muqml"),a(ze,"class","thumb svelte-11muqml"),a(at,"class","status-text svelte-11muqml"),a(rt,"class","status-content svelte-11muqml"),a(Ye,"class","status-box svelte-11muqml"),H(Ye,"statusActive",s[6]),a(Je,"class","status svelte-11muqml"),a(Te,"class","thumb-holder svelte-11muqml"),a(o,"class","new-section svelte-11muqml"),H(o,"btnActive",s[2]),a(t,"class","svelte-11muqml")},m(P,W){L(P,t,W),f(t,e),Ie.m(e,null),f(t,n),f(t,o),f(o,l),ve&&ve.m(l,null),f(l,i),f(l,r),f(r,u),f(r,c),f(r,d),fe(d,s[1].link),f(l,g),f(l,m),f(m,_),de(p,_,null),f(m,q),f(m,w),fe(w,s[1].observeName),f(l,R),f(l,C),f(C,k),f(C,v),f(C,y),fe(y,s[1].name),f(l,b),f(l,A),f(A,T),de(E,T,null),f(A,M),f(A,D),fe(D,s[0]),f(l,ae),f(l,Z),f(Z,Se),de(x,Se,null),f(Z,ee),f(Z,$),fe($,s[1].thumb),f(l,te),f(l,F),f(F,Q),f(F,ue),f(F,j),fe(j,s[1].meta),f(l,I),f(l,K),f(K,G),G.checked=s[1].newestOnTop,f(K,N),de(V,K,null),f(l,J),ie&&ie.m(l,null),f(l,ce),Oe&&Oe.m(l,null),f(l,oe),f(l,Ne),Ae.m(Ne,null),f(o,Vt),f(o,Te),f(Te,ze),ge&&ge.m(ze,null),f(ze,St),f(ze,le),Le&&Le.m(le,null),f(le,Ot),f(le,st),f(st,Lt),f(le,Wt),f(le,lt),f(lt,qt),f(le,Kt),_e&&_e.m(le,null),f(le,jt),be&&be.m(le,null),f(le,Pt),ye&&ye.m(le,null),f(Te,Yt),we&&we.m(Te,null),f(Te,At),f(Te,Je),ke&&ke.m(Je,null),f(Je,Tt),f(Je,Ye),f(Ye,rt),f(rt,at),f(at,Et),Be=!0,Rt||(Ht=[Y(d,"input",s[15]),Y(d,"input",s[16]),Y(d,"change",s[17]),Y(w,"input",s[18]),Y(y,"input",s[19]),Y(D,"input",s[20]),Y($,"input",s[21]),Y(j,"input",s[22]),Y(G,"change",s[23])],Rt=!0)},p(P,W){ut!==(ut=Xt(P))&&(Ie.d(1),Ie=ut(P),Ie&&(Ie.c(),Ie.m(e,null))),P[1].id!=""?ve?ve.p(P,W):(ve=Vn(P),ve.c(),ve.m(l,i)):ve&&(ve.d(1),ve=null),W[0]&2&&d.value!==P[1].link&&fe(d,P[1].link);const Zt={};W[1]&1024&&(Zt.$$scope={dirty:W,ctx:P}),p.$set(Zt),W[0]&2&&w.value!==P[1].observeName&&fe(w,P[1].observeName),W[0]&2&&y.value!==P[1].name&&fe(y,P[1].name);const xt={};W[1]&1024&&(xt.$$scope={dirty:W,ctx:P}),E.$set(xt),W[0]&1&&D.value!==P[0]&&fe(D,P[0]);const $t={};W[1]&1024&&($t.$$scope={dirty:W,ctx:P}),x.$set($t),W[0]&2&&$.value!==P[1].thumb&&fe($,P[1].thumb),W[0]&2&&fe(j,P[1].meta),W[0]&2&&(G.checked=P[1].newestOnTop);const en={};W[1]&1024&&(en.$$scope={dirty:W,ctx:P}),V.$set(en),P[1].id!=""?ie?(ie.p(P,W),W[0]&2&&B(ie,1)):(ie=Wn(P),ie.c(),B(ie,1),ie.m(l,ce)):ie&&(De(),X(ie,1,1,()=>{ie=null}),Me()),P[7]?Oe||(Oe=Kn(),Oe.c(),Oe.m(l,oe)):Oe&&(Oe.d(1),Oe=null),ct===(ct=Qt(P))&&Ae?Ae.p(P,W):(Ae.d(1),Ae=ct(P),Ae&&(Ae.c(),Ae.m(Ne,null))),P[1].thumb!=""?ge?ge.p(P,W):(ge=Yn(P),ge.c(),ge.m(ze,St)):ge&&(ge.d(1),ge=null),P[1].dead?Le||(Le=Hn(),Le.c(),Le.m(le,Ot)):Le&&(Le.d(1),Le=null),(!Be||W[0]&2)&&ot!==(ot=P[1].name+"")&&ne(Lt,ot),(!Be||W[0]&2)&&it!==(it=P[1].host+"")&&ne(qt,it),P[1].contains.length>0?_e?_e.p(P,W):(_e=Xn(P),_e.c(),_e.m(le,jt)):_e&&(_e.d(1),_e=null),P[1].id!=""?be?be.p(P,W):(be=Zn(P),be.c(),be.m(le,Pt)):be&&(be.d(1),be=null),P[3]?ye?ye.p(P,W):(ye=xn(P),ye.c(),ye.m(le,null)):ye&&(ye.d(1),ye=null),P[8]!=""?we?we.p(P,W):(we=$n(P),we.c(),we.m(Te,At)):we&&(we.d(1),we=null),P[1].laspost!=""?ke?ke.p(P,W):(ke=es(P),ke.c(),ke.m(Je,Tt)):ke&&(ke.d(1),ke=null),(!Be||W[0]&16)&&ne(Et,P[4]),W[0]&64&&H(Ye,"statusActive",P[6]),W[0]&4&&H(o,"btnActive",P[2])},i(P){Be||(B(p.$$.fragment,P),B(E.$$.fragment,P),B(x.$$.fragment,P),B(V.$$.fragment,P),B(ie),Be=!0)},o(P){X(p.$$.fragment,P),X(E.$$.fragment,P),X(x.$$.fragment,P),X(V.$$.fragment,P),X(ie),Be=!1},d(P){P&&S(t),Ie.d(),ve&&ve.d(),pe(p),pe(E),pe(x),pe(V),ie&&ie.d(),Oe&&Oe.d(),Ae.d(),ge&&ge.d(),Le&&Le.d(),_e&&_e.d(),be&&be.d(),ye&&ye.d(),we&&we.d(),ke&&ke.d(),Rt=!1,me(Ht)}}}let ns=!1;function Wo(s,t,e){let n;Ce(s,Us,j=>e(28,n=j));const o=window.localStorage.getItem("pocketbase_auth");let l=o?JSON.parse(o):!1,i=!1,r=!1,u="",c="Creating new",d=[],g=!1,m=!1;const _=new URLSearchParams(n);let p={id:"",name:"",link:"",host:"",observeName:"",contains:[],newestOnTop:!1,thumb:"",dead:!1,laspost:"",meta:"",updates:1};const q={method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"},w=j=>{try{return j===""||document.querySelector(j),!0}catch(I){console.warn(I)}return!1},R=j=>{try{return new URL(j),!0}catch(I){console.warn(I)}return!1};function C(){e(1,p.id="",p),e(1,p.name="",p),e(1,p.link="",p),e(1,p.observeName="",p),e(1,p.contains=[],p),e(1,p.newestOnTop=!1,p),e(1,p.thumb="",p),e(1,p.dead=!1,p),e(1,p.meta="",p),e(1,p.laspost="",p),e(1,p.host="",p),e(6,g=!1)}async function k(){try{if(console.log(p),e(6,g=!0),e(4,c="posting..."),e(2,i=!1),p.name==="")throw"empty name";if(!r)throw"invalid url";if(!w(p.observeName))throw"invalid selector";e(1,p.host=new URL(p.link).hostname,p);const j=await se.records.update("channel",p.id,p);j&&(console.log(j),e(6,g=!0),e(4,c=`${p.id} updated!`),e(2,i=!0))}catch(j){return console.warn(j),e(6,g=!0),e(4,c=`error updating, ${j}`),e(2,i=!0),!1}}async function v(){try{if(p.name==="")throw"empty name";if(!r)throw"invalid url";if(!w(p.observeName))throw"invalid selector";e(1,p.host=new URL(p.link).hostname,p),e(6,g=!0),e(4,c="creating..."),e(2,i=!1),delete p.id,console.log("sending...",p);const j=await se.records.create("channel",{...p,user:l.model.id});if(j){console.log(j),e(1,p.id=j.id,p);const I=[];I.push(p.id),e(6,g=!0),e(4,c="updating...");const K=await fetch("http://localhost:4002/api/getnewupsates",{...q,body:JSON.stringify({ids:I})});console.log(K);const G=await se.records.getFullList("news");Xe.update(N=>G.length),e(6,g=!0),e(4,c="New target created!"),e(2,i=!0),Ee(`/new?id=${j.id}`)}}catch(j){return console.warn(j),e(4,c=`error updating, ${j}`),e(2,i=!0),!1}}async function y(){e(6,g=!0),e(4,c="deleting..."),e(2,i=!1);const j=await se.records.delete("channel",p.id);console.log(j),C(),e(4,c=`${p.id} deleted`),e(2,i=!0),e(7,m=!1),setTimeout(()=>{Ee("/")},1e3)}async function b(j){if(console.log(j),r){e(6,g=!0),e(4,c="checking url...");let I=null;const K=await se.records.getList("channel",1,1,{filter:`host = "${new URL(j).hostname}"`,sort:"-created"});if(K&&K.items.length>0){const N=K.items[0];e(1,p.observeName=(N==null?void 0:N.observeName)===""?p.observeName:N==null?void 0:N.observeName,p),e(1,p.newestOnTop=N==null?void 0:N.newestOnTop,p),I=N==null?void 0:N.thumb}e(4,c="trying metadata...");const G=await fetch("http://localhost:4002/api/trymeta",{...q,body:JSON.stringify({link:p.link})});if(G.ok){const N=await G.json();console.log(N),e(1,p.name=N.name===""?p.name:N.name,p),e(1,p.thumb=N.thumb===""?I||p.thumb:N.thumb,p),e(4,c=N.name!=""||N.thumb!=""?"fetched metadata from url":"metadata not available")}else e(4,c="page is not available right now")}}let A="";async function T(){let j="http://localhost:4002//#/new";for(const I in p)I!="laspost"&&I!="id"&&(typeof p[I]=="string"?j=`${j}&${I}=${p[I]}`:typeof p[I]=="boolean"?j=`${j}&${I}=${p[I]==="true"}`:typeof p[I]=="object"&&(j=`${j}&${I}=${p[I].join(",")}`));console.log(j.replace("&","?")),await navigator.clipboard.writeText(j.replace("&","?")),e(6,g=!0),e(4,c="ibhub backup url copied to clipboard"),setTimeout(()=>{e(6,g=!1)},3e3),e(8,A=j.replace("&","?"))}kt(async()=>{for(const j in p)_.get(j)&&(typeof p[j]=="string"?e(1,p[j]=_.get(j),p):typeof p[j]=="boolean"?e(1,p[j]=_.get(j)==="true",p):typeof p[j]=="object"&&e(1,p[j]=_.get(j).split(","),p));if(_.get("id"))try{e(6,g=!0),e(4,c="fetching data...");const j=await se.records.getOne("channel",_.get("id"));if(console.log(_.get("id")),j){console.log(j);for(const I in p)e(1,p[I]=j[I],p);e(6,g=!1),e(0,u=p.contains.toString()),e(5,d=await se.records.getFullList("news")),console.log(j)}else e(4,c="Url id not found"),C(),Ee("/new")}catch(j){console.warn(j),Ee("/error")}e(2,i=!0)});function E(){p.link=this.value,e(1,p),e(0,u)}const M=()=>b(p.link),D=()=>b(p.link);function ae(){p.observeName=this.value,e(1,p),e(0,u)}function Z(){p.name=this.value,e(1,p),e(0,u)}function Se(){u=this.value,e(0,u)}function x(){p.thumb=this.value,e(1,p),e(0,u)}function ee(){p.meta=this.value,e(1,p),e(0,u)}function $(){p.newestOnTop=this.checked,e(1,p),e(0,u)}function te(){p.dead=this.checked,e(1,p),e(0,u)}const F=()=>e(7,m=!1),Q=()=>e(7,m=!0),ue=j=>j.channelid===p.id;return s.$$.update=()=>{s.$$.dirty[0]&3&&(e(1,p.contains=u===""?[]:u.split(","),p),e(3,r=R(p.link)),window.data=p)},[u,p,i,r,c,d,g,m,A,C,k,v,y,b,T,E,M,D,ae,Z,Se,x,ee,$,te,F,Q,ue]}class Ko extends Pe{constructor(t){super(),je(this,t,Wo,Vo,qe,{},null,[-1,-1])}}function Yo(s){let t;return{c(){t=h("h1"),t.textContent="Error, check if the server still up or if your internet connection is fine"},m(e,n){L(e,t,n)},p:z,i:z,o:z,d(e){e&&S(t)}}}class Ho extends Pe{constructor(t){super(),je(this,t,null,Yo,qe,{})}}function Xo(s){let t,e,n,o,l,i,r,u,c,d,g,m,_,p,q,w,R,C=s[2]&&ss(s);return{c(){t=h("h1"),t.textContent="Ibhub login",e=O(),n=h("div"),o=U("email: "),l=h("input"),i=O(),r=h("div"),u=U("password: "),c=h("input"),d=O(),g=h("button"),g.textContent="Register",m=O(),_=h("button"),_.textContent="login",p=O(),C&&C.c(),q=Qe(),a(l,"type","text"),a(l,"name",""),a(n,"class","input svelte-php5by"),a(c,"type","password"),a(c,"name",""),a(r,"class","input svelte-php5by"),a(g,"class","svelte-php5by"),a(_,"class","svelte-php5by")},m(k,v){L(k,t,v),L(k,e,v),L(k,n,v),f(n,o),f(n,l),fe(l,s[4].email),L(k,i,v),L(k,r,v),f(r,u),f(r,c),fe(c,s[4].password),L(k,d,v),L(k,g,v),L(k,m,v),L(k,_,v),L(k,p,v),C&&C.m(k,v),L(k,q,v),w||(R=[Y(l,"input",s[8]),Y(c,"input",s[9]),Y(g,"click",s[6]),Y(_,"click",s[7])],w=!0)},p(k,v){v&16&&l.value!==k[4].email&&fe(l,k[4].email),v&16&&c.value!==k[4].password&&fe(c,k[4].password),k[2]?C?C.p(k,v):(C=ss(k),C.c(),C.m(q.parentNode,q)):C&&(C.d(1),C=null)},d(k){k&&S(t),k&&S(e),k&&S(n),k&&S(i),k&&S(r),k&&S(d),k&&S(g),k&&S(m),k&&S(_),k&&S(p),C&&C.d(k),k&&S(q),w=!1,me(R)}}}function Qo(s){let t,e,n=s[0][s[0].model?"model":"user"].email+"",o,l,i,r,u;return{c(){t=h("div"),e=U("Welcome "),o=U(n),l=O(),i=h("button"),i.textContent="logout",a(t,"class","success svelte-php5by"),a(i,"class","svelte-php5by")},m(c,d){L(c,t,d),f(t,e),f(t,o),L(c,l,d),L(c,i,d),r||(u=Y(i,"click",s[5]),r=!0)},p(c,d){d&1&&n!==(n=c[0][c[0].model?"model":"user"].email+"")&&ne(o,n)},d(c){c&&S(t),c&&S(l),c&&S(i),r=!1,u()}}}function ss(s){let t,e,n;return{c(){t=h("div"),e=U(s[3]),a(t,"class",n=rn(s[1])+" svelte-php5by")},m(o,l){L(o,t,l),f(t,e)},p(o,l){l&8&&ne(e,o[3]),l&2&&n!==(n=rn(o[1])+" svelte-php5by")&&a(t,"class",n)},d(o){o&&S(t)}}}function Zo(s){let t,e;function n(i,r){return i[0]?Qo:Xo}let o=n(s),l=o(s);return{c(){t=h("main"),e=h("article"),l.c(),a(e,"class","svelte-php5by")},m(i,r){L(i,t,r),f(t,e),l.m(e,null)},p(i,[r]){o===(o=n(i))&&l?l.p(i,r):(l.d(1),l=o(i),l&&(l.c(),l.m(e,null)))},i:z,o:z,d(i){i&&S(t),l.d()}}}function xo(s,t,e){const n=window.localStorage.getItem("pocketbase_auth");let o=n?JSON.parse(n):!1,l="success",i=!1,r="";o&&(se.authStore.save(o.token,o.model),console.log(o));async function u(){se.authStore.clear(),e(0,o=!1)}let c={email:"",password:""};async function d(){try{const q=await se.users.create({email:c.email,password:c.password,passwordConfirm:c.password});console.log(q),q&&g()}catch{e(1,l="error"),e(2,i=!0),e(3,r="email already used")}}async function g(){const q=await se.users.requestVerification(c.email);q&&(console.log(q),e(1,l="success"),e(2,i=!0),e(3,r="Account created successfully, please verify your email"))}async function m(){const q=await se.users.authViaEmail(c.email,c.password);q&&(console.log(q),e(0,o=q))}function _(){c.email=this.value,e(4,c)}function p(){c.password=this.value,e(4,c)}return[o,l,i,r,c,u,d,m,_,p]}class $o extends Pe{constructor(t){super(),je(this,t,xo,Zo,qe,{})}}function el(s){let t,e,n,o,l,i,r,u,c,d,g,m,_,p,q,w,R,C,k;return document.title=t=s[0]+" ibhub",q=new go({}),C=new Fs({props:{routes:{"/dashboard":co,"/feed":Co,"/new":Ko,"/error":Ho,"/":$o}}}),{c(){e=O(),n=h("main"),o=h("nav"),l=h("a"),l.textContent="Home",i=O(),r=h("a"),r.textContent="Dashboard",u=O(),c=h("a"),d=U(`Feed 
			`),g=h("strong"),m=U(s[0]),_=O(),p=h("div"),he(q.$$.fragment),w=O(),R=h("div"),he(C.$$.fragment),a(l,"href","/#/"),a(l,"class","svelte-fwyfr5"),H(l,"active",s[1]==="/"),a(r,"href","/#/dashboard"),a(r,"class","svelte-fwyfr5"),H(r,"active",s[1]==="/dashboard"),a(c,"href","/#/feed"),a(c,"class","svelte-fwyfr5"),H(c,"active",s[1]==="/feed"),a(p,"class","settings svelte-fwyfr5"),a(o,"class","svelte-fwyfr5"),a(R,"class","app svelte-fwyfr5")},m(v,y){L(v,e,y),L(v,n,y),f(n,o),f(o,l),f(o,i),f(o,r),f(o,u),f(o,c),f(c,d),f(c,g),f(g,m),f(o,_),f(o,p),de(q,p,null),f(n,w),f(n,R),de(C,R,null),k=!0},p(v,[y]){(!k||y&1)&&t!==(t=v[0]+" ibhub")&&(document.title=t),y&2&&H(l,"active",v[1]==="/"),y&2&&H(r,"active",v[1]==="/dashboard"),(!k||y&1)&&ne(m,v[0]),y&2&&H(c,"active",v[1]==="/feed")},i(v){k||(B(q.$$.fragment,v),B(C.$$.fragment,v),k=!0)},o(v){X(q.$$.fragment,v),X(C.$$.fragment,v),k=!1},d(v){v&&S(e),v&&S(n),pe(q),pe(C)}}}function tl(s,t,e){let n,o;Ce(s,Xe,i=>e(2,n=i)),Ce(s,Is,i=>e(1,o=i)),(async()=>{const i=await se.records.getFullList("news");Xe.update(r=>i.length)})();let l="";return s.$$.update=()=>{s.$$.dirty&4&&(n>0?e(0,l=`(${n})`):e(0,l=""))},[l,o,n]}class nl extends Pe{constructor(t){super(),je(this,t,tl,el,qe,{})}}console.log("http://localhost:4002");console.log("http://127.0.0.1:8090");new nl({target:document.getElementById("app")});
