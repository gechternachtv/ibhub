var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function o(){return Object.create(null)}function s(t){t.forEach(n)}function c(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let l,i;function a(t,e){return l||(l=document.createElement("a")),l.href=e,t===l.href}function u(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function d(t,e,n){t.$$.on_destroy.push(u(e,n))}function f(t,e){t.appendChild(e)}function h(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function m(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function v(t){return document.createTextNode(t)}function b(){return v(" ")}function w(){return v("")}function $(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function k(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function _(t,e){t.value=null==e?"":e}function x(t,e,n){t.classList[n?"add":"remove"](e)}function E(t){i=t}function z(){if(!i)throw new Error("Function called outside component initialization");return i}function j(t){z().$$.on_mount.push(t)}function N(){const t=z();return(e,n,{cancelable:o=!1}={})=>{const s=t.$$.callbacks[e];if(s){const c=function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,o,e),s}(e,n,{cancelable:o});return s.slice().forEach((e=>{e.call(t,c)})),!c.defaultPrevented}return!0}}function C(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const O=[],S=[],A=[],L=[],T=Promise.resolve();let R=!1;function P(){R||(R=!0,T.then(J))}function D(t){A.push(t)}const q=new Set;let F=0;function J(){const t=i;do{for(;F<O.length;){const t=O[F];F++,E(t),U(t.$$)}for(E(null),O.length=0,F=0;S.length;)S.pop()();for(let t=0;t<A.length;t+=1){const e=A[t];q.has(e)||(q.add(e),e())}A.length=0}while(O.length);for(;L.length;)L.pop()();R=!1,q.clear(),E(t)}function U(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}const I=new Set;let M;function W(){M={r:0,c:[],p:M}}function X(){M.r||s(M.c),M=M.p}function Y(t,e){t&&t.i&&(I.delete(t),t.i(e))}function B(t,e,n,o){if(t&&t.o){if(I.has(t))return;I.add(t),M.c.push((()=>{I.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function G(t,e){const n={},o={},s={$$scope:1};let c=t.length;for(;c--;){const r=t[c],l=e[c];if(l){for(const t in r)t in l||(o[t]=1);for(const t in l)s[t]||(n[t]=l[t],s[t]=1);t[c]=l}else for(const t in r)s[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}function H(t){return"object"==typeof t&&null!==t?t:{}}function K(t){t&&t.c()}function Q(t,e,o,r){const{fragment:l,on_mount:i,on_destroy:a,after_update:u}=t.$$;l&&l.m(e,o),r||D((()=>{const e=i.map(n).filter(c);a?a.push(...e):s(e),t.$$.on_mount=[]})),u.forEach(D)}function V(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Z(e,n,c,r,l,a,u,d=[-1]){const f=i;E(e);const h=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:l,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:o(),dirty:d,skip_bound:!1,root:n.target||f.$$.root};u&&u(h.root);let m=!1;if(h.ctx=c?c(e,n.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return h.ctx&&l(h.ctx[t],h.ctx[t]=s)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](s),m&&function(t,e){-1===t.$$.dirty[0]&&(O.push(t),P(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],h.update(),m=!0,s(h.before_update),h.fragment=!!r&&r(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(p)}else h.fragment&&h.fragment.c();n.intro&&Y(e.$$.fragment),Q(e,n.target,n.anchor,n.customElement),J()}E(f)}class tt{$destroy(){V(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const et=[];function nt(t,e){return{subscribe:ot(t,e).subscribe}}function ot(e,n=t){let o;const s=new Set;function c(t){if(r(e,t)&&(e=t,o)){const t=!et.length;for(const t of s)t[1](),et.push(t,e);if(t){for(let t=0;t<et.length;t+=2)et[t][0](et[t+1]);et.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(r,l=t){const i=[r,l];return s.add(i),1===s.size&&(o=n(c)||t),r(e),()=>{s.delete(i),0===s.size&&(o(),o=null)}}}}function st(e,n,o){const r=!Array.isArray(e),l=r?[e]:e,i=n.length<2;return nt(o,(e=>{let o=!1;const a=[];let d=0,f=t;const h=()=>{if(d)return;f();const o=n(r?a[0]:a,e);i?e(o):f=c(o)?o:t},p=l.map(((t,e)=>u(t,(t=>{a[e]=t,d&=~(1<<e),o&&h()}),(()=>{d|=1<<e}))));return o=!0,h(),function(){s(p),f()}}))}function ct(t){let n,o,s;const c=[t[2]];var r=t[0];function l(t){let n={};for(let t=0;t<c.length;t+=1)n=e(n,c[t]);return{props:n}}return r&&(n=new r(l()),n.$on("routeEvent",t[7])),{c(){n&&K(n.$$.fragment),o=w()},m(t,e){n&&Q(n,t,e),h(t,o,e),s=!0},p(t,e){const s=4&e?G(c,[H(t[2])]):{};if(r!==(r=t[0])){if(n){W();const t=n;B(t.$$.fragment,1,0,(()=>{V(t,1)})),X()}r?(n=new r(l()),n.$on("routeEvent",t[7]),K(n.$$.fragment),Y(n.$$.fragment,1),Q(n,o.parentNode,o)):n=null}else r&&n.$set(s)},i(t){s||(n&&Y(n.$$.fragment,t),s=!0)},o(t){n&&B(n.$$.fragment,t),s=!1},d(t){t&&p(o),n&&V(n,t)}}}function rt(t){let n,o,s;const c=[{params:t[1]},t[2]];var r=t[0];function l(t){let n={};for(let t=0;t<c.length;t+=1)n=e(n,c[t]);return{props:n}}return r&&(n=new r(l()),n.$on("routeEvent",t[6])),{c(){n&&K(n.$$.fragment),o=w()},m(t,e){n&&Q(n,t,e),h(t,o,e),s=!0},p(t,e){const s=6&e?G(c,[2&e&&{params:t[1]},4&e&&H(t[2])]):{};if(r!==(r=t[0])){if(n){W();const t=n;B(t.$$.fragment,1,0,(()=>{V(t,1)})),X()}r?(n=new r(l()),n.$on("routeEvent",t[6]),K(n.$$.fragment),Y(n.$$.fragment,1),Q(n,o.parentNode,o)):n=null}else r&&n.$set(s)},i(t){s||(n&&Y(n.$$.fragment,t),s=!0)},o(t){n&&B(n.$$.fragment,t),s=!1},d(t){t&&p(o),n&&V(n,t)}}}function lt(t){let e,n,o,s;const c=[rt,ct],r=[];function l(t,e){return t[1]?0:1}return e=l(t),n=r[e]=c[e](t),{c(){n.c(),o=w()},m(t,n){r[e].m(t,n),h(t,o,n),s=!0},p(t,[s]){let i=e;e=l(t),e===i?r[e].p(t,s):(W(),B(r[i],1,1,(()=>{r[i]=null})),X(),n=r[e],n?n.p(t,s):(n=r[e]=c[e](t),n.c()),Y(n,1),n.m(o.parentNode,o))},i(t){s||(Y(n),s=!0)},o(t){B(n),s=!1},d(t){r[e].d(t),t&&p(o)}}}function it(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let o="";return n>-1&&(o=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:o}}const at=nt(null,(function(t){t(it());const e=()=>{t(it())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));st(at,(t=>t.location));const ut=st(at,(t=>t.querystring)),dt=ot(void 0);function ft(t,e,n){let{routes:o={}}=e,{prefix:s=""}=e,{restoreScrollState:c=!1}=e;class r{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:o}=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,o,s,c,r=[],l="",i=t.split("/");for(i[0]||i.shift();s=i.shift();)"*"===(n=s[0])?(r.push("wild"),l+="/(.*)"):":"===n?(o=s.indexOf("?",1),c=s.indexOf(".",1),r.push(s.substring(1,~o?o:~c?c:s.length)),l+=~o&&!~c?"(?:/([^/]+?))?":"/([^/]+?)",~c&&(l+=(~o?"?":"")+"\\"+s.substring(c))):l+="/"+s;return{keys:r,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.component,this.conditions=e.conditions||[],this.userData=e.userData,this.props=e.props||{}):(this.component=()=>Promise.resolve(e),this.conditions=[],this.props={}),this._pattern=n,this._keys=o}match(t){if(s)if("string"==typeof s){if(!t.startsWith(s))return null;t=t.substr(s.length)||"/"}else if(s instanceof RegExp){const e=t.match(s);if(!e||!e[0])return null;t=t.substr(e[0].length)||"/"}const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let o=0;for(;o<this._keys.length;){try{n[this._keys[o]]=decodeURIComponent(e[o+1]||"")||null}catch(t){n[this._keys[o]]=null}o++}return n}async checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!await this.conditions[e](t))return!1;return!0}}const l=[];o instanceof Map?o.forEach(((t,e)=>{l.push(new r(e,t))})):Object.keys(o).forEach((t=>{l.push(new r(t,o[t]))}));let i=null,a=null,u={};const d=N();async function f(t,e){await(P(),T),d(t,e)}let h=null,p=null;var m;c&&(p=t=>{h=t.state&&(t.state.__svelte_spa_router_scrollY||t.state.__svelte_spa_router_scrollX)?t.state:null},window.addEventListener("popstate",p),m=()=>{var t;(t=h)?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)},z().$$.after_update.push(m));let g=null,v=null;const b=at.subscribe((async t=>{g=t;let e=0;for(;e<l.length;){const o=l[e].match(t.location);if(!o){e++;continue}const s={route:l[e].path,location:t.location,querystring:t.querystring,userData:l[e].userData,params:o&&"object"==typeof o&&Object.keys(o).length?o:null};if(!await l[e].checkConditions(s))return n(0,i=null),v=null,void f("conditionsFailed",s);f("routeLoading",Object.assign({},s));const c=l[e].component;if(v!=c){c.loading?(n(0,i=c.loading),v=c,n(1,a=c.loadingParams),n(2,u={}),f("routeLoaded",Object.assign({},s,{component:i,name:i.name,params:a}))):(n(0,i=null),v=null);const e=await c();if(t!=g)return;n(0,i=e&&e.default||e),v=c}return o&&"object"==typeof o&&Object.keys(o).length?n(1,a=o):n(1,a=null),n(2,u=l[e].props),void f("routeLoaded",Object.assign({},s,{component:i,name:i.name,params:a})).then((()=>{dt.set(a)}))}n(0,i=null),v=null,dt.set(void 0)}));return function(t){z().$$.on_destroy.push(t)}((()=>{b(),p&&window.removeEventListener("popstate",p)})),t.$$set=t=>{"routes"in t&&n(3,o=t.routes),"prefix"in t&&n(4,s=t.prefix),"restoreScrollState"in t&&n(5,c=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=c?"manual":"auto")},[i,a,u,o,s,c,function(e){C.call(this,t,e)},function(e){C.call(this,t,e)}]}class ht extends tt{constructor(t){super(),Z(this,t,ft,lt,r,{routes:3,prefix:4,restoreScrollState:5})}}function pt(t,e,n){const o=t.slice();return o[2]=e[n],o}function mt(t){let e;return{c(){e=g("div"),e.textContent="[Dead]",y(e,"class","dead svelte-uwti4m")},m(t,n){h(t,e,n)},d(t){t&&p(e)}}}function gt(t){let e,n,o,s=t[2].contains+"";return{c(){e=g("div"),n=v("[contains:]"),o=v(s)},m(t,s){h(t,e,s),f(e,n),f(e,o)},p(t,e){1&e&&s!==(s=t[2].contains+"")&&k(o,s)},d(t){t&&p(e)}}}function vt(t){let e,n,o,s,c,r,l,i,u,d,m,w,$,_,x,E,z,j,N,C,O,S,A,L,T,R,P=t[2].name+"",D=t[2].updates+"",q=t[2].link+"",F=t[2].dead&&mt(),J=""!=t[2].contains&&gt(t);return{c(){e=g("div"),n=g("div"),o=g("a"),s=g("img"),l=b(),i=g("div"),u=v(P),d=b(),F&&F.c(),m=b(),J&&J.c(),w=b(),$=g("div"),_=v("posts:"),x=v(D),E=b(),z=g("div"),j=g("a"),N=v(q),O=b(),S=g("div"),A=g("a"),L=v("update"),R=b(),y(s,"loading","lazy"),a(s.src,c=t[2].thumb)||y(s,"src",c),y(s,"alt",""),y(s,"class","svelte-uwti4m"),y(o,"href",r=t[2].link),y(o,"target","_blank"),y(n,"class","thumb svelte-uwti4m"),y(j,"href",C=t[2].link),y(j,"target","_blank"),y(A,"href",T="/#/new?id="+t[2].id+"&name="+t[2].name+"&contains="+t[2].contains+"&observeName="+t[2].observeName+"&link="+t[2].link+"&thumb="+t[2].thumb+"&dead="+t[2].dead),y(e,"class","card svelte-uwti4m")},m(t,c){h(t,e,c),f(e,n),f(n,o),f(o,s),f(e,l),f(e,i),f(i,u),f(e,d),F&&F.m(e,null),f(e,m),J&&J.m(e,null),f(e,w),f(e,$),f($,_),f($,x),f(e,E),f(e,z),f(z,j),f(j,N),f(e,O),f(e,S),f(S,A),f(A,L),f(e,R)},p(t,n){1&n&&!a(s.src,c=t[2].thumb)&&y(s,"src",c),1&n&&r!==(r=t[2].link)&&y(o,"href",r),1&n&&P!==(P=t[2].name+"")&&k(u,P),t[2].dead?F||(F=mt(),F.c(),F.m(e,m)):F&&(F.d(1),F=null),""!=t[2].contains?J?J.p(t,n):(J=gt(t),J.c(),J.m(e,w)):J&&(J.d(1),J=null),1&n&&D!==(D=t[2].updates+"")&&k(x,D),1&n&&q!==(q=t[2].link+"")&&k(N,q),1&n&&C!==(C=t[2].link)&&y(j,"href",C),1&n&&T!==(T="/#/new?id="+t[2].id+"&name="+t[2].name+"&contains="+t[2].contains+"&observeName="+t[2].observeName+"&link="+t[2].link+"&thumb="+t[2].thumb+"&dead="+t[2].dead)&&y(A,"href",T)},d(t){t&&p(e),F&&F.d(),J&&J.d()}}}function bt(e){let n,o,s,c,r=[...e[0]].reverse(),l=[];for(let t=0;t<r.length;t+=1)l[t]=vt(pt(e,r,t));return{c(){n=g("main"),o=g("h1"),o.textContent="Active Channels",s=b(),c=g("div");for(let t=0;t<l.length;t+=1)l[t].c();y(o,"class","svelte-uwti4m"),y(c,"class","container svelte-uwti4m"),y(n,"class","svelte-uwti4m")},m(t,e){h(t,n,e),f(n,o),f(n,s),f(n,c);for(let t=0;t<l.length;t+=1)l[t].m(c,null)},p(t,[e]){if(1&e){let n;for(r=[...t[0]].reverse(),n=0;n<r.length;n+=1){const o=pt(t,r,n);l[n]?l[n].p(o,e):(l[n]=vt(o),l[n].c(),l[n].m(c,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=r.length}},i:t,o:t,d(t){t&&p(n),m(l,t)}}}function wt(t,e,n){let o=[];return j((async()=>{n(0,o=await(await fetch("/channels")).json()),console.log(o)})),[o]}class $t extends tt{constructor(t){super(),Z(this,t,wt,bt,r,{})}}const yt=ot(0);function kt(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function _t(t){let e;return{c(){e=g("div"),e.textContent="[ NEW !]",y(e,"class","newpost")},m(t,n){h(t,e,n)},d(t){t&&p(e)}}}function xt(t){let e,n,o,s,c,r,l,i,u,d,m,w,$,_,x,E,z,j=t[1].find(S),N=t[4].title+"",C=t[4].content+"",O=t[4].link+"";function S(...e){return t[2](t[4],...e)}let A=j&&_t();return{c(){e=g("div"),A&&A.c(),n=b(),o=g("div"),s=g("img"),r=b(),l=g("h2"),i=v(N),u=b(),d=g("div"),m=v(C),w=b(),$=g("div"),_=g("a"),x=v(O),z=b(),y(s,"loading","lazy"),a(s.src,c=t[4].image)||y(s,"src",c),y(s,"alt",""),y(s,"class","svelte-1alt9so"),y(o,"class","thumb svelte-1alt9so"),y(_,"href",E=t[4].link),y(e,"class","card svelte-1alt9so")},m(t,c){h(t,e,c),A&&A.m(e,null),f(e,n),f(e,o),f(o,s),f(e,r),f(e,l),f(l,i),f(e,u),f(e,d),f(d,m),f(e,w),f(e,$),f($,_),f(_,x),f(e,z)},p(o,r){t=o,3&r&&(j=t[1].find(S)),j?A||(A=_t(),A.c(),A.m(e,n)):A&&(A.d(1),A=null),1&r&&!a(s.src,c=t[4].image)&&y(s,"src",c),1&r&&N!==(N=t[4].title+"")&&k(i,N),1&r&&C!==(C=t[4].content+"")&&k(m,C),1&r&&O!==(O=t[4].link+"")&&k(x,O),1&r&&E!==(E=t[4].link)&&y(_,"href",E)},d(t){t&&p(e),A&&A.d()}}}function Et(e){let n,o,s,c,r=[...e[0]].reverse(),l=[];for(let t=0;t<r.length;t+=1)l[t]=xt(kt(e,r,t));return{c(){n=g("main"),o=g("h1"),o.textContent="Feed",s=b(),c=g("div");for(let t=0;t<l.length;t+=1)l[t].c();y(o,"class","svelte-1alt9so"),y(c,"class","container svelte-1alt9so"),y(n,"class","svelte-1alt9so")},m(t,e){h(t,n,e),f(n,o),f(n,s),f(n,c);for(let t=0;t<l.length;t+=1)l[t].m(c,null)},p(t,[e]){if(3&e){let n;for(r=[...t[0]].reverse(),n=0;n<r.length;n+=1){const o=kt(t,r,n);l[n]?l[n].p(o,e):(l[n]=xt(o),l[n].c(),l[n].m(c,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=r.length}},i:t,o:t,d(t){t&&p(n),m(l,t)}}}function zt(t,e,n){let o=[],s=[];j((async()=>{n(0,o=await(await fetch("/feed")).json()),console.log(o),n(1,s=await(await fetch("/getnews")).json()),window.channels=o,window.news=s,yt.update((t=>0)),fetch("/readallnews")}));return[o,s,(t,e)=>e===t.postid]}class jt extends tt{constructor(t){super(),Z(this,t,zt,Et,r,{})}}function Nt(t){let e,n,o,s,c,r,l,i=t[1].id+"";return{c(){e=g("div"),n=v("Updating: "),o=v(i),s=b(),c=g("button"),c.textContent="Clear",y(c,"class","svelte-1cz8zw5"),y(e,"class","id svelte-1cz8zw5")},m(i,a){h(i,e,a),f(e,n),f(e,o),f(e,s),f(e,c),r||(l=$(c,"click",t[3]),r=!0)},p(t,e){2&e&&i!==(i=t[1].id+"")&&k(o,i)},d(t){t&&p(e),r=!1,l()}}}function Ct(t){let e,n,o,s;return{c(){e=v("dead: "),n=g("input"),y(n,"type","checkbox"),y(n,"class","svelte-1cz8zw5")},m(c,r){h(c,e,r),h(c,n,r),n.checked=t[1].dead,o||(s=$(n,"change",t[12]),o=!0)},p(t,e){2&e&&(n.checked=t[1].dead)},d(t){t&&p(e),t&&p(n),o=!1,s()}}}function Ot(e){let n,o,s;return{c(){n=g("button"),n.textContent="New!",y(n,"type","button"),y(n,"class","svelte-1cz8zw5")},m(t,c){h(t,n,c),o||(s=$(n,"click",e[5]),o=!0)},p:t,d(t){t&&p(n),o=!1,s()}}}function St(e){let n,o,s;return{c(){n=g("button"),n.textContent="Update!",y(n,"type","button"),y(n,"class","svelte-1cz8zw5")},m(t,c){h(t,n,c),o||(s=$(n,"click",e[4]),o=!0)},p:t,d(t){t&&p(n),o=!1,s()}}}function At(e){let n,o,s;return{c(){n=g("button"),n.textContent="Delete!",y(n,"type","button"),y(n,"class","svelte-1cz8zw5")},m(t,c){h(t,n,c),o||(s=$(n,"click",e[6]),o=!0)},p:t,d(t){t&&p(n),o=!1,s()}}}function Lt(t){let e,n,o;return{c(){e=g("div"),n=g("img"),a(n.src,o=t[1].thumb)||y(n,"src",o),y(n,"alt","data.name"),y(e,"class","thumb")},m(t,o){h(t,e,o),f(e,n)},p(t,e){2&e&&!a(n.src,o=t[1].thumb)&&y(n,"src",o)},d(t){t&&p(e)}}}function Tt(t){let e,n,o;return{c(){e=v("Result:\t\n\t"),n=g("h2"),o=v(t[2])},m(t,s){h(t,e,s),h(t,n,s),f(n,o)},p(t,e){4&e&&k(o,t[2])},d(t){t&&p(e),t&&p(n)}}}function Rt(e){let n,o,c,r,l,i,a,u,d,m,v,k,E,z,j,N,C,O,S,A,L=""!=e[1].id&&Nt(e),T=""!=e[1].id&&Ct(e);function R(t,e){return""!=t[1].id?St:Ot}let P=R(e),D=P(e),q=""!=e[1].id&&At(e),F=""!=e[1].thumb&&Lt(e),J=""!=e[2]&&Tt(e);return{c(){n=g("section"),L&&L.c(),o=b(),c=g("form"),r=g("input"),l=b(),i=g("input"),a=b(),u=g("input"),d=b(),m=g("input"),v=b(),k=g("input"),E=b(),T&&T.c(),z=b(),D.c(),j=b(),q&&q.c(),N=b(),F&&F.c(),C=b(),J&&J.c(),O=w(),y(r,"placeholder","name*"),y(r,"class","svelte-1cz8zw5"),y(i,"placeholder","link*"),y(i,"class","svelte-1cz8zw5"),y(u,"placeholder","observer*"),y(u,"class","svelte-1cz8zw5"),y(m,"placeholder","contains"),y(m,"class","svelte-1cz8zw5"),y(k,"placeholder","thumb"),y(k,"class","svelte-1cz8zw5"),y(n,"class","svelte-1cz8zw5"),x(n,"btnActive",e[0])},m(t,s){h(t,n,s),L&&L.m(n,null),f(n,o),f(n,c),f(c,r),_(r,e[1].name),f(c,l),f(c,i),_(i,e[1].link),f(c,a),f(c,u),_(u,e[1].observeName),f(c,d),f(c,m),_(m,e[1].contains),f(c,v),f(c,k),_(k,e[1].thumb),f(c,E),T&&T.m(c,null),f(c,z),D.m(c,null),f(c,j),q&&q.m(c,null),f(n,N),F&&F.m(n,null),h(t,C,s),J&&J.m(t,s),h(t,O,s),S||(A=[$(r,"input",e[7]),$(i,"input",e[8]),$(u,"input",e[9]),$(m,"input",e[10]),$(k,"input",e[11])],S=!0)},p(t,[e]){""!=t[1].id?L?L.p(t,e):(L=Nt(t),L.c(),L.m(n,o)):L&&(L.d(1),L=null),2&e&&r.value!==t[1].name&&_(r,t[1].name),2&e&&i.value!==t[1].link&&_(i,t[1].link),2&e&&u.value!==t[1].observeName&&_(u,t[1].observeName),2&e&&m.value!==t[1].contains&&_(m,t[1].contains),2&e&&k.value!==t[1].thumb&&_(k,t[1].thumb),""!=t[1].id?T?T.p(t,e):(T=Ct(t),T.c(),T.m(c,z)):T&&(T.d(1),T=null),P===(P=R(t))&&D?D.p(t,e):(D.d(1),D=P(t),D&&(D.c(),D.m(c,j))),""!=t[1].id?q?q.p(t,e):(q=At(t),q.c(),q.m(c,null)):q&&(q.d(1),q=null),""!=t[1].thumb?F?F.p(t,e):(F=Lt(t),F.c(),F.m(n,null)):F&&(F.d(1),F=null),1&e&&x(n,"btnActive",t[0]),""!=t[2]?J?J.p(t,e):(J=Tt(t),J.c(),J.m(O.parentNode,O)):J&&(J.d(1),J=null)},i:t,o:t,d(t){t&&p(n),L&&L.d(),T&&T.d(),D.d(),q&&q.d(),F&&F.d(),t&&p(C),J&&J.d(t),t&&p(O),S=!1,s(A)}}}function Pt(t,e,n){let o;d(t,ut,(t=>n(13,o=t)));let s=!0;const c=new URLSearchParams(o),r={id:c.get("id")?c.get("id"):"",name:c.get("name")?c.get("name"):"",link:c.get("link")?c.get("link"):"",observeName:c.get("observeName")?c.get("observeName"):"",contains:c.get("contains")?c.get("contains"):"",newestOnTop:!!c.get("newestOnTop")&&c.get("newestOnTop"),thumb:c.get("thumb")?c.get("thumb"):"",dead:!!c.get("dead")&&"true"===c.get("dead")};let l="";const i={method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({...r,dead:!1})};function a(){n(1,r.id="",r),n(1,r.name="",r),n(1,r.link="",r),n(1,r.observeName="",r),n(1,r.contains="",r),n(1,r.newestOnTop=!1,r),n(1,r.thumb="",r),n(1,r.dead=!1,r)}return[s,r,l,a,async function(){console.log(r),n(2,l="posting..."),n(0,s=!1);const t=await fetch("/channels/update",{...i,body:JSON.stringify(r)});console.log(t),n(2,l="target updated!"),n(0,s=!0)},async function(){n(2,l="creating..."),n(0,s=!1);const t=await fetch("/channels/new",{...i,body:JSON.stringify({...r,dead:!1})}),e=await t.json();console.log(e),n(1,r.id=e.id,r),n(2,l="updating...");const o=await(await fetch("/update")).json();console.log(o);const c=await(await fetch("/getnews")).json();yt.update((t=>c.length)),n(2,l="new target created!"),n(0,s=!0)},async function(){n(2,l="deleting..."),n(0,s=!1),await fetch("/channels/delete",{...i,body:JSON.stringify({id:r.id})}),n(2,l="target deleted!"),n(0,s=!0),a()},function(){r.name=this.value,n(1,r)},function(){r.link=this.value,n(1,r)},function(){r.observeName=this.value,n(1,r)},function(){r.contains=this.value,n(1,r)},function(){r.thumb=this.value,n(1,r)},function(){r.dead=this.checked,n(1,r)}]}class Dt extends tt{constructor(t){super(),Z(this,t,Pt,Rt,r,{})}}function qt(e){let n,o;return{c(){n=g("h2"),o=v(e[0])},m(t,e){h(t,n,e),f(n,o)},p(t,[e]){1&e&&k(o,t[0])},i:t,o:t,d(t){t&&p(n)}}}function Ft(t,e,n){let o="updating...";return(async()=>{try{const t=await(await fetch("/update")).json();console.log(t);const e=await(await fetch("/getnews")).json();yt.update((t=>e.length)),n(0,o="success!")}catch(t){n(0,o=":c"),console.warn(t)}})(),[o]}class Jt extends tt{constructor(t){super(),Z(this,t,Ft,qt,r,{})}}function Ut(t){let e,n,o,s;return{c(){e=g("strong"),n=v("("),o=v(t[0]),s=v(")")},m(t,c){h(t,e,c),f(e,n),f(e,o),f(e,s)},p(t,e){1&e&&k(o,t[0])},d(t){t&&p(e)}}}function It(t){let e,n,o,s,c,r,l,i,a,u,d,m,w,$,k=t[0]>0&&Ut(t);return d=new ht({props:{routes:{"/":$t,"/feed":jt,"/new":Dt,"/updateall":Jt}}}),{c(){e=g("nav"),n=g("a"),n.textContent="Channels",o=b(),s=g("a"),c=v("Feed \n\t\t"),k&&k.c(),r=b(),l=g("a"),l.textContent="Add",i=b(),a=g("a"),a.textContent="GET!",u=b(),K(d.$$.fragment),m=b(),w=g("hr"),y(n,"href","/#/"),y(n,"class","svelte-1y1w989"),y(s,"href","/#/feed"),y(s,"class","svelte-1y1w989"),y(l,"href","/#/new"),y(l,"class","svelte-1y1w989"),y(a,"href","/#/updateall"),y(a,"class","svelte-1y1w989"),y(e,"class","svelte-1y1w989")},m(t,p){h(t,e,p),f(e,n),f(e,o),f(e,s),f(s,c),k&&k.m(s,null),f(e,r),f(e,l),f(e,i),f(e,a),h(t,u,p),Q(d,t,p),h(t,m,p),h(t,w,p),$=!0},p(t,[e]){t[0]>0?k?k.p(t,e):(k=Ut(t),k.c(),k.m(s,null)):k&&(k.d(1),k=null)},i(t){$||(Y(d.$$.fragment,t),$=!0)},o(t){B(d.$$.fragment,t),$=!1},d(t){t&&p(e),k&&k.d(),t&&p(u),V(d,t),t&&p(m),t&&p(w)}}}function Mt(t,e,n){let o;return d(t,yt,(t=>n(0,o=t))),(async()=>{const t=await(await fetch("/getnews")).json();yt.update((e=>t.length))})(),[o]}return new class extends tt{constructor(t){super(),Z(this,t,Mt,It,r,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
