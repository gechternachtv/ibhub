(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();function Q(){}function en(n,t){for(const e in t)n[e]=t[e];return n}function tn(n){return n()}function Ct(){return Object.create(null)}function ge(n){n.forEach(tn)}function nn(n){return typeof n=="function"}function ze(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}let Ke;function pe(n,t){return Ke||(Ke=document.createElement("a")),Ke.href=t,n===Ke.href}function dn(n){return Object.keys(n).length===0}function ln(n,...t){if(n==null)return Q;const e=n.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function at(n,t,e){n.$$.on_destroy.push(ln(t,e))}function a(n,t){n.appendChild(t)}function O(n,t,e){n.insertBefore(t,e||null)}function E(n){n.parentNode.removeChild(n)}function Re(n,t){for(let e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}function h(n){return document.createElement(n)}function U(n){return document.createTextNode(n)}function w(){return U(" ")}function ut(){return U("")}function K(n,t,e,l){return n.addEventListener(t,e,l),()=>n.removeEventListener(t,e,l)}function i(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function hn(n){return Array.from(n.childNodes)}function $(n,t){t=""+t,n.wholeText!==t&&(n.data=t)}function he(n,t){n.value=t==null?"":t}function X(n,t,e){n.classList[e?"add":"remove"](t)}function pn(n,t,{bubbles:e=!1,cancelable:l=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(n,e,l,t),s}let De;function Te(n){De=n}function Ze(){if(!De)throw new Error("Function called outside component initialization");return De}function dt(n){Ze().$$.on_mount.push(n)}function _n(n){Ze().$$.after_update.push(n)}function mn(n){Ze().$$.on_destroy.push(n)}function bn(){const n=Ze();return(t,e,{cancelable:l=!1}={})=>{const s=n.$$.callbacks[t];if(s){const o=pn(t,e,{cancelable:l});return s.slice().forEach(r=>{r.call(n,o)}),!o.defaultPrevented}return!0}}function jt(n,t){const e=n.$$.callbacks[t.type];e&&e.slice().forEach(l=>l.call(this,t))}const Ae=[],Et=[],He=[],Nt=[],sn=Promise.resolve();let ct=!1;function on(){ct||(ct=!0,sn.then(rn))}function gn(){return on(),sn}function ft(n){He.push(n)}const rt=new Set;let Ge=0;function rn(){const n=De;do{for(;Ge<Ae.length;){const t=Ae[Ge];Ge++,Te(t),vn(t.$$)}for(Te(null),Ae.length=0,Ge=0;Et.length;)Et.pop()();for(let t=0;t<He.length;t+=1){const e=He[t];rt.has(e)||(rt.add(e),e())}He.length=0}while(Ae.length);for(;Nt.length;)Nt.pop()();ct=!1,rt.clear(),Te(n)}function vn(n){if(n.fragment!==null){n.update(),ge(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(ft)}}const Qe=new Set;let ke;function ht(){ke={r:0,c:[],p:ke}}function pt(){ke.r||ge(ke.c),ke=ke.p}function be(n,t){n&&n.i&&(Qe.delete(n),n.i(t))}function ye(n,t,e,l){if(n&&n.o){if(Qe.has(n))return;Qe.add(n),ke.c.push(()=>{Qe.delete(n),l&&(e&&n.d(1),l())}),n.o(t)}else l&&l()}function an(n,t){const e={},l={},s={$$scope:1};let o=n.length;for(;o--;){const r=n[o],u=t[o];if(u){for(const f in r)f in u||(l[f]=1);for(const f in u)s[f]||(e[f]=u[f],s[f]=1);n[o]=u}else for(const f in r)s[f]=1}for(const r in l)r in e||(e[r]=void 0);return e}function cn(n){return typeof n=="object"&&n!==null?n:{}}function Pe(n){n&&n.c()}function Ee(n,t,e,l){const{fragment:s,on_mount:o,on_destroy:r,after_update:u}=n.$$;s&&s.m(t,e),l||ft(()=>{const f=o.map(tn).filter(nn);r?r.push(...f):ge(f),n.$$.on_mount=[]}),u.forEach(ft)}function Ne(n,t){const e=n.$$;e.fragment!==null&&(ge(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function wn(n,t){n.$$.dirty[0]===-1&&(Ae.push(n),on(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function Oe(n,t,e,l,s,o,r,u=[-1]){const f=De;Te(n);const d=n.$$={fragment:null,ctx:null,props:o,update:Q,not_equal:s,bound:Ct(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:Ct(),dirty:u,skip_bound:!1,root:t.target||f.$$.root};r&&r(d.root);let c=!1;if(d.ctx=e?e(n,t.props||{},(p,y,...v)=>{const k=v.length?v[0]:y;return d.ctx&&s(d.ctx[p],d.ctx[p]=k)&&(!d.skip_bound&&d.bound[p]&&d.bound[p](k),c&&wn(n,p)),y}):[],d.update(),c=!0,ge(d.before_update),d.fragment=l?l(d.ctx):!1,t.target){if(t.hydrate){const p=hn(t.target);d.fragment&&d.fragment.l(p),p.forEach(E)}else d.fragment&&d.fragment.c();t.intro&&be(n.$$.fragment),Ee(n,t.target,t.anchor,t.customElement),rn()}Te(f)}class Se{$destroy(){Ne(this,1),this.$destroy=Q}$on(t,e){const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(e),()=>{const s=l.indexOf(e);s!==-1&&l.splice(s,1)}}$set(t){this.$$set&&!dn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const je=[];function fn(n,t){return{subscribe:_t(n,t).subscribe}}function _t(n,t=Q){let e;const l=new Set;function s(u){if(ze(n,u)&&(n=u,e)){const f=!je.length;for(const d of l)d[1](),je.push(d,n);if(f){for(let d=0;d<je.length;d+=2)je[d][0](je[d+1]);je.length=0}}}function o(u){s(u(n))}function r(u,f=Q){const d=[u,f];return l.add(d),l.size===1&&(e=t(s)||Q),u(n),()=>{l.delete(d),l.size===0&&(e(),e=null)}}return{set:s,update:o,subscribe:r}}function un(n,t,e){const l=!Array.isArray(n),s=l?[n]:n,o=t.length<2;return fn(e,r=>{let u=!1;const f=[];let d=0,c=Q;const p=()=>{if(d)return;c();const v=t(l?f[0]:f,r);o?r(v):c=nn(v)?v:Q},y=s.map((v,k)=>ln(v,L=>{f[k]=L,d&=~(1<<k),u&&p()},()=>{d|=1<<k}));return u=!0,p(),function(){ge(y),c()}})}function kn(n,t){if(n instanceof RegExp)return{keys:!1,pattern:n};var e,l,s,o,r=[],u="",f=n.split("/");for(f[0]||f.shift();s=f.shift();)e=s[0],e==="*"?(r.push("wild"),u+="/(.*)"):e===":"?(l=s.indexOf("?",1),o=s.indexOf(".",1),r.push(s.substring(1,~l?l:~o?o:s.length)),u+=!!~l&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(u+=(~l?"?":"")+"\\"+s.substring(o))):u+="/"+s;return{keys:r,pattern:new RegExp("^"+u+(t?"(?=$|/)":"/?$"),"i")}}function yn(n){let t,e,l;const s=[n[2]];var o=n[0];function r(u){let f={};for(let d=0;d<s.length;d+=1)f=en(f,s[d]);return{props:f}}return o&&(t=new o(r()),t.$on("routeEvent",n[7])),{c(){t&&Pe(t.$$.fragment),e=ut()},m(u,f){t&&Ee(t,u,f),O(u,e,f),l=!0},p(u,f){const d=f&4?an(s,[cn(u[2])]):{};if(o!==(o=u[0])){if(t){ht();const c=t;ye(c.$$.fragment,1,0,()=>{Ne(c,1)}),pt()}o?(t=new o(r()),t.$on("routeEvent",u[7]),Pe(t.$$.fragment),be(t.$$.fragment,1),Ee(t,e.parentNode,e)):t=null}else o&&t.$set(d)},i(u){l||(t&&be(t.$$.fragment,u),l=!0)},o(u){t&&ye(t.$$.fragment,u),l=!1},d(u){u&&E(e),t&&Ne(t,u)}}}function zn(n){let t,e,l;const s=[{params:n[1]},n[2]];var o=n[0];function r(u){let f={};for(let d=0;d<s.length;d+=1)f=en(f,s[d]);return{props:f}}return o&&(t=new o(r()),t.$on("routeEvent",n[6])),{c(){t&&Pe(t.$$.fragment),e=ut()},m(u,f){t&&Ee(t,u,f),O(u,e,f),l=!0},p(u,f){const d=f&6?an(s,[f&2&&{params:u[1]},f&4&&cn(u[2])]):{};if(o!==(o=u[0])){if(t){ht();const c=t;ye(c.$$.fragment,1,0,()=>{Ne(c,1)}),pt()}o?(t=new o(r()),t.$on("routeEvent",u[6]),Pe(t.$$.fragment),be(t.$$.fragment,1),Ee(t,e.parentNode,e)):t=null}else o&&t.$set(d)},i(u){l||(t&&be(t.$$.fragment,u),l=!0)},o(u){t&&ye(t.$$.fragment,u),l=!1},d(u){u&&E(e),t&&Ne(t,u)}}}function Cn(n){let t,e,l,s;const o=[zn,yn],r=[];function u(f,d){return f[1]?0:1}return t=u(n),e=r[t]=o[t](n),{c(){e.c(),l=ut()},m(f,d){r[t].m(f,d),O(f,l,d),s=!0},p(f,[d]){let c=t;t=u(f),t===c?r[t].p(f,d):(ht(),ye(r[c],1,1,()=>{r[c]=null}),pt(),e=r[t],e?e.p(f,d):(e=r[t]=o[t](f),e.c()),be(e,1),e.m(l.parentNode,l))},i(f){s||(be(e),s=!0)},o(f){ye(e),s=!1},d(f){r[t].d(f),f&&E(l)}}}function Ot(){const n=window.location.href.indexOf("#/");let t=n>-1?window.location.href.substr(n+1):"/";const e=t.indexOf("?");let l="";return e>-1&&(l=t.substr(e+1),t=t.substr(0,e)),{location:t,querystring:l}}const mt=fn(null,function(t){t(Ot());const e=()=>{t(Ot())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}),jn=un(mt,n=>n.location),En=un(mt,n=>n.querystring),St=_t(void 0);function Nn(n){n?window.scrollTo(n.__svelte_spa_router_scrollX,n.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function On(n,t,e){let{routes:l={}}=t,{prefix:s=""}=t,{restoreScrollState:o=!1}=t;class r{constructor(g,m){if(!m||typeof m!="function"&&(typeof m!="object"||m._sveltesparouter!==!0))throw Error("Invalid component object");if(!g||typeof g=="string"&&(g.length<1||g.charAt(0)!="/"&&g.charAt(0)!="*")||typeof g=="object"&&!(g instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:D,keys:z}=kn(g);this.path=g,typeof m=="object"&&m._sveltesparouter===!0?(this.component=m.component,this.conditions=m.conditions||[],this.userData=m.userData,this.props=m.props||{}):(this.component=()=>Promise.resolve(m),this.conditions=[],this.props={}),this._pattern=D,this._keys=z}match(g){if(s){if(typeof s=="string")if(g.startsWith(s))g=g.substr(s.length)||"/";else return null;else if(s instanceof RegExp){const _=g.match(s);if(_&&_[0])g=g.substr(_[0].length)||"/";else return null}}const m=this._pattern.exec(g);if(m===null)return null;if(this._keys===!1)return m;const D={};let z=0;for(;z<this._keys.length;){try{D[this._keys[z]]=decodeURIComponent(m[z+1]||"")||null}catch{D[this._keys[z]]=null}z++}return D}async checkConditions(g){for(let m=0;m<this.conditions.length;m++)if(!await this.conditions[m](g))return!1;return!0}}const u=[];l instanceof Map?l.forEach((b,g)=>{u.push(new r(g,b))}):Object.keys(l).forEach(b=>{u.push(new r(b,l[b]))});let f=null,d=null,c={};const p=bn();async function y(b,g){await gn(),p(b,g)}let v=null,k=null;o&&(k=b=>{b.state&&(b.state.__svelte_spa_router_scrollY||b.state.__svelte_spa_router_scrollX)?v=b.state:v=null},window.addEventListener("popstate",k),_n(()=>{Nn(v)}));let L=null,S=null;const q=mt.subscribe(async b=>{L=b;let g=0;for(;g<u.length;){const m=u[g].match(b.location);if(!m){g++;continue}const D={route:u[g].path,location:b.location,querystring:b.querystring,userData:u[g].userData,params:m&&typeof m=="object"&&Object.keys(m).length?m:null};if(!await u[g].checkConditions(D)){e(0,f=null),S=null,y("conditionsFailed",D);return}y("routeLoading",Object.assign({},D));const z=u[g].component;if(S!=z){z.loading?(e(0,f=z.loading),S=z,e(1,d=z.loadingParams),e(2,c={}),y("routeLoaded",Object.assign({},D,{component:f,name:f.name,params:d}))):(e(0,f=null),S=null);const _=await z();if(b!=L)return;e(0,f=_&&_.default||_),S=z}m&&typeof m=="object"&&Object.keys(m).length?e(1,d=m):e(1,d=null),e(2,c=u[g].props),y("routeLoaded",Object.assign({},D,{component:f,name:f.name,params:d})).then(()=>{St.set(d)});return}e(0,f=null),S=null,St.set(void 0)});mn(()=>{q(),k&&window.removeEventListener("popstate",k)});function A(b){jt.call(this,n,b)}function T(b){jt.call(this,n,b)}return n.$$set=b=>{"routes"in b&&e(3,l=b.routes),"prefix"in b&&e(4,s=b.prefix),"restoreScrollState"in b&&e(5,o=b.restoreScrollState)},n.$$.update=()=>{n.$$.dirty&32&&(history.scrollRestoration=o?"manual":"auto")},[f,d,c,l,s,o,A,T]}class Sn extends Se{constructor(t){super(),Oe(this,t,On,Cn,ze,{routes:3,prefix:4,restoreScrollState:5})}}const Ue=_t(0),Ve="/assets/external.f5ae0b16.svg";function Lt(n,t,e){const l=n.slice();return l[17]=t[e],l}function At(n,t,e){const l=n.slice();return l[20]=t[e],l}function Tt(n,t,e){const l=n.slice();return l[23]=t[e],l}function Rt(n){let t,e,l,s,o,r,u,f,d,c,p,y,v,k,L,S,q;function A(_,R){return _[0]?An:Ln}let T=A(n),b=T(n),g=n[4],m=[];for(let _=0;_<g.length;_+=1)m[_]=Dt(Tt(n,g,_));let D=n[8],z=[];for(let _=0;_<D.length;_+=1)z[_]=It(Lt(n,D,_));return{c(){t=h("h1"),t.textContent="Active Channels",e=w(),l=h("button"),b.c(),s=w(),o=h("span"),r=U(n[7]),u=w(),f=h("div"),d=h("div"),c=h("button"),c.textContent="show inactive",p=w(),y=h("button"),y.textContent="all domains",v=w();for(let _=0;_<m.length;_+=1)m[_].c();k=w(),L=h("div");for(let _=0;_<z.length;_+=1)z[_].c();i(t,"class","svelte-auzah6"),i(l,"class","updateall svelte-auzah6"),X(l,"loading",n[6]),i(o,"class","result svelte-auzah6"),i(c,"class","showdead svelte-auzah6"),X(c,"active",n[2]),i(y,"class","svelte-auzah6"),X(y,"active",n[0]),i(d,"class","filter svelte-auzah6"),i(L,"class","container svelte-auzah6"),i(f,"class","main-container svelte-auzah6")},m(_,R){O(_,t,R),O(_,e,R),O(_,l,R),b.m(l,null),O(_,s,R),O(_,o,R),a(o,r),O(_,u,R),O(_,f,R),a(f,d),a(d,c),a(d,p),a(d,y),a(d,v);for(let j=0;j<m.length;j+=1)m[j].m(d,null);a(f,k),a(f,L);for(let j=0;j<z.length;j+=1)z[j].m(L,null);S||(q=[K(l,"click",n[9]),K(c,"click",n[12]),K(y,"click",n[13])],S=!0)},p(_,R){if(T!==(T=A(_))&&(b.d(1),b=T(_),b&&(b.c(),b.m(l,null))),R&64&&X(l,"loading",_[6]),R&128&&$(r,_[7]),R&4&&X(c,"active",_[2]),R&1&&X(y,"active",_[0]),R&19){g=_[4];let j;for(j=0;j<g.length;j+=1){const F=Tt(_,g,j);m[j]?m[j].p(F,R):(m[j]=Dt(F),m[j].c(),m[j].m(d,null))}for(;j<m.length;j+=1)m[j].d(1);m.length=g.length}if(R&264){D=_[8];let j;for(j=0;j<D.length;j+=1){const F=Lt(_,D,j);z[j]?z[j].p(F,R):(z[j]=It(F),z[j].c(),z[j].m(L,null))}for(;j<z.length;j+=1)z[j].d(1);z.length=D.length}},d(_){_&&E(t),_&&E(e),_&&E(l),b.d(),_&&E(s),_&&E(o),_&&E(u),_&&E(f),Re(m,_),Re(z,_),S=!1,ge(q)}}}function Ln(n){let t;return{c(){t=U("update domain")},m(e,l){O(e,t,l)},d(e){e&&E(t)}}}function An(n){let t;return{c(){t=U("update all")},m(e,l){O(e,t,l)},d(e){e&&E(t)}}}function Dt(n){let t,e=n[23]+"",l,s,o;function r(){return n[14](n[23])}return{c(){t=h("button"),l=U(e),i(t,"class","svelte-auzah6"),X(t,"active",n[0]===!1&&n[1]===n[23])},m(u,f){O(u,t,f),a(t,l),s||(o=K(t,"click",r),s=!0)},p(u,f){n=u,f&16&&e!==(e=n[23]+"")&&$(l,e),f&19&&X(t,"active",n[0]===!1&&n[1]===n[23])},d(u){u&&E(t),s=!1,o()}}}function Pt(n){let t;return{c(){t=h("div"),t.textContent="new!",i(t,"class","newposttag svelte-auzah6")},m(e,l){O(e,t,l)},d(e){e&&E(t)}}}function Ut(n){let t,e=n[17].contains,l=[];for(let s=0;s<e.length;s+=1)l[s]=qt(At(n,e,s));return{c(){t=h("div");for(let s=0;s<l.length;s+=1)l[s].c();i(t,"class","contains svelte-auzah6")},m(s,o){O(s,t,o);for(let r=0;r<l.length;r+=1)l[r].m(t,null)},p(s,o){if(o&256){e=s[17].contains;let r;for(r=0;r<e.length;r+=1){const u=At(s,e,r);l[r]?l[r].p(u,o):(l[r]=qt(u),l[r].c(),l[r].m(t,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=e.length}},d(s){s&&E(t),Re(l,s)}}}function qt(n){let t,e=n[20]+"",l;return{c(){t=h("span"),l=U(e),i(t,"class","svelte-auzah6")},m(s,o){O(s,t,o),a(t,l)},p(s,o){o&256&&e!==(e=s[20]+"")&&$(l,e)},d(s){s&&E(t)}}}function Ft(n){let t;return{c(){t=h("div"),t.textContent="[Dead]",i(t,"class","dead svelte-auzah6")},m(e,l){O(e,t,l)},d(e){e&&E(t)}}}function It(n){let t,e,l,s,o,r,u,f,d,c=n[17].name+"",p,y,v,k=n[17].host+"",L,S,q=n[3].find(B),A,T,b,g,m=n[17].updates+"",D,z,_,R,j,F,V,N,P,I,fe,Z,ae,M,ue,ee;function B(...de){return n[11](n[17],...de)}let x=q&&Pt(),G=n[17].contains.length>0&&Ut(n),W=n[17].dead&&Ft();function Ce(...de){return n[15](n[17],...de)}return{c(){t=h("div"),e=h("div"),l=h("div"),s=h("a"),o=h("img"),f=w(),d=h("div"),p=U(c),y=w(),v=h("div"),L=U(k),S=w(),x&&x.c(),A=w(),G&&G.c(),T=w(),b=h("div"),g=h("strong"),g.textContent="Updates: ",D=U(m),z=w(),_=h("div"),W&&W.c(),R=w(),j=h("div"),F=h("a"),V=U("visit "),N=h("img"),fe=w(),Z=h("div"),ae=h("a"),M=U("more"),ee=w(),i(o,"loading","lazy"),pe(o.src,r=n[17].thumb)||i(o,"src",r),i(o,"alt",""),i(o,"class","svelte-auzah6"),i(s,"href",u=n[17].link),i(s,"target","_blank"),i(l,"class","thumb svelte-auzah6"),i(d,"class","title svelte-auzah6"),i(v,"class","hostName svelte-auzah6"),i(b,"class","updates svelte-auzah6"),i(e,"class","card-container"),pe(N.src,P=Ve)||i(N,"src",P),i(N,"alt",""),i(F,"target","_blank"),i(F,"href",I=n[17].link),i(F,"class","svelte-auzah6"),i(j,"class","feed-btn svelte-auzah6"),i(ae,"href",ue="#/new?id="+n[17].id),i(ae,"class","svelte-auzah6"),i(Z,"class","feed-btn svelte-auzah6"),i(_,"class","card-container feed-btn-container svelte-auzah6"),i(t,"class","card svelte-auzah6"),X(t,"newpost",n[3].find(Ce))},m(de,Y){O(de,t,Y),a(t,e),a(e,l),a(l,s),a(s,o),a(e,f),a(e,d),a(d,p),a(e,y),a(e,v),a(v,L),a(e,S),x&&x.m(e,null),a(e,A),G&&G.m(e,null),a(e,T),a(e,b),a(b,g),a(b,D),a(t,z),a(t,_),W&&W.m(_,null),a(_,R),a(_,j),a(j,F),a(F,V),a(F,N),a(_,fe),a(_,Z),a(Z,ae),a(ae,M),a(t,ee)},p(de,Y){n=de,Y&256&&!pe(o.src,r=n[17].thumb)&&i(o,"src",r),Y&256&&u!==(u=n[17].link)&&i(s,"href",u),Y&256&&c!==(c=n[17].name+"")&&$(p,c),Y&256&&k!==(k=n[17].host+"")&&$(L,k),Y&264&&(q=n[3].find(B)),q?x||(x=Pt(),x.c(),x.m(e,A)):x&&(x.d(1),x=null),n[17].contains.length>0?G?G.p(n,Y):(G=Ut(n),G.c(),G.m(e,T)):G&&(G.d(1),G=null),Y&256&&m!==(m=n[17].updates+"")&&$(D,m),n[17].dead?W||(W=Ft(),W.c(),W.m(_,R)):W&&(W.d(1),W=null),Y&256&&I!==(I=n[17].link)&&i(F,"href",I),Y&256&&ue!==(ue="#/new?id="+n[17].id)&&i(ae,"href",ue),Y&264&&X(t,"newpost",n[3].find(Ce))},d(de){de&&E(t),x&&x.d(),G&&G.d(),W&&W.d()}}}function Tn(n){let t,e=!n[5]&&Rt(n);return{c(){t=h("main"),e&&e.c(),i(t,"class","svelte-auzah6")},m(l,s){O(l,t,s),e&&e.m(t,null)},p(l,[s]){l[5]?e&&(e.d(1),e=null):e?e.p(l,s):(e=Rt(l),e.c(),e.m(t,null))},i:Q,o:Q,d(l){l&&E(t),e&&e.d()}}}function Rn(n,t,e){let l=[],s=[],o=[],r=!0,u=!0,f="",d=!0;dt(async()=>{e(3,s=await(await fetch("/api/getnews")).json()),e(10,l=await(await fetch("/api/channels")).json()),e(4,o=await(await fetch("/api/channelhosts")).json()),e(5,r=!1),console.log(l)});const c={method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"};let p=!1,y="";const v=async()=>{try{e(6,p=!0),e(7,y=`updating${u?"":` ${f}`}...`);const g=await(await fetch("/api/getnewupsates",{...c,body:JSON.stringify(k.map(m=>m.id))})).json();console.log(g),e(3,s=await(await fetch("/api/getnews")).json()),Ue.update(m=>s.length),e(6,p=!1),e(7,y="updated!"),setTimeout(()=>{e(7,y="")},1500)}catch(b){console.warn(b),e(6,p=!1),e(7,y="error while updating")}};let k=l;const L=(b,g)=>g.channelid===b.id,S=()=>e(2,d=!d),q=()=>e(0,u=!0),A=b=>{e(1,f=b),e(0,u=!1)},T=(b,g)=>g.channelid===b.id;return n.$$.update=()=>{n.$$.dirty&1031&&e(8,k=[...l].reverse().filter(b=>u?!0:b.host===f).filter(b=>d?!0:b.dead===!1))},[u,f,d,s,o,r,p,y,k,v,l,L,S,q,A,T]}class Dn extends Se{constructor(t){super(),Oe(this,t,Rn,Tn,ze,{})}}function Jt(n,t,e){const l=n.slice();return l[7]=t[e],l[9]=e,l}function Mt(n){let t,e,l,s,o,r,u,f,d=[...n[0]].reverse(),c=[];for(let p=0;p<d.length;p+=1)c[p]=Wt(Jt(n,d,p));return{c(){t=h("h1"),t.textContent="Feed",e=w(),l=h("div"),s=h("button"),s.textContent="mark as read",o=w(),r=h("div");for(let p=0;p<c.length;p+=1)c[p].c();i(t,"class","svelte-wezwo1"),i(s,"class","svelte-wezwo1"),i(l,"class","feedoptions svelte-wezwo1"),i(r,"class","container svelte-wezwo1")},m(p,y){O(p,t,y),O(p,e,y),O(p,l,y),a(l,s),O(p,o,y),O(p,r,y);for(let v=0;v<c.length;v+=1)c[v].m(r,null);u||(f=K(s,"click",n[4]),u=!0)},p(p,y){if(y&7){d=[...p[0]].reverse();let v;for(v=0;v<d.length;v+=1){const k=Jt(p,d,v);c[v]?c[v].p(k,y):(c[v]=Wt(k),c[v].c(),c[v].m(r,null))}for(;v<c.length;v+=1)c[v].d(1);c.length=d.length}},d(p){p&&E(t),p&&E(e),p&&E(l),p&&E(o),p&&E(r),Re(c,p),u=!1,f()}}}function Bt(n){let t;return{c(){t=h("div"),t.textContent="[ NEW !]",i(t,"class","newposttag svelte-wezwo1")},m(e,l){O(e,t,l)},d(e){e&&E(t)}}}function Wt(n){let t,e,l,s=n[7].date+"",o,r,u,f=n[7].title+"",d,c,p=n[1].find(ae)&&n[2],y,v,k,L,S,q,A=n[7].content+"",T,b,g,m,D,z,_,R,j,F,V,N,P,I,fe,Z;function ae(...ee){return n[5](n[7],...ee)}let M=p&&Bt();function ue(...ee){return n[6](n[7],...ee)}return{c(){t=h("div"),e=h("div"),l=h("div"),o=U(s),r=w(),u=h("h2"),d=U(f),c=w(),M&&M.c(),y=w(),v=h("div"),k=h("img"),S=w(),q=h("div"),T=U(A),b=w(),g=h("div"),m=h("div"),D=h("div"),z=h("a"),_=U("visit "),R=h("img"),V=w(),N=h("div"),P=h("a"),I=U("more"),Z=w(),i(l,"class","date svelte-wezwo1"),i(u,"class","svelte-wezwo1"),i(k,"loading","lazy"),pe(k.src,L=n[7].image)||i(k,"src",L),i(k,"alt",""),i(k,"class","svelte-wezwo1"),i(v,"class","thumb svelte-wezwo1"),i(q,"class","channelcontent svelte-wezwo1"),i(e,"class","card-container svelte-wezwo1"),pe(R.src,j=Ve)||i(R,"src",j),i(R,"alt",""),i(z,"target","_blank"),i(z,"href",F=n[7].link),i(z,"class","svelte-wezwo1"),i(D,"class","feed-btn svelte-wezwo1"),i(P,"href",fe="#/new?id="+n[7].channelid),i(P,"class","svelte-wezwo1"),i(N,"class","feed-btn svelte-wezwo1"),i(m,"class","card-container feed-btn-container svelte-wezwo1"),i(g,"class","feed-btn-holder svelte-wezwo1"),i(t,"class","card svelte-wezwo1"),X(t,"newpost",n[1].find(ue)&&n[2])},m(ee,B){O(ee,t,B),a(t,e),a(e,l),a(l,o),a(e,r),a(e,u),a(u,d),a(e,c),M&&M.m(e,null),a(e,y),a(e,v),a(v,k),a(e,S),a(e,q),a(q,T),a(t,b),a(t,g),a(g,m),a(m,D),a(D,z),a(z,_),a(z,R),a(m,V),a(m,N),a(N,P),a(P,I),a(t,Z)},p(ee,B){n=ee,B&1&&s!==(s=n[7].date+"")&&$(o,s),B&1&&f!==(f=n[7].title+"")&&$(d,f),B&7&&(p=n[1].find(ae)&&n[2]),p?M||(M=Bt(),M.c(),M.m(e,y)):M&&(M.d(1),M=null),B&1&&!pe(k.src,L=n[7].image)&&i(k,"src",L),B&1&&A!==(A=n[7].content+"")&&$(T,A),B&1&&F!==(F=n[7].link)&&i(z,"href",F),B&1&&fe!==(fe="#/new?id="+n[7].channelid)&&i(P,"href",fe),B&7&&X(t,"newpost",n[1].find(ue)&&n[2])},d(ee){ee&&E(t),M&&M.d()}}}function Pn(n){let t,e=!n[3]&&Mt(n);return{c(){t=h("main"),e&&e.c(),i(t,"class","svelte-wezwo1")},m(l,s){O(l,t,s),e&&e.m(t,null)},p(l,[s]){l[3]?e&&(e.d(1),e=null):e?e.p(l,s):(e=Mt(l),e.c(),e.m(t,null))},i:Q,o:Q,d(l){l&&E(t),e&&e.d()}}}function Un(n,t,e){let l=[],s=[],o=!0,r=!0;const u=async()=>{const c=await(await fetch("/api/readallnews")).json();console.log(c),Ue.update(p=>0),e(2,o=!1)};return dt(async()=>{e(0,l=await(await fetch("/api/feed")).json()),e(1,s=await(await fetch("/api/getnews")).json()),console.log(l,s),e(3,r=!1)}),[l,s,o,r,u,(c,p)=>p.postid===c.postid,(c,p)=>p.postid===c.postid]}class qn extends Se{constructor(t){super(),Oe(this,t,Un,Pn,ze,{})}}const Fn="/assets/archiveph.e5601773.png";function Xt(n,t,e){const l=n.slice();return l[27]=t[e],l}function In(n){let t;return{c(){t=U("New!")},m(e,l){O(e,t,l)},p:Q,d(e){e&&E(t)}}}function Jn(n){let t,e=n[1].id+"",l,s,o,r,u;return{c(){t=U("Updating "),l=U(e),s=w(),o=h("button"),o.textContent="Clear",i(o,"class","svelte-16lsd9n")},m(f,d){O(f,t,d),O(f,l,d),O(f,s,d),O(f,o,d),r||(u=K(o,"click",n[6]),r=!0)},p(f,d){d&2&&e!==(e=f[1].id+"")&&$(l,e)},d(f){f&&E(t),f&&E(l),f&&E(s),f&&E(o),r=!1,u()}}}function Yt(n){let t,e,l,s,o,r;return{c(){t=h("div"),e=h("label"),e.textContent="dead",l=w(),s=h("input"),i(e,"for","dead"),i(s,"id","dead"),i(s,"type","checkbox"),i(s,"class","svelte-16lsd9n"),i(t,"class","select-holder svelte-16lsd9n")},m(u,f){O(u,t,f),a(t,e),a(t,l),a(t,s),s.checked=n[1].dead,o||(r=K(s,"change",n[20]),o=!0)},p(u,f){f&2&&(s.checked=u[1].dead)},d(u){u&&E(t),o=!1,r()}}}function Mn(n){let t,e,l;return{c(){t=h("button"),t.textContent="New!",i(t,"type","button"),i(t,"class","svelte-16lsd9n")},m(s,o){O(s,t,o),e||(l=K(t,"click",n[8]),e=!0)},p:Q,d(s){s&&E(t),e=!1,l()}}}function Bn(n){let t,e,l;return{c(){t=h("button"),t.textContent="Update!",i(t,"type","button"),i(t,"class","svelte-16lsd9n")},m(s,o){O(s,t,o),e||(l=K(t,"click",n[7]),e=!0)},p:Q,d(s){s&&E(t),e=!1,l()}}}function Kt(n){let t,e,l;return{c(){t=h("button"),t.textContent="Delete!",i(t,"type","button"),i(t,"class","svelte-16lsd9n")},m(s,o){O(s,t,o),e||(l=K(t,"click",n[9]),e=!0)},p:Q,d(s){s&&E(t),e=!1,l()}}}function Gt(n){let t,e;return{c(){t=h("img"),pe(t.src,e=n[1].thumb)||i(t,"src",e),i(t,"alt","data.name"),i(t,"class","svelte-16lsd9n")},m(l,s){O(l,t,s)},p(l,s){s&2&&!pe(t.src,e=l[1].thumb)&&i(t,"src",e)},d(l){l&&E(t)}}}function Ht(n){let t;return{c(){t=h("span"),t.textContent="[Dead]",i(t,"class","dead svelte-16lsd9n")},m(e,l){O(e,t,l)},d(e){e&&E(t)}}}function Qt(n){let t,e=n[1].contains,l=[];for(let s=0;s<e.length;s+=1)l[s]=Vt(Xt(n,e,s));return{c(){t=h("div");for(let s=0;s<l.length;s+=1)l[s].c();i(t,"class","contains svelte-16lsd9n")},m(s,o){O(s,t,o);for(let r=0;r<l.length;r+=1)l[r].m(t,null)},p(s,o){if(o&2){e=s[1].contains;let r;for(r=0;r<e.length;r+=1){const u=Xt(s,e,r);l[r]?l[r].p(u,o):(l[r]=Vt(u),l[r].c(),l[r].m(t,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=e.length}},d(s){s&&E(t),Re(l,s)}}}function Vt(n){let t,e=n[27]+"",l;return{c(){t=h("span"),l=U(e),i(t,"class","svelte-16lsd9n")},m(s,o){O(s,t,o),a(t,l)},p(s,o){o&2&&e!==(e=s[27]+"")&&$(l,e)},d(s){s&&E(t)}}}function Zt(n){let t,e,l=n[1].updates+"",s;return{c(){t=h("div"),e=U("Updates: "),s=U(l),i(t,"class","replies svelte-16lsd9n")},m(o,r){O(o,t,r),a(t,e),a(t,s)},p(o,r){r&2&&l!==(l=o[1].updates+"")&&$(s,l)},d(o){o&&E(t)}}}function $t(n){let t,e,l,s,o,r,u,f,d,c,p,y,v,k;return{c(){t=h("div"),e=h("a"),l=U("visit "),s=h("img"),u=w(),f=h("a"),d=h("img"),p=U(" archive.ph "),y=h("img"),pe(s.src,o=Ve)||i(s,"src",o),i(s,"alt",""),i(s,"class","svelte-16lsd9n"),i(e,"class","btn-link svelte-16lsd9n"),i(e,"target","_blank"),i(e,"href",r=n[1].link),i(d,"alt",""),pe(d.src,c=Fn)||i(d,"src",c),i(d,"class","svelte-16lsd9n"),pe(y.src,v=Ve)||i(y,"src",v),i(y,"alt",""),i(y,"class","svelte-16lsd9n"),i(f,"class","btn-link svelte-16lsd9n"),i(f,"target","_blank"),i(f,"href",k="https://archive.today/?run=1&url="+n[1].link),i(t,"class","btn-links-holder svelte-16lsd9n")},m(L,S){O(L,t,S),a(t,e),a(e,l),a(e,s),a(t,u),a(t,f),a(f,d),a(f,p),a(f,y)},p(L,S){S&2&&r!==(r=L[1].link)&&i(e,"href",r),S&2&&k!==(k="https://archive.today/?run=1&url="+L[1].link)&&i(f,"href",k)},d(L){L&&E(t)}}}function xt(n){let t,e,l,s,o,r=n[1].laspost+"",u;return{c(){t=h("div"),e=h("div"),l=h("h4"),l.textContent="Last update:",s=w(),o=h("div"),u=U(r),i(l,"class","data-content svelte-16lsd9n"),i(o,"class","status-text svelte-16lsd9n"),i(e,"class","status-content"),i(t,"class","svelte-16lsd9n"),X(t,"newpost",n[5].find(n[21]))},m(f,d){O(f,t,d),a(t,e),a(e,l),a(e,s),a(e,o),a(o,u)},p(f,d){d&2&&r!==(r=f[1].laspost+"")&&$(u,r),d&34&&X(t,"newpost",f[5].find(f[21]))},d(f){f&&E(t)}}}function Wn(n){let t,e,l,s,o,r,u,f,d,c,p,y,v,k,L,S,q,A,T,b,g,m,D,z,_,R,j,F,V,N,P,I,fe,Z,ae,M,ue,ee,B,x,G,W,Ce,de,Y,ve,$e,H,xe,qe,Fe=n[1].name+"",et,bt,Ie,Je=n[1].host+"",tt,gt,nt,lt,vt,we,st,Le,Me,wt,Be,We,ot,it,kt;function yt(C,J){return C[1].id!=""?Jn:In}let Xe=yt(n),_e=Xe(n),te=n[1].id!=""&&Yt(n);function zt(C,J){return C[1].id!=""?Bn:Mn}let Ye=zt(n),me=Ye(n),ne=n[1].id!=""&&Kt(n),le=n[1].thumb!=""&&Gt(n),ce=n[1].dead&&Ht(),se=n[1].contains.length>0&&Qt(n),oe=n[1].id!=""&&Zt(n),ie=n[3]&&$t(n),re=n[1].laspost!=""&&xt(n);return{c(){t=h("main"),e=h("section"),l=h("div"),_e.c(),s=w(),o=h("form"),r=h("div"),u=h("label"),u.textContent="url:",f=w(),d=h("input"),c=w(),p=h("div"),y=h("label"),y.textContent="name",v=w(),k=h("input"),L=w(),S=h("div"),q=h("label"),q.textContent="observeName",A=w(),T=h("input"),b=w(),g=h("div"),m=h("label"),m.textContent="contains",D=w(),z=h("input"),_=w(),R=h("div"),j=h("label"),j.textContent="thumb",F=w(),V=h("input"),N=w(),P=h("div"),I=h("label"),I.textContent="meta",fe=w(),Z=h("textarea"),ae=w(),M=h("div"),ue=h("label"),ue.textContent="news on top",ee=w(),B=h("input"),x=w(),te&&te.c(),G=w(),W=h("div"),me.c(),Ce=w(),ne&&ne.c(),de=w(),Y=h("div"),ve=h("div"),le&&le.c(),$e=w(),H=h("div"),ce&&ce.c(),xe=w(),qe=h("h3"),et=U(Fe),bt=w(),Ie=h("div"),tt=U(Je),gt=w(),se&&se.c(),nt=w(),oe&&oe.c(),lt=w(),ie&&ie.c(),vt=w(),we=h("div"),re&&re.c(),st=w(),Le=h("div"),Me=h("h4"),Me.textContent="STATUS:",wt=w(),Be=h("div"),We=h("div"),ot=U(n[4]),i(l,"class","id svelte-16lsd9n"),i(u,"for","link"),i(d,"id","link"),i(d,"placeholder","link*"),i(d,"class","svelte-16lsd9n"),i(r,"class","svelte-16lsd9n"),i(y,"for","name"),i(k,"id","name"),i(k,"placeholder","name*"),i(k,"class","svelte-16lsd9n"),i(p,"class","svelte-16lsd9n"),i(q,"for","observeName"),i(T,"id","observeName"),i(T,"placeholder","observer*"),i(T,"class","svelte-16lsd9n"),i(S,"class","svelte-16lsd9n"),i(m,"for","containsstr"),i(z,"id","containsstr"),i(z,"placeholder","contains"),i(z,"class","svelte-16lsd9n"),i(g,"class","svelte-16lsd9n"),i(j,"for","thumb"),i(V,"id","thumb"),i(V,"placeholder","thumb"),i(V,"class","svelte-16lsd9n"),i(R,"class","svelte-16lsd9n"),i(I,"for","meta"),i(Z,"id","meta"),i(Z,"placeholder","meta"),i(P,"class","svelte-16lsd9n"),i(ue,"for","newestOnTop"),i(B,"id","newestOnTop"),i(B,"type","checkbox"),i(B,"class","svelte-16lsd9n"),i(M,"class","select-holder svelte-16lsd9n"),i(W,"class","form-btns-holder svelte-16lsd9n"),i(o,"class","svelte-16lsd9n"),i(qe,"class","svelte-16lsd9n"),i(Ie,"class","hostName svelte-16lsd9n"),i(H,"class","postdata svelte-16lsd9n"),i(ve,"class","thumb svelte-16lsd9n"),i(Me,"class","svelte-16lsd9n"),i(We,"class","status-text svelte-16lsd9n"),i(Be,"class","status-content"),i(we,"class","status"),i(Y,"class","thumb-holder svelte-16lsd9n"),i(e,"class","svelte-16lsd9n"),X(e,"btnActive",n[2]),i(t,"class","svelte-16lsd9n")},m(C,J){O(C,t,J),a(t,e),a(e,l),_e.m(l,null),a(e,s),a(e,o),a(o,r),a(r,u),a(r,f),a(r,d),he(d,n[1].link),a(o,c),a(o,p),a(p,y),a(p,v),a(p,k),he(k,n[1].name),a(o,L),a(o,S),a(S,q),a(S,A),a(S,T),he(T,n[1].observeName),a(o,b),a(o,g),a(g,m),a(g,D),a(g,z),he(z,n[0]),a(o,_),a(o,R),a(R,j),a(R,F),a(R,V),he(V,n[1].thumb),a(o,N),a(o,P),a(P,I),a(P,fe),a(P,Z),he(Z,n[1].meta),a(o,ae),a(o,M),a(M,ue),a(M,ee),a(M,B),B.checked=n[1].newestOnTop,a(o,x),te&&te.m(o,null),a(o,G),a(o,W),me.m(W,null),a(W,Ce),ne&&ne.m(W,null),a(e,de),a(e,Y),a(Y,ve),le&&le.m(ve,null),a(ve,$e),a(ve,H),ce&&ce.m(H,null),a(H,xe),a(H,qe),a(qe,et),a(H,bt),a(H,Ie),a(Ie,tt),a(H,gt),se&&se.m(H,null),a(H,nt),oe&&oe.m(H,null),a(H,lt),ie&&ie.m(H,null),a(Y,vt),a(Y,we),re&&re.m(we,null),a(we,st),a(we,Le),a(Le,Me),a(Le,wt),a(Le,Be),a(Be,We),a(We,ot),it||(kt=[K(d,"input",n[11]),K(d,"input",n[12]),K(d,"change",n[13]),K(k,"input",n[14]),K(T,"input",n[15]),K(z,"input",n[16]),K(V,"input",n[17]),K(Z,"input",n[18]),K(B,"change",n[19])],it=!0)},p(C,[J]){Xe===(Xe=yt(C))&&_e?_e.p(C,J):(_e.d(1),_e=Xe(C),_e&&(_e.c(),_e.m(l,null))),J&2&&d.value!==C[1].link&&he(d,C[1].link),J&2&&k.value!==C[1].name&&he(k,C[1].name),J&2&&T.value!==C[1].observeName&&he(T,C[1].observeName),J&1&&z.value!==C[0]&&he(z,C[0]),J&2&&V.value!==C[1].thumb&&he(V,C[1].thumb),J&2&&he(Z,C[1].meta),J&2&&(B.checked=C[1].newestOnTop),C[1].id!=""?te?te.p(C,J):(te=Yt(C),te.c(),te.m(o,G)):te&&(te.d(1),te=null),Ye===(Ye=zt(C))&&me?me.p(C,J):(me.d(1),me=Ye(C),me&&(me.c(),me.m(W,Ce))),C[1].id!=""?ne?ne.p(C,J):(ne=Kt(C),ne.c(),ne.m(W,null)):ne&&(ne.d(1),ne=null),C[1].thumb!=""?le?le.p(C,J):(le=Gt(C),le.c(),le.m(ve,$e)):le&&(le.d(1),le=null),C[1].dead?ce||(ce=Ht(),ce.c(),ce.m(H,xe)):ce&&(ce.d(1),ce=null),J&2&&Fe!==(Fe=C[1].name+"")&&$(et,Fe),J&2&&Je!==(Je=C[1].host+"")&&$(tt,Je),C[1].contains.length>0?se?se.p(C,J):(se=Qt(C),se.c(),se.m(H,nt)):se&&(se.d(1),se=null),C[1].id!=""?oe?oe.p(C,J):(oe=Zt(C),oe.c(),oe.m(H,lt)):oe&&(oe.d(1),oe=null),C[3]?ie?ie.p(C,J):(ie=$t(C),ie.c(),ie.m(H,null)):ie&&(ie.d(1),ie=null),C[1].laspost!=""?re?re.p(C,J):(re=xt(C),re.c(),re.m(we,st)):re&&(re.d(1),re=null),J&16&&$(ot,C[4]),J&4&&X(e,"btnActive",C[2])},i:Q,o:Q,d(C){C&&E(t),_e.d(),te&&te.d(),me.d(),ne&&ne.d(),le&&le.d(),ce&&ce.d(),se&&se.d(),oe&&oe.d(),ie&&ie.d(),re&&re.d(),it=!1,ge(kt)}}}function Xn(n,t,e){let l;at(n,En,N=>e(22,l=N));let s=!1,o=!1,r="",u="Creating new",f=[];const d=new URLSearchParams(l),c={id:"",name:"",link:"",host:"",observeName:"",contains:[],newestOnTop:!1,thumb:"",dead:!1,laspost:"",meta:"",updates:1},p={method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"},y=N=>{try{if(N==="")throw"empty selector";return document.querySelector(N),!0}catch(P){console.warn(P)}return!1},v=N=>{try{return new URL(N),!0}catch(P){console.warn(P)}return!1};function k(){e(1,c.id="",c),e(1,c.name="",c),e(1,c.link="",c),e(1,c.observeName="",c),e(1,c.contains=[],c),e(1,c.newestOnTop=!1,c),e(1,c.thumb="",c),e(1,c.dead=!1,c),e(1,c.meta="",c),e(1,c.laspost="",c),e(1,c.host="",c),e(4,u="Creating new")}async function L(){try{if(console.log(c),e(4,u="posting..."),e(2,s=!1),c.name==="")throw"empty name";if(!o)throw"invalid url";if(!y(c.observeName))throw"invalid selector";e(1,c.host=new URL(c.link).hostname,c);const N=await fetch("/api/update",{...p,body:JSON.stringify(c)});console.log(N),e(4,u=`${c.id} updated!`),e(2,s=!0)}catch(N){return console.warn(N),e(4,u=`error updating, ${N}`),e(2,s=!0),!1}}async function S(){try{if(c.name==="")throw"empty name";if(!o)throw"invalid url";if(!y(c.observeName))throw"invalid selector";e(1,c.host=new URL(c.link).hostname,c),e(4,u="creating..."),e(2,s=!1),console.log("sneding...",c);const P=await(await fetch("/api/new",{...p,body:JSON.stringify(c)})).json();if(P.error)throw P;{console.log(P),e(1,c.id=P.id,c),e(4,u="updating...");const fe=await(await fetch("/api/getnewupsates",{...p,body:JSON.stringify([c.id])})).json();console.log(fe);const Z=await(await fetch("/api/getnews")).json();Ue.update(ae=>Z.length),e(4,u="New target created!"),e(2,s=!0)}}catch(N){return console.warn(N),e(4,u=`error updating, ${N}`),e(2,s=!0),!1}}async function q(){e(4,u="deleting..."),e(2,s=!1),await fetch("/api/delete",{...p,body:JSON.stringify({id:c.id})}),k(),e(4,u=`${c.id} deleted!`),e(2,s=!0)}async function A(N){if(console.log(N),o){e(4,u="checking url...");const P=await fetch("/api/trymeta",{...p,body:JSON.stringify({link:c.link})});if(P.ok){const I=await P.json();console.log(I),e(1,c.name=I.name===""?c.name:I.name,c),e(1,c.thumb=I.thumb===""?c.thumb:I.thumb,c),e(4,u=I.name!=""||I.thumb!=""?"fetched metadata from url":"metadata not available")}else e(4,u="page is not available right now")}}dt(async()=>{for(const N in c)d.get(N)&&(typeof c[N]=="string"?e(1,c[N]=d.get(N),c):typeof c[N]=="boolean"?e(1,c[N]=d.get(N)==="true",c):typeof c[N]=="object"&&e(1,c[N]=d.get(N).split(","),c));if(d.get("id")){e(4,u="fetching data...");const N=await fetch(`/api/channels/${d.get("id")}`);if(N.ok){const P=await N.json();for(const I in c)e(1,c[I]=P[I],c);e(4,u=`Updating ${c.id}`),e(0,r=c.contains.toString()),e(5,f=await(await fetch("/api/getnews")).json()),console.log(P)}else k(),e(4,u="Url id not found")}e(2,s=!0)});function T(){c.link=this.value,e(1,c),e(0,r)}const b=()=>A(c.link),g=()=>A(c.link);function m(){c.name=this.value,e(1,c),e(0,r)}function D(){c.observeName=this.value,e(1,c),e(0,r)}function z(){r=this.value,e(0,r)}function _(){c.thumb=this.value,e(1,c),e(0,r)}function R(){c.meta=this.value,e(1,c),e(0,r)}function j(){c.newestOnTop=this.checked,e(1,c),e(0,r)}function F(){c.dead=this.checked,e(1,c),e(0,r)}const V=N=>N.channelid===c.id;return n.$$.update=()=>{n.$$.dirty&3&&(e(1,c.contains=r===""?[]:r.split(","),c),e(3,o=v(c.link)))},[r,c,s,o,u,f,k,L,S,q,A,T,b,g,m,D,z,_,R,j,F,V]}class Yn extends Se{constructor(t){super(),Oe(this,t,Xn,Wn,ze,{})}}class Kn extends Se{constructor(t){super(),Oe(this,t,null,null,ze,{})}}function Gn(n){let t,e,l,s,o,r,u,f,d,c,p,y,v,k,L,S,q;return document.title=t=n[0]+" ibhub",S=new Sn({props:{routes:{"/":Dn,"/feed":qn,"/new":Yn,"/about":Kn}}}),{c(){e=h("style"),e.textContent=`:root {
			--alert:#fb0000;
			--news:#fb0000;
			--header-bg: #e04001;
			--main-font-1: #800000;
			--main-font-2: #800000;
			--button-bg:#800000;
			--button-color:#ffffee;
			--header-color:#ffffee;
			--card-bg: #f0e0d6;
			--container-bg:#ffffee;
			--gradient-col-1:#fed6af;
			--gradient-col-2:#ffffee;
			--container:1300px;
		}
		body {
			background: var(--gradient-col-1);
			background: linear-gradient(0deg, var(--gradient-col-2) 0%, var(--gradient-col-1) 80%);
			background-repeat: no-repeat;
			background-attachment: fixed;
		}`,l=w(),s=h("main"),o=h("nav"),r=h("a"),r.textContent="Channels",u=w(),f=h("a"),d=U(`Feed 
			`),c=h("strong"),p=U(n[0]),y=w(),v=h("a"),v.textContent="Add",k=w(),L=h("div"),Pe(S.$$.fragment),i(r,"href","/#/"),i(r,"class","svelte-fzuuh4"),X(r,"active",n[1]==="/"),i(f,"href","/#/feed"),i(f,"class","svelte-fzuuh4"),X(f,"active",n[1]==="/feed"),i(v,"href","/#/new"),i(v,"class","svelte-fzuuh4"),X(v,"active",n[1]==="/new"),i(o,"class","svelte-fzuuh4"),i(L,"class","app svelte-fzuuh4")},m(A,T){a(document.head,e),O(A,l,T),O(A,s,T),a(s,o),a(o,r),a(o,u),a(o,f),a(f,d),a(f,c),a(c,p),a(o,y),a(o,v),a(s,k),a(s,L),Ee(S,L,null),q=!0},p(A,[T]){(!q||T&1)&&t!==(t=A[0]+" ibhub")&&(document.title=t),T&2&&X(r,"active",A[1]==="/"),(!q||T&1)&&$(p,A[0]),T&2&&X(f,"active",A[1]==="/feed"),T&2&&X(v,"active",A[1]==="/new")},i(A){q||(be(S.$$.fragment,A),q=!0)},o(A){ye(S.$$.fragment,A),q=!1},d(A){E(e),A&&E(l),A&&E(s),Ne(S)}}}function Hn(n,t,e){let l,s;at(n,Ue,r=>e(2,l=r)),at(n,jn,r=>e(1,s=r)),(async()=>{const r=await(await fetch("/api/getnews")).json();Ue.update(u=>r.length)})();let o="";return n.$$.update=()=>{n.$$.dirty&4&&(l>0?e(0,o=`(${l})`):e(0,o=""))},[o,s,l]}class Qn extends Se{constructor(t){super(),Oe(this,t,Hn,Gn,ze,{})}}new Qn({target:document.getElementById("app")});
